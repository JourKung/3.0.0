(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{755:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(237),s=n(265),i=n.n(s),c=(n(252),n(264)),l=n.n(c),u=n(80),p=n.n(u),d=n(262),h=n.n(d),k=n(729),m=n(338),g=n.n(m),b=n(337),v=n.n(b),E=(n(83),n(268)),f=n.n(E);function w(e){var t=e.onClose;return a.a.createElement(k.Dialog,{haveCloseButton:!0,backdrop:!0,title:"Redeem ticket",buttons:[{text:"Close",onPress:t}],open:!0,closeOnEscape:!0,onClose:t},a.a.createElement(y,null))}n(331),n(329),f.a.initializeApp({apiKey:"AIzaSyCNk1PljsNsYRgvZ98_KYVqotkRojt24kk",authDomain:"reactbkk3.firebaseapp.com",databaseURL:"https://reactbkk3.firebaseio.com",projectId:"reactbkk3",storageBucket:"reactbkk3.appspot.com",messagingSenderId:"666406395956"}),Object.assign(window,{firebase:f.a});var y=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(a))||this,n.state={status:"initial",error:"",code:""},n.signIn=l()(i.a.mark(function e(){var t,r,a,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({status:"signingIn"}),e.prev=1,e.prev=2,e.next=5,f.a.auth().signInWithPopup(new f.a.auth.GithubAuthProvider);case 5:t=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),n.setState({status:"error",error:"Cannot sign in: "+e.t0}),e.abrupt("return");case 12:return r=t.user.providerData[0].uid,n.setState({status:"checking"}),e.prev=14,e.next=17,f.a.firestore().collection("github_users").doc(r).get();case 17:a=e.sent,e.next=24;break;case 20:return e.prev=20,e.t1=e.catch(14),n.setState({status:"error",error:"Cannot check: "+e.t1}),e.abrupt("return");case 24:o=a.data(),n.setState({status:"checked",code:o&&o.code}),e.next=31;break;case 28:e.prev=28,e.t2=e.catch(1),n.setState({status:"error",error:"Unknown error: "+e.t2});case 31:case"end":return e.stop()}},e,this,[[1,28],[2,8],[14,20]])})),n.openEventPop=function(){window.open("https://www.eventpop.me/e/3607-react-bangkok-3-0-0","_blank")},t||h()(n)}return t.prototype.render=function(){return"error"===this.state.status?a.a.createElement("div",null,a.a.createElement("p",{className:Object(o.css)({color:"red"})},a.a.createElement("strong",null,"Error:")," ",this.state.error)):"signingIn"===this.state.status?a.a.createElement(k.Preloader,{kind:"linear",labelAlign:"center",subtitle:"Signing in...",indeterminate:!0}):"checking"===this.state.status?a.a.createElement(k.Preloader,{kind:"linear",labelAlign:"center",subtitle:"Looking for your ticket...",indeterminate:!0}):"checked"===this.state.status?this.state.code?a.a.createElement("div",null,a.a.createElement("p",null,"Congratulations! You receive a free ticket."),a.a.createElement("p",null,"Use the code ",a.a.createElement("strong",null,this.state.code)," to redeem your free ticket."),a.a.createElement(k.Button,{text:"Get your free ticket!",subtitle:"Go to Event Pop",colorScheme:"primary",iconPositionRight:!0,icon:a.a.createElement(v.a,null),onPress:this.openEventPop})):a.a.createElement("div",null,a.a.createElement("p",null,"Sorry, we cannot find the ticket associated with your account...")):a.a.createElement("div",null,a.a.createElement("p",null,"To redeem your ticket, please first sign in with GitHub..."),a.a.createElement(k.Button,{text:"Sign in with GitHub",colorScheme:"primary",size:"large",icon:a.a.createElement(g.a,null),onPress:this.signIn}))},p()(t,e),t}(a.a.Component);function S(e){var t=e.onClose;return a.a.createElement(w,{onClose:t})}n.d(t,"renderDialog",function(){return S})}}]);
//# sourceMappingURL=redeem-6d6dfee94bf80bc99f02.js.map