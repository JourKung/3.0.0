(window.webpackJsonp=window.webpackJsonp||[]).push([[5],Array(236).concat([function(t,e,n){"use strict";e.__esModule=!0;var r,i=(r=n(283))&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={default:n(405),__esModule:!0}},function(t,e,n){"use strict";n.r(e),function(t,r){n.d(e,"css",function(){return U}),n.d(e,"keyframes",function(){return Ft}),n.d(e,"injectGlobal",function(){return jt}),n.d(e,"isStyledComponent",function(){return C}),n.d(e,"consolidateStreamedStyles",function(){return N}),n.d(e,"ThemeProvider",function(){return It}),n.d(e,"withTheme",function(){return Dt}),n.d(e,"ServerStyleSheet",function(){return ht}),n.d(e,"StyleSheetManager",function(){return lt}),n.d(e,"__DO_NOT_USE_OR_YOU_WILL_BE_HAUNTED_BY_SPOOKY_GHOSTS",function(){return Rt});var i=n(394),o=n.n(i),a=n(392),s=n.n(a),u=n(300),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(104),m=n.n(p),y=n(391),g=/([A-Z])/g,v=/^ms-/,b=function(t){return function(t){return t.replace(g,"-$1").toLowerCase()}(t).replace(v,"-ms-")},w=function t(e,n){return e.reduce(function(e,r){return void 0===r||null===r||!1===r||""===r?e:Array.isArray(r)?[].concat(e,t(r,n)):r.hasOwnProperty("styledComponentId")?[].concat(e,["."+r.styledComponentId]):"function"==typeof r?n?e.concat.apply(e,t([r(n)],n)):e.concat(r):e.concat(o()(r)?function t(e,n){var r=Object.keys(e).filter(function(t){var n=e[t];return void 0!==n&&null!==n&&!1!==n&&""!==n}).map(function(n){return o()(e[n])?t(e[n],n):b(n)+": "+e[n]+";"}).join(" ");return n?n+" {\n  "+r+"\n}":r}(r):r.toString())},[])},E=new s.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),T=new s.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),S=[],k=function(t){if(-2===t){var e=S;return S=[],e}},I=c()(function(t){S.push(t)});T.use([I,k]),E.use([I,k]);var A=function(t,e,n){var r=t.join("").replace(/^\s*\/\/.*$/gm,"");return T(n||!e?"":e,e&&n?n+" "+e+" { "+r+" }":r)};function C(t){return"function"==typeof t&&"string"==typeof t.styledComponentId}function N(){}var _,O=function(t){return String.fromCharCode(t+(t>25?39:97))},x=function(t){var e="",n=void 0;for(n=t;n>52;n=Math.floor(n/52))e=O(n%52)+e;return O(n%52)+e},D=function(t,e){return e.reduce(function(e,n,r){return e.concat(n,t[r+1])},[t[0]])},R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},j=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},B=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},U=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Array.isArray(t)||"object"!==(void 0===t?"undefined":R(t))?w(D(t,n)):w(D([],[t].concat(n)))},V=void 0!==t&&Object({NODE_ENV:"production",PUBLIC_DIR:"/home/circleci/reactbkk3/public"}).SC_ATTR||"data-styled-components",q="__styled-components-stylesheet__",H="undefined"!=typeof window&&"HTMLElement"in window,K=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,W=function(t){var e=""+(t||""),n=[];return e.replace(K,function(t,e,r){return n.push({componentId:e,matchIndex:r}),t}),n.map(function(t,r){var i=t.componentId,o=t.matchIndex,a=n[r+1];return{componentId:i,cssFromDOM:a?e.slice(o,a.matchIndex):e.slice(o)}})},G=function(){return n.nc},z=function(t,e,n){n&&((t[e]||(t[e]=Object.create(null)))[n]=!0)},Q=function(t,e){t[e]=Object.create(null)},X=function(t){return function(e,n){return void 0!==t[e]&&t[e][n]}},Y=function(t){var e="";for(var n in t)e+=Object.keys(t[n]).join(" ")+" ";return e.trim()},J=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets.length,n=0;n<e;n+=1){var r=document.styleSheets[n];if(r.ownerNode===t)return r}throw new Error},$=function(t,e,n){if(!e)return!1;var r=t.cssRules.length;try{t.insertRule(e,n<=r?n:r)}catch(t){return!1}return!0},Z=function(){throw new Error("")},tt=function(t){return"\n/* sc-component-id: "+t+" */\n"},et=function(t,e){for(var n=0,r=0;r<=e;r+=1)n+=t[r];return n},nt=function(t,e){return function(n){var r=G();return"<style "+[r&&'nonce="'+r+'"',V+'="'+Y(e)+'"',n].filter(Boolean).join(" ")+">"+t()+"</style>"}},rt=function(t,e){return function(){var n,r=((n={})[V]=Y(e),n),i=G();return i&&(r.nonce=i),h.a.createElement("style",L({},r,{dangerouslySetInnerHTML:{__html:t()}}))}},it=function(t){return function(){return Object.keys(t)}},ot=function(t,e,n,r,i){return H&&!n?function(t,e){var n=Object.create(null),r=Object.create(null),i=[],o=void 0!==e,a=!1,s=function(t){var e=r[t];if(void 0!==e)return e;var o=r[t]=i.length;return i.push(0),Q(n,t),o},u=function(){var e=J(t).cssRules,n="";for(var o in r){n+=tt(o);for(var a=r[o],s=et(i,a),u=s-i[a];u<s;u+=1){var c=e[u];void 0!==c&&(n+=c.cssText)}}return n};return{styleTag:t,getIds:it(r),hasNameForId:X(n),insertMarker:s,insertRules:function(r,u,c){for(var l=s(r),h=J(t),f=et(i,l),d=0,p=[],m=u.length,y=0;y<m;y+=1){var g=u[y],v=o;v&&-1!==g.indexOf("@import")?p.push(g):$(h,g,f+d)&&(v=!1,d+=1)}o&&p.length>0&&(a=!0,e().insertRules(r+"-import",p)),i[l]+=d,z(n,r,c)},removeRules:function(s){var u=r[s];if(void 0!==u){var c=i[u];!function(t,e,n){for(var r=e-c,i=e;i>r;i-=1)t.deleteRule(i)}(J(t),et(i,u)),i[u]=0,Q(n,s),o&&a&&e().removeRules(s+"-import")}},css:u,toHTML:nt(u,n),toElement:rt(u,n),clone:Z}}(function(t,e,n){var r=document.createElement("style");r.setAttribute(V,"");var i=G();if(i&&r.setAttribute("nonce",i),r.appendChild(document.createTextNode("")),t&&!e)t.appendChild(r);else{if(!e||!t||!e.parentNode)throw new Error("");e.parentNode.insertBefore(r,n?e:e.nextSibling)}return r}(t,e,r),i):function t(e,n){var r=void 0===e?Object.create(null):e,i=void 0===n?Object.create(null):n,o=function(t){var e=i[t];return void 0!==e?e:i[t]=[""]},a=function(){var t="";for(var e in i){var n=i[e][0];n&&(t+=tt(e)+n)}return t};return{styleTag:null,getIds:it(i),hasNameForId:X(r),insertMarker:o,insertRules:function(t,e,n){o(t)[0]+=e.join(" "),z(r,t,n)},removeRules:function(t){var e=i[t];void 0!==e&&(e[0]="",Q(r,t))},css:a,toHTML:nt(a,r),toElement:rt(a,r),clone:function(){var e=function(t){var e=Object.create(null);for(var n in t)e[n]=L({},t[n]);return e}(r),n=Object.create(null);for(var o in i)n[o]=[i[o][0]];return t(e,n)}}}()};_=H?1e3:-1;var at,st=0,ut=void 0,ct=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H?document.head:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];P(this,t),this.getImportRuleTag=function(){var t=e.importRuleTag;if(void 0!==t)return t;var n=e.tags[0];return e.importRuleTag=ot(e.target,n?n.styleTag:null,e.forceServer,!0)},this.id=st+=1,this.sealed=!1,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return t.prototype.rehydrate=function(){if(!H||this.forceServer)return this;var t=[],e=[],n=[],r=!1,i=document.querySelectorAll("style["+V+"]"),o=i.length;if(0===o)return this;for(var a=0;a<o;a+=1){var s=i[a];r=!!s.getAttribute("data-styled-streamed")||r;for(var u=(s.getAttribute(V)||"").trim().split(/\s+/),c=u.length,l=0;l<c;l+=1){var h=u[l];this.rehydratedNames[h]=!0,e.push(h)}n=n.concat(W(s.textContent)),t.push(s)}var f=n.length;if(0===f)return this;var d=function(t,e,n,r,i){var o,a,s=(o=function(){for(var r=0;r<n.length;r+=1){var i=n[r],o=i.componentId,a=i.cssFromDOM,s=E("",a);t.insertRules(o,s)}for(var u=0;u<e.length;u+=1){var c=e[u];c.parentNode&&c.parentNode.removeChild(c)}},a=!1,function(){a||(a=!0,o())});return i&&s(),L({},t,{insertMarker:function(e){return s(),t.insertMarker(e)},insertRules:function(e,n,r){return s(),t.insertRules(e,n,r)}})}(this.makeTag(null),t,n,0,r);this.capacity=Math.max(1,_-f),this.tags.push(d);for(var p=0;p<f;p+=1)this.tagMap[n[p].componentId]=d;return this},t.reset=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ut=new t(void 0,e).rehydrate()},t.prototype.clone=function(){var e=new t(this.target,this.forceServer);return this.clones.push(e),e.tags=this.tags.map(function(t){for(var n=t.getIds(),r=t.clone(),i=0;i<n.length;i+=1)e.tagMap[n[i]]=r;return r}),e.rehydratedNames=L({},this.rehydratedNames),e.deferred=L({},this.deferred),e},t.prototype.sealAllTags=function(){this.capacity=1,this.sealed=!0},t.prototype.makeTag=function(t){var e=t?t.styleTag:null;return ot(this.target,e,this.forceServer,!1,this.getImportRuleTag)},t.prototype.getTagForId=function(t){var e=this.tagMap[t];if(void 0!==e&&!this.sealed)return e;var n=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=_,this.sealed=!1,n=this.makeTag(n),this.tags.push(n)),this.tagMap[t]=n},t.prototype.hasId=function(t){return void 0!==this.tagMap[t]},t.prototype.hasNameForId=function(t,e){if(void 0===this.ignoreRehydratedNames[t]&&this.rehydratedNames[e])return!0;var n=this.tagMap[t];return void 0!==n&&n.hasNameForId(t,e)},t.prototype.deferredInject=function(t,e){if(void 0===this.tagMap[t]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(t,e);this.getTagForId(t).insertMarker(t),this.deferred[t]=e}},t.prototype.inject=function(t,e,n){for(var r=this.clones,i=0;i<r.length;i+=1)r[i].inject(t,e,n);var o=e,a=this.deferred[t];void 0!==a&&(o=a.concat(o),delete this.deferred[t]),this.getTagForId(t).insertRules(t,o,n)},t.prototype.remove=function(t){var e=this.tagMap[t];if(void 0!==e){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(t);e.removeRules(t),this.ignoreRehydratedNames[t]=!0,delete this.deferred[t]}},t.prototype.toHTML=function(){return this.tags.map(function(t){return t.toHTML()}).join("")},t.prototype.toReactElements=function(){var t=this.id;return this.tags.map(function(e,n){var r="sc-"+t+"-"+n;return Object(l.cloneElement)(e.toElement(),{key:r})})},M(t,null,[{key:"master",get:function(){return ut||(ut=(new t).rehydrate())}},{key:"instance",get:function(){return t.master}}]),t}(),lt=function(t){function e(){return P(this,e),B(this,t.apply(this,arguments))}return F(e,t),e.prototype.getChildContext=function(){var t;return(t={})[q]=this.sheetInstance,t},e.prototype.componentWillMount=function(){if(this.props.sheet)this.sheetInstance=this.props.sheet;else{if(!this.props.target)throw new Error("");this.sheetInstance=new ct(this.props.target)}},e.prototype.render=function(){return h.a.Children.only(this.props.children)},e}(l.Component);lt.childContextTypes=((at={})[q]=d.a.oneOfType([d.a.instanceOf(ct),d.a.instanceOf(ht)]).isRequired,at);var ht=function(){function t(){P(this,t),this.masterSheet=ct.master,this.instance=this.masterSheet.clone(),this.closed=!1}return t.prototype.complete=function(){if(!this.closed){var t=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(t,1),this.closed=!0}},t.prototype.collectStyles=function(t){if(this.closed)throw new Error("");return h.a.createElement(lt,{sheet:this.instance},t)},t.prototype.getStyleTags=function(){return this.complete(),this.instance.toHTML()},t.prototype.getStyleElement=function(){return this.complete(),this.instance.toReactElements()},t.prototype.interleaveWithNodeStream=function(t){throw new Error("")},t}(),ft=function(t,e,n){var r=n&&t.theme===n.theme;return t.theme&&!r?t.theme:e},dt=/[[\].#*$><+~=|^:(),"'`-]+/g,pt=/(^-|-$)/g;function mt(t){return t.replace(dt,"-").replace(pt,"")}function yt(t){return t.displayName||t.name||"Component"}function gt(t){return"string"==typeof t}var vt,bt,wt=/^((?:s(?:uppressContentEditableWarn|croll|pac)|(?:shape|image|text)Render|(?:letter|word)Spac|vHang|hang)ing|(?:on(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:Animation|Touch|Load|Drag)Start|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|TimeUpdate|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|MouseDown|P(?:rogress|laying)|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|KeyPress|DragEnd|Key(?:Down|Up)|(?:Wait|Seek)ing|(?:MouseU|Dro)p|Scroll|Paste|Focus|Abort|Drag|Play|Load|Blur|Invalid)Captur|alignmentBaselin|(?:limitingConeAng|xlink(?:(?:Arcr|R)o|Tit)|s(?:urfaceSca|ty|ca)|unselectab|baseProfi|fontSty|(?:focus|dragg)ab|multip|profi|tit)l|d(?:ominantBaselin|efaultValu)|a(?:uto(?:Capitaliz|Revers|Sav)|dditiv)|(?:(?:formNoValid|xlinkActu|noValid|accumul|rot)a|autoComple|decelera)t|(?:(?:attribute|item)T|datat)yp|(?:attribute|glyph)Nam|playsInlin|(?:formE|e)ncTyp|(?:writing|input|edge)Mod|(?:xlinkTy|itemSco|keyTy|slo)p|(?:amplitu|mo)d|(?:xmlSpa|non)c|fillRul|(?:dateTi|na)m|r(?:esourc|ol)|xmlBas|wmod)e|(?:glyphOrientationHorizont|loc)al|(?:externalResourcesRequir|select|revers|mut)ed|c(?:o(?:lorInterpolationFilter|ord)s|o(?:lor(?:Interpolation)?|nt(?:rols|ent))|(?:ontentS(?:cript|tyle)Typ|o(?:ntentEditab|lorProfi)l|l(?:assNam|ipRul)|a(?:lcMod|ptur)|it)e|olorRendering|l(?:ipPathUnits|assID)|(?:ontrolsLis|apHeigh)t|h(?:eckedLink|a(?:llenge|rSet)|ildren|ecked)|ell(?:Spac|Padd)ing|o(?:ntextMenu|ls)|(?:rossOrigi|olSpa)n|lip(?:Path)?|ursor|[xy])|glyphOrientationVertical|d(?:angerouslySetInnerHTML|efaultChecked|ownload|isabled|isplay|[xy])|(?:s(?:trikethroughThickn|eaml)es|(?:und|ov)erlineThicknes|r(?:equiredExtension|adiu)|(?:requiredFeatur|tableValu|stitchTil|numOctav|filterR)e|key(?:(?:Splin|Tim)e|Param)|autoFocu|header|bia)s|(?:(?:st(?:rikethroughPosi|dDevia)|(?:und|ov)erlinePosi|(?:textDecor|elev)a|orienta)tio|(?:strokeLinejo|orig)i|formActio|zoomAndPa|onFocusI|directio|(?:vers|act)io|rowSpa|begi|ico)n|o(?:n(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:Animation|Touch|Load|Drag)Start|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|TimeUpdate|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|MouseDown|P(?:rogress|laying)|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|KeyPress|DragEnd|Key(?:Down|Up)|(?:Wait|Seek)ing|(?:MouseU|Dro)p|Scroll|Paste|Focus|Abort|Drag|Play|Load|Blur|Invalid)|rient)|p(?:reserveA(?:spectRatio|lpha)|ointsAt[X-Z]|anose1)|(?:patternContent|ma(?:sk(?:Content)?|rker)|primitive|gradient|pattern|filter)Units|(?:gradientT|patternT|t)ransform|(?:(?:allowTranspar|baseFrequ)enc|re(?:ferrerPolic|adOnl)|(?:(?:st(?:roke|op)O|floodO|fillO|o)pac|integr|secur)it|visibilit|fontFamil|accessKe|propert|summar)y|(?:strokeMiterlimi|(?:specularConsta|repeatCou|fontVaria)n|(?:(?:specularE|e)xpon|renderingInt|asc)en|d(?:iffuseConsta|esce)n|(?:fontSizeAdju|lengthAdju|manife)s|baselineShif|vectorEffec|(?:(?:mar(?:ker|gin)|x)H|accentH|fontW)eigh|a(?:utoCorrec|bou)|markerStar|onFocusOu|intercep|restar|forma|inlis|heigh|lis)t|(?:(?:st(?:rokeDasho|artO)|o)ffs|acceptChars|formTarg|viewTarg|srcS)et|(?:(?:enableBackgrou|markerE)n|s(?:p(?:readMetho|ee)|ee)|formMetho|m(?:arkerMi|etho)|preloa|kin)d|k(?:ernel(?:UnitLength|Matrix)|[1-4])|(?:[xy]ChannelSelect|lightingCol|textAnch|floodCol|stopCol|operat|htmlF)or|(?:allowFullScre|hidd)en|strokeDasharray|systemLanguage|(?:strokeLineca|itemPro|useMa|wra|loo)p|v(?:Mathematical|ert(?:Origin[XY]|AdvY)|alues|ocab)|(?:pointerEve|keyPoi)nts|unicodeRange|(?:(?:allowReord|placehold|frameBord|paintOrd|post|ord)e|repeatDu|d(?:efe|u))r|mathematical|(?:vI|i)deographic|h(?:oriz(?:Origin|Adv)X|ttpEquiv)|u(?:nicodeBidi|[12])|(?:fontStretc|hig)h|(?:(?:mar(?:ker|gin)W|strokeW)id|azimu)th|vAlphabetic|mediaGroup|spellCheck|(?:unitsPerE|optimu|fro)m|r(?:adioGroup|e(?:sults|f[XY]|l)|ows|[xy])|(?:xmlnsXl|valueL)ink|a(?:rabicForm|l(?:phabetic|t)|sync)|pathLength|(?:text|m(?:in|ax))Length|innerHTML|xlinkShow|(?:xlinkHr|glyphR)ef|r(?:e(?:quired|sult|f))?|o(?:verflow|pen)|(?:tabInde|(?:sand|b)bo|viewBo)x|(?:(?:href|xml|src)La|kerni)ng|f(?:o(?:ntSize|rm)|il(?:ter|l))|autoPlay|unicode|p(?:attern|oints)|t(?:arget[XY]|o)|i(?:temRef|n2|s)|divisor|d(?:efault|ata|ir)?|srcDoc|s(?:coped|te(?:m[hv]|p)|pan)|(?:width|size)s|(?:stri|la)ng|prefix|itemID|s(?:t(?:roke|art)|hape|cope|rc)|a(?:ccept|s)|t(?:arget|ype)|typeof|width|value|x(?:mlns)?|label|m(?:edia|a(?:sk|x)|in)|size|href|k(?:ey)?|end|low|x[12]|i[dn]|y[12]|g[12]|by|f[xy]|[yz])$/,Et=RegExp.prototype.test.bind(new RegExp("^(x|data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),Tt="__styled-components__",St=Tt+"next__",kt=d.a.shape({getTheme:d.a.func,subscribe:d.a.func,unsubscribe:d.a.func}),It=function(t){function e(){P(this,e);var n=B(this,t.call(this));return n.unsubscribeToOuterId=-1,n.getTheme=n.getTheme.bind(n),n}return F(e,t),e.prototype.componentWillMount=function(){var t=this,e=this.context[St];void 0!==e&&(this.unsubscribeToOuterId=e.subscribe(function(e){t.outerTheme=e,void 0!==t.broadcast&&t.publish(t.props.theme)})),this.broadcast=function(t){var e={},n=0,r=t;return{publish:function(t){for(var n in r=t,e){var i=e[n];void 0!==i&&i(r)}},subscribe:function(t){var i=n;return e[i]=t,n+=1,t(r),i},unsubscribe:function(t){e[t]=void 0}}}(this.getTheme())},e.prototype.getChildContext=function(){var t,e=this;return L({},this.context,((t={})[St]={getTheme:this.getTheme,subscribe:this.broadcast.subscribe,unsubscribe:this.broadcast.unsubscribe},t[Tt]=function(t){var n=e.broadcast.subscribe(t);return function(){return e.broadcast.unsubscribe(n)}},t))},e.prototype.componentWillReceiveProps=function(t){this.props.theme!==t.theme&&this.publish(t.theme)},e.prototype.componentWillUnmount=function(){-1!==this.unsubscribeToOuterId&&this.context[St].unsubscribe(this.unsubscribeToOuterId)},e.prototype.getTheme=function(t){var e=t||this.props.theme;if("function"==typeof e)return e(this.outerTheme);if(!o()(e))throw new Error("");return L({},this.outerTheme,e)},e.prototype.publish=function(t){this.broadcast.publish(this.getTheme(t))},e.prototype.render=function(){return this.props.children?h.a.Children.only(this.props.children):null},e}(l.Component);It.childContextTypes=((vt={})[Tt]=d.a.func,vt[St]=kt,vt),It.contextTypes=((bt={})[St]=kt,bt);var At={};function Ct(t){for(var e,n=0|t.length,r=0|n,i=0;n>=4;)e=1540483477*(65535&(e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24))+((1540483477*(e>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(e=1540483477*(65535&(e^=e>>>24))+((1540483477*(e>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&t.charCodeAt(i+2))<<16;case 2:r^=(255&t.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}var Nt=H,_t=function t(e,n){for(var r=0;r<e.length;r+=1){var i=e[r];if(Array.isArray(i)&&!t(i))return!1;if("function"==typeof i&&!C(i))return!1}if(void 0!==n)for(var o in n)if("function"==typeof n[o])return!1;return!0},Ot=void 0!==r&&r.hot&&!1,xt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Dt=function(t){var e,n=t.displayName||t.name||"Component",r="function"==typeof t&&!(t.prototype&&"isReactComponent"in t.prototype),i=C(t)||r,o=function(e){function n(){var t,r;P(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=B(this,e.call.apply(e,[this].concat(o))),r.state={},r.unsubscribeId=-1,B(r,t)}return F(n,e),n.prototype.componentWillMount=function(){var t=this,e=this.constructor.defaultProps,n=this.context[St],r=ft(this.props,void 0,e);if(void 0===n&&void 0!==r)this.setState({theme:r});else{var i=n.subscribe;this.unsubscribeId=i(function(n){var r=ft(t.props,n,e);t.setState({theme:r})})}},n.prototype.componentWillReceiveProps=function(t){var e=this.constructor.defaultProps;this.setState(function(n){return{theme:ft(t,n.theme,e)}})},n.prototype.componentWillUnmount=function(){-1!==this.unsubscribeId&&this.context[St].unsubscribe(this.unsubscribeId)},n.prototype.render=function(){var e=L({theme:this.state.theme},this.props);return i||(e.ref=e.innerRef,delete e.innerRef),h.a.createElement(t,e)},n}(h.a.Component);return o.displayName="WithTheme("+n+")",o.styledComponentId="withTheme",o.contextTypes=((e={})[Tt]=d.a.func,e[St]=kt,e),m()(o,t)},Rt={StyleSheet:ct},Pt=function(t,e,n){var r=function(e){return t(Ct(e))};return function(){function t(e,n,r){if(P(this,t),this.rules=e,this.isStatic=!Ot&&_t(e,n),this.componentId=r,!ct.master.hasId(r)){ct.master.deferredInject(r,[])}}return t.prototype.generateAndInjectStyles=function(t,i){var o=this.isStatic,a=this.componentId,s=this.lastClassName;if(Nt&&o&&void 0!==s&&i.hasNameForId(a,s))return s;var u=e(this.rules,t),c=r(this.componentId+u.join(""));if(!i.hasNameForId(a,c)){var l=n(u,"."+c);i.inject(this.componentId,l,c)}return this.lastClassName=c,c},t.generateName=function(t){return r(t)},t}()}(x,w,A),Mt=function(t){return function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Object(y.isValidElementType)(r))throw new Error("");var o=function(){return n(r,i,t.apply(void 0,arguments))};return o.withConfig=function(t){return e(n,r,L({},i,t))},o.attrs=function(t){return e(n,r,L({},i,{attrs:L({},i.attrs||{},t)}))},o}}(U),Lt=function(t,e){var n={},r=function(t){function e(){var n,r;P(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=B(this,t.call.apply(t,[this].concat(o))),r.attrs={},r.state={theme:null,generatedClassName:""},r.unsubscribeId=-1,B(r,n)}return F(e,t),e.prototype.unsubscribeFromContext=function(){-1!==this.unsubscribeId&&this.context[St].unsubscribe(this.unsubscribeId)},e.prototype.buildExecutionContext=function(t,e){var n=this.constructor.attrs,r=L({},e,{theme:t});return void 0===n?r:(this.attrs=Object.keys(n).reduce(function(t,e){var i=n[e];return t[e]="function"==typeof i?i(r):i,t},{}),L({},r,this.attrs))},e.prototype.generateAndInjectStyles=function(t,e){var n=this.constructor,r=n.attrs,i=n.componentStyle,o=(n.warnTooManyClasses,this.context[q]||ct.master);if(i.isStatic&&void 0===r)return i.generateAndInjectStyles(At,o);var a=this.buildExecutionContext(t,e);return i.generateAndInjectStyles(a,o)},e.prototype.componentWillMount=function(){var t=this,e=this.constructor.componentStyle,n=this.context[St];if(e.isStatic){var r=this.generateAndInjectStyles(At,this.props);this.setState({generatedClassName:r})}else if(void 0!==n){var i=n.subscribe;this.unsubscribeId=i(function(e){var n=ft(t.props,e,t.constructor.defaultProps),r=t.generateAndInjectStyles(n,t.props);t.setState({theme:n,generatedClassName:r})})}else{var o=this.props.theme||{},a=this.generateAndInjectStyles(o,this.props);this.setState({theme:o,generatedClassName:a})}},e.prototype.componentWillReceiveProps=function(t){var e=this;this.constructor.componentStyle.isStatic||this.setState(function(n){var r=ft(t,n.theme,e.constructor.defaultProps);return{theme:r,generatedClassName:e.generateAndInjectStyles(r,t)}})},e.prototype.componentWillUnmount=function(){this.unsubscribeFromContext()},e.prototype.render=function(){var t=this,e=this.props.innerRef,n=this.state.generatedClassName,r=this.constructor,i=r.styledComponentId,o=r.target,a=gt(o),s=[this.props.className,i,this.attrs.className,n].filter(Boolean).join(" "),u=L({},this.attrs,{className:s});C(o)?u.innerRef=e:u.ref=e;var c=Object.keys(this.props).reduce(function(e,n){var r;return"innerRef"===n||"className"===n||a&&(r=n,!wt.test(r)&&!Et(r.toLowerCase()))||(e[n]=t.props[n]),e},u);return Object(l.createElement)(o,c)},e}(l.Component);return function i(o,a,s){var u,c=a.isClass,l=void 0===c?!gt(o):c,h=a.displayName,f=void 0===h?function(t){return gt(t)?"styled."+t:"Styled("+yt(t)+")"}(o):h,p=a.componentId,y=void 0===p?function(e,r){var i="string"!=typeof e?"sc":mt(e),o=void 0;if(e)o=i+"-"+t.generateName(i);else{var a=(n[i]||0)+1;n[i]=a,o=i+"-"+t.generateName(i+a)}return void 0!==r?r+"-"+o:o}(a.displayName,a.parentComponentId):p,g=a.ParentComponent,v=void 0===g?r:g,b=a.rules,w=a.attrs,E=a.displayName&&a.componentId?mt(a.displayName)+"-"+a.componentId:y,T=new t(void 0===b?s:b.concat(s),w,E),S=function(t){function n(){return P(this,n),B(this,t.apply(this,arguments))}return F(n,t),n.withComponent=function(t){var e=a.componentId,r=j(a,["componentId"]),o=e&&e+"-"+(gt(t)?t:mt(yt(t))),u=L({},r,{componentId:o,ParentComponent:n});return i(t,u,s)},M(n,null,[{key:"extend",get:function(){var t=a.rules,r=a.componentId,u=j(a,["rules","componentId"]),c=void 0===t?s:t.concat(s),l=L({},u,{rules:c,parentComponentId:r,ParentComponent:n});return e(i,o,l)}}]),n}(v);return S.contextTypes=((u={})[Tt]=d.a.func,u[St]=kt,u[q]=d.a.oneOfType([d.a.instanceOf(ct),d.a.instanceOf(ht)]),u),l&&m()(S,o),S.displayName=f,S.styledComponentId=E,S.attrs=w,S.componentStyle=T,S.target=o,S}}(Pt,Mt),Ft=function(t,e,n){return function(){var r=ct.master,i=n.apply(void 0,arguments),o=t(Ct(JSON.stringify(i).replace(/\s|\\n/g,""))),a="sc-keyframes-"+o;return r.hasNameForId(a,o)||r.inject(a,e(i,o,"@keyframes"),o),o}}(x,A,U),jt=function(t,e){return function(){var n=ct.master,r=e.apply(void 0,arguments),i="sc-global-"+Ct(JSON.stringify(r));n.hasId(i)||n.inject(i,t(r))}}(A,U),Bt=function(t,e){var n=function(n){return e(t,n)};return xt.forEach(function(t){n[t]=n(t)}),n}(Lt,Mt);e.default=Bt}.call(this,n(257),n(395)(t))},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(401)),i=o(n(398));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){return(0,i.default)((0,r.default)(t,{raw:{value:(0,i.default)(e)}}))}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=(r=n(284))&&r.__esModule?r:{default:r};e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";var r=n(274),i=n(359),o=Object.prototype.toString;function a(t){return"[object Array]"===o.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function c(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}},,function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"R50",function(){return f}),n.d(r,"R75",function(){return d}),n.d(r,"R100",function(){return p}),n.d(r,"R200",function(){return m}),n.d(r,"R300",function(){return y}),n.d(r,"R400",function(){return g}),n.d(r,"R500",function(){return v}),n.d(r,"Y50",function(){return b}),n.d(r,"Y75",function(){return w}),n.d(r,"Y100",function(){return E}),n.d(r,"Y200",function(){return T}),n.d(r,"Y300",function(){return S}),n.d(r,"Y400",function(){return k}),n.d(r,"Y500",function(){return I}),n.d(r,"G50",function(){return A}),n.d(r,"G75",function(){return C}),n.d(r,"G100",function(){return N}),n.d(r,"G200",function(){return _}),n.d(r,"G300",function(){return O}),n.d(r,"G400",function(){return x}),n.d(r,"G500",function(){return D}),n.d(r,"B50",function(){return R}),n.d(r,"B75",function(){return P}),n.d(r,"B100",function(){return M}),n.d(r,"B200",function(){return L}),n.d(r,"B300",function(){return F}),n.d(r,"B400",function(){return j}),n.d(r,"B500",function(){return B}),n.d(r,"P50",function(){return U}),n.d(r,"P75",function(){return V}),n.d(r,"P100",function(){return q}),n.d(r,"P200",function(){return H}),n.d(r,"P300",function(){return K}),n.d(r,"P400",function(){return W}),n.d(r,"P500",function(){return G}),n.d(r,"T50",function(){return z}),n.d(r,"T75",function(){return Q}),n.d(r,"T100",function(){return X}),n.d(r,"T200",function(){return Y}),n.d(r,"T300",function(){return J}),n.d(r,"T400",function(){return $}),n.d(r,"T500",function(){return Z}),n.d(r,"N0",function(){return tt}),n.d(r,"N10",function(){return et}),n.d(r,"N20",function(){return nt}),n.d(r,"N30",function(){return rt}),n.d(r,"N40",function(){return it}),n.d(r,"N50",function(){return ot}),n.d(r,"N60",function(){return at}),n.d(r,"N70",function(){return st}),n.d(r,"N80",function(){return ut}),n.d(r,"N90",function(){return ct}),n.d(r,"N100",function(){return lt}),n.d(r,"N200",function(){return ht}),n.d(r,"N300",function(){return ft}),n.d(r,"N400",function(){return dt}),n.d(r,"N500",function(){return pt}),n.d(r,"N600",function(){return mt}),n.d(r,"N700",function(){return yt}),n.d(r,"N800",function(){return gt}),n.d(r,"N900",function(){return vt}),n.d(r,"N10A",function(){return bt}),n.d(r,"N20A",function(){return wt}),n.d(r,"N30A",function(){return Et}),n.d(r,"N40A",function(){return Tt}),n.d(r,"N50A",function(){return St}),n.d(r,"N60A",function(){return kt}),n.d(r,"N70A",function(){return It}),n.d(r,"N80A",function(){return At}),n.d(r,"N90A",function(){return Ct}),n.d(r,"N100A",function(){return Nt}),n.d(r,"N200A",function(){return _t}),n.d(r,"N300A",function(){return Ot}),n.d(r,"N400A",function(){return xt}),n.d(r,"N500A",function(){return Dt}),n.d(r,"N600A",function(){return Rt}),n.d(r,"N700A",function(){return Pt}),n.d(r,"N800A",function(){return Mt}),n.d(r,"DN900",function(){return Lt}),n.d(r,"DN800",function(){return Ft}),n.d(r,"DN700",function(){return jt}),n.d(r,"DN600",function(){return Bt}),n.d(r,"DN500",function(){return Ut}),n.d(r,"DN400",function(){return Vt}),n.d(r,"DN300",function(){return qt}),n.d(r,"DN200",function(){return Ht}),n.d(r,"DN100",function(){return Kt}),n.d(r,"DN90",function(){return Wt}),n.d(r,"DN80",function(){return Gt}),n.d(r,"DN70",function(){return zt}),n.d(r,"DN60",function(){return Qt}),n.d(r,"DN50",function(){return Xt}),n.d(r,"DN40",function(){return Yt}),n.d(r,"DN30",function(){return Jt}),n.d(r,"DN20",function(){return $t}),n.d(r,"DN10",function(){return Zt}),n.d(r,"DN0",function(){return te}),n.d(r,"DN800A",function(){return ee}),n.d(r,"DN700A",function(){return ne}),n.d(r,"DN600A",function(){return re}),n.d(r,"DN500A",function(){return ie}),n.d(r,"DN400A",function(){return oe}),n.d(r,"DN300A",function(){return ae}),n.d(r,"DN200A",function(){return se}),n.d(r,"DN100A",function(){return ue}),n.d(r,"DN90A",function(){return ce}),n.d(r,"DN80A",function(){return le}),n.d(r,"DN70A",function(){return he}),n.d(r,"DN60A",function(){return fe}),n.d(r,"DN50A",function(){return de}),n.d(r,"DN40A",function(){return pe}),n.d(r,"DN30A",function(){return me}),n.d(r,"DN20A",function(){return ye}),n.d(r,"DN10A",function(){return ge}),n.d(r,"background",function(){return ve}),n.d(r,"backgroundActive",function(){return be}),n.d(r,"backgroundHover",function(){return we}),n.d(r,"backgroundOnLayer",function(){return Ee}),n.d(r,"text",function(){return Te}),n.d(r,"textHover",function(){return Se}),n.d(r,"textActive",function(){return ke}),n.d(r,"subtleText",function(){return Ie}),n.d(r,"placeholderText",function(){return Ae}),n.d(r,"heading",function(){return Ce}),n.d(r,"subtleHeading",function(){return Ne}),n.d(r,"codeBlock",function(){return _e}),n.d(r,"link",function(){return Oe}),n.d(r,"linkHover",function(){return xe}),n.d(r,"linkActive",function(){return De}),n.d(r,"linkOutline",function(){return Re}),n.d(r,"primary",function(){return Pe}),n.d(r,"blue",function(){return Me}),n.d(r,"teal",function(){return Le}),n.d(r,"purple",function(){return Fe}),n.d(r,"red",function(){return je}),n.d(r,"yellow",function(){return Be}),n.d(r,"green",function(){return Ue}),n.d(r,"colorPalette8",function(){return Ve}),n.d(r,"colorPalette16",function(){return qe}),n.d(r,"colorPalette24",function(){return He}),n.d(r,"colorPalette",function(){return Ke});var i={};n.r(i),n.d(i,"h900",function(){return rn}),n.d(i,"h800",function(){return on}),n.d(i,"h700",function(){return an}),n.d(i,"h600",function(){return sn}),n.d(i,"h500",function(){return un}),n.d(i,"h400",function(){return cn}),n.d(i,"h300",function(){return ln}),n.d(i,"h200",function(){return hn}),n.d(i,"h100",function(){return fn});var o={};n.r(o),n.d(o,"add",function(){return dn}),n.d(o,"subtract",function(){return pn}),n.d(o,"multiply",function(){return mn}),n.d(o,"divide",function(){return yn});var a=n(256),s=n.n(a),u="__ATLASKIT_THEME__",c=(n(282),{mode:"light"});function l(t){return t&&t.theme&&t.theme[u]?t.theme[u]:c}function h(t,e){if("string"==typeof t)return n=t,r=e,function(t){var e=l(t);if(t&&t[n]&&r){var i=r[t[n]];if(i)return i[e.mode]}return""};var n,r,i=t;return function(t){var e=l(t);return i[e.mode]}}var f="#FFEBE6",d="#FFBDAD",p="#FF8F73",m="#FF7452",y="#FF5630",g="#DE350B",v="#BF2600",b="#FFFAE6",w="#FFF0B3",E="#FFE380",T="#FFC400",S="#FFAB00",k="#FF991F",I="#FF8B00",A="#E3FCEF",C="#ABF5D1",N="#79F2C0",_="#57D9A3",O="#36B37E",x="#00875A",D="#006644",R="#DEEBFF",P="#B3D4FF",M="#4C9AFF",L="#2684FF",F="#0065FF",j="#0052CC",B="#0747A6",U="#EAE6FF",V="#C0B6F2",q="#998DD9",H="#8777D9",K="#6554C0",W="#5243AA",G="#403294",z="#E6FCFF",Q="#B3F5FF",X="#79E2F2",Y="#00C7E6",J="#00B8D9",$="#00A3BF",Z="#008DA6",tt="#FFFFFF",et="#FAFBFC",nt="#F4F5F7",rt="#EBECF0",it="#DFE1E6",ot="#C1C7D0",at="#B3BAC5",st="#A5ADBA",ut="#97A0AF",ct="#8993A4",lt="#7A869A",ht="#6B778C",ft="#5E6C84",dt="#505F79",pt="#42526E",mt="#344563",yt="#253858",gt="#172B4D",vt="#091E42",bt="rgba(9, 30, 66, 0.02)",wt="rgba(9, 30, 66, 0.04)",Et="rgba(9, 30, 66, 0.08)",Tt="rgba(9, 30, 66, 0.13)",St="rgba(9, 30, 66, 0.25)",kt="rgba(9, 30, 66, 0.31)",It="rgba(9, 30, 66, 0.36)",At="rgba(9, 30, 66, 0.42)",Ct="rgba(9, 30, 66, 0.48)",Nt="rgba(9, 30, 66, 0.54)",_t="rgba(9, 30, 66, 0.60)",Ot="rgba(9, 30, 66, 0.66)",xt="rgba(9, 30, 66, 0.71)",Dt="rgba(9, 30, 66, 0.77)",Rt="rgba(9, 30, 66, 0.82)",Pt="rgba(9, 30, 66, 0.89)",Mt="rgba(9, 30, 66, 0.95)",Lt="#E6EDFA",Ft="#DCE5F5",jt="#CED9EB",Bt="#B8C7E0",Ut="#ABBBD6",Vt="#9FB0CC",qt="#8C9CB8",Ht="#7988A3",Kt="#67758F",Wt="#56637A",Gt="#455166",zt="#3B475C",Qt="#313D52",Xt="#283447",Yt="#202B3D",Jt="#1B2638",$t="#121A29",Zt="#0E1624",te="#0D1424",ee="rgba(13, 20, 36, 0.06)",ne="rgba(13, 20, 36, 0.14)",re="rgba(13, 20, 36, 0.18)",ie="rgba(13, 20, 36, 0.29)",oe="rgba(13, 20, 36, 0.36)",ae="rgba(13, 20, 36, 0.40)",se="rgba(13, 20, 36, 0.47)",ue="rgba(13, 20, 36, 0.53)",ce="rgba(13, 20, 36, 0.63)",le="rgba(13, 20, 36, 0.73)",he="rgba(13, 20, 36, 0.78)",fe="rgba(13, 20, 36, 0.81)",de="rgba(13, 20, 36, 0.85)",pe="rgba(13, 20, 36, 0.89)",me="rgba(13, 20, 36, 0.92)",ye="rgba(13, 20, 36, 0.95)",ge="rgba(13, 20, 36, 0.97)",ve=h({light:tt,dark:Jt}),be=h({light:R,dark:P}),we=h({light:rt,dark:zt}),Ee=h({light:tt,dark:Xt}),Te=h({light:vt,dark:Bt}),Se=h({light:gt,dark:Bt}),ke=h({light:j,dark:j}),Ie=h({light:ft,dark:qt}),Ae=h({light:lt,dark:Ht}),Ce=h({light:gt,dark:Bt}),Ne=h({light:ft,dark:qt}),_e=h({light:nt,dark:Xt}),Oe=h({light:j,dark:M}),xe=h({light:F,dark:L}),De=h({light:B,dark:M}),Re=h({light:M,dark:L}),Pe=h({light:j,dark:M}),Me=h({light:j,dark:M}),Le=h({light:J,dark:Y}),Fe=h({light:K,dark:q}),je=h({light:y,dark:y}),Be=h({light:S,dark:S}),Ue=h({light:O,dark:O}),Ve=[{background:gt,text:tt},{background:g,text:tt},{background:W,text:U},{background:j,text:P},{background:J,text:gt},{background:x,text:tt},{background:k,text:gt},{background:st,text:gt}],qe=[].concat(Ve,[{background:pt,text:tt},{background:p,text:gt},{background:V,text:gt},{background:M,text:gt},{background:X,text:gt},{background:N,text:D},{background:T,text:gt},{background:tt,text:gt}]),He=[].concat(s()(qe),[{background:lt,text:tt},{background:it,text:gt},{background:ot,text:v},{background:U,text:G},{background:R,text:B},{background:Q,text:gt},{background:A,text:D},{background:w,text:gt}]),Ke=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"8"){case"8":return Ve;case"16":return qe;case"24":return He;default:throw new Error("The only available color palette is 8, 16, 24")}},We=n(239),Ge=n.n(We),ze=n(238),Qe=Ge()(["\n  "," color: ",";\n  font-weight: 500;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"],["\n  "," color: ",";\n  font-weight: 500;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"]),Xe=Ge()(["\n  "," color: ",";\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"],["\n  "," color: ",";\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"]),Ye=Ge()(["\n  "," color: ",";\n  font-weight: 500;\n  letter-spacing: -0.008em;\n  margin-top: ","px;\n"],["\n  "," color: ",";\n  font-weight: 500;\n  letter-spacing: -0.008em;\n  margin-top: ","px;\n"]),Je=Ge()(["\n  "," color: ",";\n  font-weight: 600;\n  letter-spacing: -0.006em;\n  margin-top: ","px;\n"],["\n  "," color: ",";\n  font-weight: 600;\n  letter-spacing: -0.006em;\n  margin-top: ","px;\n"]),$e=Ge()(["\n  "," color: ",";\n  font-weight: 600;\n  letter-spacing: -0.003em;\n  margin-top: ","px;\n"],["\n  "," color: ",";\n  font-weight: 600;\n  letter-spacing: -0.003em;\n  margin-top: ","px;\n"]),Ze=Ge()(["\n  "," color: ",";\n  font-weight: 600;\n  margin-top: ","px;\n  text-transform: uppercase;\n"],["\n  "," color: ",";\n  font-weight: 600;\n  margin-top: ","px;\n  text-transform: uppercase;\n"]),tn=Ge()(["\n  "," color: ",";\n  font-weight: 600;\n  margin-top: ","px;\n"],["\n  "," color: ",";\n  font-weight: 600;\n  margin-top: ","px;\n"]),en=Ge()(["\n  "," color: ",";\n  font-weight: normal;\n  margin-top: ","px;\n"],["\n  "," color: ",";\n  font-weight: normal;\n  margin-top: ","px;\n"]),nn=function(t,e){return"\n  font-size: "+t/Xn()+"em;\n  font-style: inherit;\n  line-height: "+e/t+";\n"},rn=function(){return Object(ze.css)(Qe,nn(35,40),Ce,6.5*Qn())},on=function(){return Object(ze.css)(Xe,nn(29,32),Ce,5*Qn())},an=function(){return Object(ze.css)(Qe,nn(24,28),Ce,5*Qn())},sn=function(){return Object(ze.css)(Ye,nn(20,24),Ce,3.5*Qn())},un=function(){return Object(ze.css)(Je,nn(16,20),Ce,3*Qn())},cn=function(){return Object(ze.css)($e,nn(14,16),Ce,2*Qn())},ln=function(){return Object(ze.css)(Ze,nn(12,16),Ne,2.5*Qn())},hn=function(){return Object(ze.css)(tn,nn(12,16),Ne,2*Qn())},fn=function(){return Object(ze.css)(en,nn(12,16),Ne,2*Qn())};function dn(t,e){return function(n){return t(n)+e}}function pn(t,e){return function(n){return t(n)-e}}function mn(t,e){return function(n){return t(n)*e}}function yn(t,e){return function(n){return t(n)/e}}var gn=n(237),vn=n.n(gn),bn=n(48),wn=n.n(bn),En=n(236),Tn=n.n(En),Sn=n(81),kn=n.n(Sn),In=n(80),An=n.n(In),Cn=n(255),Nn=n.n(Cn),_n=n(1),On=n.n(_n),xn=n(0),Dn=n.n(xn),Rn=Ge()(["\n  background-color: ",";\n  color: ",";\n\n  a {\n    color: ",";\n  }\n  a:hover {\n    color: ",";\n  }\n  a:active {\n    color: ",";\n  }\n  a:focus {\n    outline-color: ",";\n  }\n  h1 {\n    color: ",";\n  }\n  h2 {\n    color: ",";\n  }\n  h3 {\n    color: ",";\n  }\n  h4 {\n    color: ",";\n  }\n  h5 {\n    color: ",";\n  }\n  h6 {\n    color: ",";\n  }\n  small {\n    color: ",";\n  }\n"],["\n  background-color: ",";\n  color: ",";\n\n  a {\n    color: ",";\n  }\n  a:hover {\n    color: ",";\n  }\n  a:active {\n    color: ",";\n  }\n  a:focus {\n    outline-color: ",";\n  }\n  h1 {\n    color: ",";\n  }\n  h2 {\n    color: ",";\n  }\n  h3 {\n    color: ",";\n  }\n  h4 {\n    color: ",";\n  }\n  h5 {\n    color: ",";\n  }\n  h6 {\n    color: ",";\n  }\n  small {\n    color: ",";\n  }\n"]),Pn=ze.default.div(Rn,ve,Te,Oe,xe,De,Re,Ce,Ce,Ce,Ce,Ce,Ne,Ie);function Mn(t){return"\n    body { background: "+ve(t)+"; }\n  "}function Ln(t){return{theme:Nn()({},u,{mode:t})}}var Fn=function(t){function e(t){wn()(this,e);var n=kn()(this,(e.__proto__||vn()(e)).call(this,t));return n.state=Ln(t.mode),n}return An()(e,t),Tn()(e,[{key:"getChildContext",value:function(){return{hasAtlaskitThemeProvider:!0}}},{key:"componentWillMount",value:function(){if(!this.context.hasAtlaskitThemeProvider){var t=Mn(this.state);this.stylesheet=document.createElement("style"),this.stylesheet.type="text/css",this.stylesheet.innerHTML=t,document&&document.head&&document.head.appendChild(this.stylesheet)}}},{key:"componentWillReceiveProps",value:function(t){if(t.mode!==this.props.mode){var e=Ln(t.mode);if(this.stylesheet){var n=Mn(e);this.stylesheet.innerHTML=n}this.setState(e)}}},{key:"componentWillUnmount",value:function(){this.stylesheet&&document&&document.head&&(document.head.removeChild(this.stylesheet),delete this.stylesheet)}},{key:"render",value:function(){var t=this.props.children,e=this.state.theme;return On.a.createElement(ze.ThemeProvider,{theme:e},On.a.createElement(Pn,null,t))}}]),e}(_n.Component);Fn.defaultProps={mode:"light"},Fn.childContextTypes={hasAtlaskitThemeProvider:Dn.a.bool},Fn.contextTypes={hasAtlaskitThemeProvider:Dn.a.bool};var jn=Fn,Bn=n(247),Un=n.n(Bn),Vn=n(240),qn=n.n(Vn),Hn=n(85),Kn=n.n(Hn),Wn=function(t){var e=t.children,n=t.props,r=t.theme,i="object"===(void 0===n?"undefined":Kn()(n))?"default":n,o="object"===(void 0===n?"undefined":Kn()(n))?qn()({},n):{};return Un()(r).forEach(function(t){t in o||(o[t]=r[t]({appearance:i}))}),e(o)};n.d(e,"AtlasKitThemeProvider",function(){return Gn}),n.d(e,"borderRadius",function(){return zn}),n.d(e,"gridSize",function(){return Qn}),n.d(e,"fontSize",function(){return Xn}),n.d(e,"fontFamily",function(){return Yn}),n.d(e,"codeFontFamily",function(){return Jn}),n.d(e,"layers",function(){return $n}),n.d(e,"colors",function(){return r}),n.d(e,"typography",function(){return i}),n.d(e,"math",function(){return o}),n.d(e,"getTheme",function(){return l}),n.d(e,"themed",function(){return h}),n.d(e,"AtlaskitThemeProvider",function(){return jn}),n.d(e,"Appearance",function(){return Wn});var Gn=jn,zn=function(){return 3},Qn=function(){return 8},Xn=function(){return 14},Yn=function(){return'-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif'},Jn=function(){return'"SFMono-Medium", "SF Mono", "Segoe UI Mono", "Roboto Mono", "Ubuntu Mono", Menlo, Consolas, Courier, monospace'},$n={card:function(){return 100},dialog:function(){return 200},navigation:function(){return 300},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}}},,,function(t,e,n){t.exports={default:n(380),__esModule:!0}},function(t,e,n){"use strict";var r=s(n(377)),i=s(n(373)),o=s(n(279)),a=s(n(281));function s(t){return t&&t.__esModule?t:{default:t}}t.exports={Transition:a.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},function(t,e,n){var r=n(37),i=n(19),o=n(38);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(338),i=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o="[DEFAULT]",a=[],s=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){a.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){a=a.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=o),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==o?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;r.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(a.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),a=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},t}();function u(t,e){throw c.create(t,e)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var c=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),l=function t(){var e={},n={},a={},c={__esModule:!0,initializeApp:function(t,n){(void 0===n&&(n={}),"object"!=typeof n||null===n)&&(n={name:n});var r=n;void 0===r.name&&(r.name=o);var a=r.name;"string"==typeof a&&a||u("bad-app-name",{name:a+""}),i(e,a)&&u("duplicate-app",{name:a});var l=new s(t,r,c);return e[a]=l,f(l,"create"),l},app:l,apps:null,Promise:Promise,SDK_VERSION:"5.0.4",INTERNAL:{registerService:function(t,e,i,o,f){n[t]&&u("duplicate-service",{name:t}),n[t]=e,o&&(a[t]=o,h().forEach(function(t){o("create",t)}));var d=function(e){return void 0===e&&(e=l()),"function"!=typeof e[t]&&u("invalid-app-argument",{name:t}),e[t]()};return void 0!==i&&r.deepExtend(d,i),c[t]=d,s.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,f?e:[])},d},createFirebaseNamespace:t,extendNamespace:function(t){r.deepExtend(c,t)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(t){f(e[t],"delete"),delete e[t]},factories:n,useAsService:d,Promise:Promise,deepExtend:r.deepExtend}};function l(t){return i(e,t=t||o)||u("no-app",{name:t}),e[t]}function h(){return Object.keys(e).map(function(t){return e[t]})}function f(t,e){Object.keys(n).forEach(function(n){var r=d(t,n);null!==r&&a[r]&&a[r](e,t)})}function d(t,e){if("serverAuth"===e)return null;var n=e;return t.options,n}return r.patchProperty(c,"default",c),Object.defineProperty(c,"apps",{get:h}),r.patchProperty(l,"App",s),c}();e.firebase=l,e.default=l},function(t,e,n){"use strict";(function(e){var r=n(241),i=n(357),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=n(273):void 0!==e&&(s=n(273)),s),transformRequest:[function(t,e){return i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){u.headers[t]={}}),r.forEach(["post","put","patch"],function(t){u.headers[t]=r.merge(o)}),t.exports=u}).call(this,n(257))},function(t,e,n){"use strict";e.__esModule=!0;var r,i=(r=n(283))&&r.__esModule?r:{default:r};e.default=function(t,e,n){return e in t?(0,i.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=(r=n(388))&&r.__esModule?r:{default:r};e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,i.default)(t)}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,,,function(t,e,n){"use strict";var r=n(237),i=n.n(r),o=n(48),a=n.n(o),s=n(236),u=n.n(s),c=n(81),l=n.n(c),h=n(80),f=n.n(h),d=n(239),p=n.n(d),m=n(1),y=n.n(m),g=n(248),v=n(238),b={small:20,medium:30,large:50,xlarge:100},w=b.small,E=p()(["\n    from { opacity: 0; }\n    to { opacity: 0; }\n  "],["\n    from { opacity: 0; }\n    to { opacity: 0; }\n  "]),T=p()(["\n    from { transform: rotate(50deg); }\n    to { transform: rotate(230deg); }\n  "],["\n    from { transform: rotate(50deg); }\n    to { transform: rotate(230deg); }\n  "]),S=p()(["\n    from { transform: rotate(230deg); }\n    to { transform: rotate(510deg); }\n  "],["\n    from { transform: rotate(230deg); }\n    to { transform: rotate(510deg); }\n  "]),k=p()(["\n    from { opacity: 1; }\n    to { opacity: 0; }\n  "],["\n    from { opacity: 1; }\n    to { opacity: 0; }\n  "]),I=p()(["\n  "," display: inline-flex;\n  height: ",";\n  width: ",";\n\n  /* Rapidly creating and removing spinners will result in multiple spinners being visible while\n   * they complete their exit animations. This rules hides the spinner if another one has been\n   * added. */\n  div + & {\n    display: none;\n  }\n"],["\n  "," display: inline-flex;\n  height: ",";\n  width: ",";\n\n  /* Rapidly creating and removing spinners will result in multiple spinners being visible while\n   * they complete their exit animations. This rules hides the spinner if another one has been\n   * added. */\n  div + & {\n    display: none;\n  }\n"]),A=Object(v.keyframes)(E),C=Object(v.keyframes)(T),N=Object(v.keyframes)(S),_=Object(v.keyframes)(k),O=function(t){return t.size+"px"},x=v.default.div(I,function(t){var e=t.delay,n=t.phase;return"DELAY"===n?"animation: "+e+"s "+A+";":"ENTER"===n||"IDLE"===n?"animation: 1s ease-in-out forwards "+C+";":"LEAVE"===n?"animation: 0.53s ease-in-out forwards "+N+",\n      0.2s ease-in-out 0.33s "+_+";":""},O,O);x.displayName="SpinnerContainer";var D=x,R=n(242),P=n.n(R),M=n(247),L=n.n(M),F=n(244),j=p()(["\n    from { opacity: 0; }\n    to { opacity: 0; }\n  "],["\n    from { opacity: 0; }\n    to { opacity: 0; }\n  "]),B=p()(["\n    to { transform: rotate(360deg); }\n  "],["\n    to { transform: rotate(360deg); }\n  "]),U=p()(["\n    from { opacity: 0; }\n    to { opacity: 1; }\n  "],["\n    from { opacity: 0; }\n    to { opacity: 1; }\n  "]),V=p()(["\n    from { stroke-dashoffset: ","px; }\n    to { stroke-dashoffset: ","px; }\n  "],["\n    from { stroke-dashoffset: ","px; }\n    to { stroke-dashoffset: ","px; }\n  "]),q=p()(["\n  ",";\n"],["\n  ",";\n"]),H=p()(["\n      animation: ",";\n      fill: none;\n      stroke: ",";\n      stroke-dasharray: ","px;\n      stroke-dashoffset: ","px;\n      stroke-linecap: round;\n      stroke-width: ","px;\n      transform-origin: center;\n    "],["\n      animation: ",";\n      fill: none;\n      stroke: ",";\n      stroke-dasharray: ","px;\n      stroke-dashoffset: ","px;\n      stroke-linecap: round;\n      stroke-width: ","px;\n      transform-origin: center;\n    "]),K=function(t){return Math.round(t/10)},W=function(t){var e=t/2-K(t)/2;return Math.PI*e*2},G={noop:Object(v.keyframes)(j),rotate:Object(v.keyframes)(B),enterOpacity:Object(v.keyframes)(U),smallEnterStroke:Object(v.keyframes)(V,W(b.small),.8*W(b.small)),mediumEnterStroke:Object(v.keyframes)(V,W(b.medium),.8*W(b.medium)),largeEnterStroke:Object(v.keyframes)(V,W(b.large),.8*W(b.large)),xlargeEnterStroke:Object(v.keyframes)(V,W(b.xlarge),.8*W(b.xlarge))},z=Object(F.themed)({light:F.colors.N500,dark:F.colors.N0}),Q=Object(F.themed)({light:F.colors.N0,dark:F.colors.N0}),X=function(t){var e=t.invertColor,n=P()(t,["invertColor"]);return e?Q(n):z(n)},Y=Object(v.css)(q,function(t){var e=W(t.size),n="0.86s cubic-bezier(0.4, 0.15, 0.6, 0.85) infinite "+G.rotate,r="0.8s ease-in-out "+function(t){var e=L()(b).find(function(e){return t===b[e]});if(e)return G[e+"EnterStroke"];var n=W(t);return Object(v.keyframes)(V,n,.8*n)}(t.size),i="0.2s ease-in-out "+v.keyframes.enterOpacity,o=[n];return"ENTER"===t.phase&&o.push(r,i),Object(v.css)(H,o.join(", "),X,e,.8*e,K(t.size))}),J=v.default.svg(q,Y);J.displayName="SpinnerSvg";var $=J,Z=p()(["\n  display: inline-block;\n"],["\n  display: inline-block;\n"]),tt=v.default.div(Z);tt.displayName="Outer";var et=function(t){function e(t){a()(this,e);var n=l()(this,(e.__proto__||i()(e)).call(this,t));return n.enter=function(){n.props.delay?n.setState({phase:"DELAY"}):n.setState({phase:"ENTER"})},n.idle=function(){n.setState({phase:"IDLE"})},n.exit=function(){n.setState({phase:"LEAVE"})},n.endListener=function(t,e){return t&&t.addEventListener("animationend",function r(i){return"svg"!==i.target.tagName&&("DELAY"===n.state.phase?(n.setState({phase:"ENTER"}),n.endListener(t,e)):e(),t&&t.removeEventListener("animationend",r))})},n.validateSize=function(){var t=n.props.size,e=b[t]||t;return"number"==typeof e?e:w},n.state={phase:""},n}return f()(e,t),u()(e,[{key:"render",value:function(){var t=this,e=this.state.phase,n=this.props,r=n.delay,i=n.invertColor,o=n.isCompleting,a=this.validateSize(),s=a/2-Math.round(a/10)/2;return y.a.createElement(tt,null,y.a.createElement(g.Transition,{addEndListener:this.endListener,appear:!0,in:!o,mountOnEnter:!0,unmountOnExit:!0,onEnter:this.enter,onEntered:this.idle,onExit:this.exit,onExited:function(){return t.props.onComplete()},ref:function(e){t.transitionNode=e}},y.a.createElement(D,{delay:r/1e3,phase:e,size:a},y.a.createElement($,{focusable:"false",height:a,invertColor:i,phase:e,size:a,viewBox:"0 0 "+a+" "+a,width:a,xmlns:"http://www.w3.org/2000/svg"},y.a.createElement("circle",{cx:a/2,cy:a/2,r:s})))))}}]),e}(m.Component);et.defaultProps={delay:100,isCompleting:!1,invertColor:!1,onComplete:function(){},size:"small"};var nt=et;n.d(e,"a",function(){return nt})},function(t,e,n){"use strict";var r=n(240),i=n.n(r),o=n(237),a=n.n(o),s=n(48),u=n.n(s),c=n(236),l=n.n(c),h=n(81),f=n.n(h),d=n(80),p=n.n(d),m=n(239),y=n.n(m),g=n(1),v=n.n(g),b=n(238),w=n(242),E=n.n(w),T=n(256),S=n.n(T),k=n(0),I=n.n(k),A={getAtlaskitAnalyticsContext:I.a.func},C=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return n=r=f()(this,(t=e.__proto__||a()(e)).call.apply(t,[this].concat(s))),r.getChildContext=function(){return{getAtlaskitAnalyticsContext:r.getAnalyticsContext}},r.getAnalyticsContext=function(){var t=r.props.data,e=r.context.getAtlaskitAnalyticsContext,n="function"==typeof e&&e()||[];return[].concat(S()(n),[t])},i=n,f()(r,i)}return p()(e,t),l()(e,[{key:"render",value:function(){return g.Children.only(this.props.children)}}]),e}(g.Component);C.contextTypes=A,C.childContextTypes=A;var N=C,_=n(255),O=n.n(_),x=n(85),D=n.n(x),R=n(247),P=n.n(R),M=n(128),L=n.n(M),F=n(384),j=n.n(F),B=function(){function t(e){var n=this;u()(this,t),this.clone=function(){return new t({payload:JSON.parse(L()(n.payload))})},this.payload=e.payload}return l()(t,[{key:"update",value:function(t){return"function"==typeof t?this.payload=t(this.payload):"object"===(void 0===t?"undefined":D()(t))&&(this.payload=i()({},this.payload,t)),this}}]),t}(),U=console.warn,V=function(t){function e(t){u()(this,e);var n=f()(this,(e.__proto__||a()(e)).call(this,t));return n.clone=function(){return n.hasFired?(U("Cannot clone an event after it's been fired."),null):new e({context:[].concat(S()(n.context)),handlers:[].concat(S()(n.handlers)),payload:JSON.parse(L()(n.payload))})},n.fire=function(t){n.hasFired?U("Cannot fire an event twice."):(n.handlers.forEach(function(e){e(n,t)}),n.hasFired=!0)},n.context=t.context||[],n.handlers=t.handlers||[],n.hasFired=!1,n}return p()(e,t),l()(e,[{key:"update",value:function(t){return this.hasFired?(U("Cannot update an event after it's been fired."),this):j()(e.prototype.__proto__||a()(e.prototype),"update",this).call(this,t)}}]),e}(B),q=n(378),H=function(t){return t.displayName&&"string"==typeof t.displayName?t.displayName:t.name||"Component"},K=function(t){t&&["help"].includes(t)&&console.warn('Atlaskit: The Button appearance "'+t+"\" is deprecated. Please use styled-components' ThemeProvider to provide a custom theme for Button instead.")};function W(t){var e,n;return n=e=function(e){function n(){return u()(this,n),f()(this,(n.__proto__||a()(n)).apply(this,arguments))}return p()(n,e),l()(n,[{key:"componentWillMount",value:function(){K(this.props.appearance)}},{key:"componentWillReceiveProps",value:function(t){t.appearance!==this.props.appearance&&K(t.appearance)}},{key:"render",value:function(){return v.a.createElement(t,this.props)}}]),n}(g.Component),e.displayName="WithDeprecationWarnings("+H(t)+")",n}var G=function(t){function e(){return u()(this,e),f()(this,(e.__proto__||a()(e)).apply(this,arguments))}return p()(e,t),l()(e,[{key:"render",value:function(){var t,e=((t=this.props).createAnalyticsEvent,E()(t,["createAnalyticsEvent"])),n=(e.appearance,e.children),r=e.component,i=(e.isActive,e.isDisabled,e.isFocus,e.isHover,e.isSelected,e.shouldFitContainer,e.fit,e.iconBefore,e.iconAfter,e.isLoading,E()(e,["appearance","children","component","isActive","isDisabled","isFocus","isHover","isSelected","shouldFitContainer","fit","iconBefore","iconAfter","isLoading"]));if(!r)throw new Error("No custom component provided while trying to use custom button component");var o=r;return v.a.createElement(o,i,n)}}]),e}(g.Component),z=n(244),Q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=void 0;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(t))return 3===(n=t.substring(1).split("")).length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),"rgba("+[(n="0x"+n.join(""))>>16&255,n>>8&255,255&n].join(",")+", "+e+")";throw new Error("Bad Hex")},X={fallbacks:{background:Object(z.themed)({light:z.colors.N20A,dark:z.colors.DN70}),color:Object(z.themed)({light:z.colors.N400,dark:z.colors.DN400}),textDecoration:"none"},theme:{default:{background:{default:Object(z.themed)({light:z.colors.N20A,dark:z.colors.DN70}),hover:Object(z.themed)({light:z.colors.N30A,dark:z.colors.DN60}),active:Object(z.themed)({light:Q(z.colors.B75,.6),dark:z.colors.B75}),disabled:Object(z.themed)({light:z.colors.N20A,dark:z.colors.DN70}),selected:Object(z.themed)({light:z.colors.N700,dark:z.colors.DN0}),focusSelected:Object(z.themed)({light:z.colors.N700,dark:z.colors.DN0})},boxShadowColor:{focus:Object(z.themed)({light:Q(z.colors.B200,.6),dark:z.colors.B75}),focusSelected:Object(z.themed)({light:Q(z.colors.B200,.6),dark:z.colors.B75})},color:{default:Object(z.themed)({light:z.colors.N400,dark:z.colors.DN400}),active:Object(z.themed)({light:z.colors.B400,dark:z.colors.B400}),disabled:Object(z.themed)({light:z.colors.N70,dark:z.colors.DN30}),selected:Object(z.themed)({light:z.colors.N20,dark:z.colors.DN400}),focusSelected:Object(z.themed)({light:z.colors.N20,dark:z.colors.DN400})}},primary:{background:{default:Object(z.themed)({light:z.colors.B400,dark:z.colors.B100}),hover:Object(z.themed)({light:z.colors.B300,dark:z.colors.B75}),active:Object(z.themed)({light:z.colors.B500,dark:z.colors.B200}),disabled:Object(z.themed)({light:z.colors.N20A,dark:z.colors.DN70}),selected:Object(z.themed)({light:z.colors.N700,dark:z.colors.DN0}),focusSelected:Object(z.themed)({light:z.colors.N700,dark:z.colors.DN0})},boxShadowColor:{focus:Object(z.themed)({light:Q(z.colors.B200,.6),dark:z.colors.B75}),focusSelected:Object(z.themed)({light:Q(z.colors.B200,.6),dark:z.colors.B75})},color:{default:Object(z.themed)({light:z.colors.N0,dark:z.colors.DN30}),disabled:Object(z.themed)({light:z.colors.N70,dark:z.colors.DN30}),selected:Object(z.themed)({light:z.colors.N20,dark:z.colors.DN400}),focusSelected:Object(z.themed)({light:z.colors.N20,dark:z.colors.DN400})}},warning:{background:{default:Object(z.themed)({light:z.colors.Y300,dark:z.colors.Y300}),hover:Object(z.themed)({light:z.colors.Y200,dark:z.colors.Y200}),active:Object(z.themed)({light:z.colors.Y400,dark:z.colors.Y400}),disabled:Object(z.themed)({light:z.colors.N20A,dark:z.colors.DN70}),selected:Object(z.themed)({light:z.colors.Y400,dark:z.colors.Y400}),focusSelected:Object(z.themed)({light:z.colors.Y400,dark:z.colors.Y400})},boxShadowColor:{focus:Object(z.themed)({light:z.colors.Y500,dark:z.colors.Y500}),focusSelected:Object(z.themed)({light:z.colors.Y500,dark:z.colors.Y500})},color:{default:Object(z.themed)({light:z.colors.N800,dark:z.colors.N800}),disabled:Object(z.themed)({light:z.colors.N70,dark:z.colors.DN30}),selected:Object(z.themed)({light:z.colors.N800,dark:z.colors.N800}),focusSelected:Object(z.themed)({light:z.colors.N800,dark:z.colors.N800})}},danger:{background:{default:Object(z.themed)({light:z.colors.R400,dark:z.colors.R400}),hover:Object(z.themed)({light:z.colors.R300,dark:z.colors.R300}),active:Object(z.themed)({light:z.colors.R500,dark:z.colors.R500}),disabled:Object(z.themed)({light:z.colors.N20A,dark:z.colors.DN70}),selected:Object(z.themed)({light:z.colors.R500,dark:z.colors.R500}),focusSelected:Object(z.themed)({light:z.colors.R500,dark:z.colors.R500})},boxShadowColor:{focus:Object(z.themed)({light:z.colors.R100,dark:z.colors.R100}),focusSelected:Object(z.themed)({light:z.colors.R100,dark:z.colors.R100})},color:{default:Object(z.themed)({light:z.colors.N0,dark:z.colors.N0}),disabled:Object(z.themed)({light:z.colors.N70,dark:z.colors.DN30}),selected:Object(z.themed)({light:z.colors.N0,dark:z.colors.N0}),focusSelected:Object(z.themed)({light:z.colors.N0,dark:z.colors.N0})}},help:{background:{default:Object(z.themed)({light:z.colors.P400,dark:z.colors.P400}),hover:Object(z.themed)({light:z.colors.P200,dark:z.colors.P200}),active:Object(z.themed)({light:z.colors.P500,dark:z.colors.P500}),disabled:Object(z.themed)({light:z.colors.N20A,dark:z.colors.DN70}),selected:Object(z.themed)({light:z.colors.R500,dark:z.colors.R500}),focusSelected:Object(z.themed)({light:z.colors.R500,dark:z.colors.R500})},boxShadowColor:{focus:Object(z.themed)({light:z.colors.P100,dark:z.colors.P100}),focusSelected:Object(z.themed)({light:z.colors.P100,dark:z.colors.P100})},color:{default:Object(z.themed)({light:z.colors.N0,dark:z.colors.N0}),disabled:Object(z.themed)({light:z.colors.N70,dark:z.colors.DN30}),selected:Object(z.themed)({light:z.colors.N0,dark:z.colors.N0}),focusSelected:Object(z.themed)({light:z.colors.N0,dark:z.colors.N0})}},link:{background:{default:Object(z.themed)({light:"none",dark:"none"}),selected:Object(z.themed)({light:z.colors.N700,dark:z.colors.N20}),focusSelected:Object(z.themed)({light:z.colors.N700,dark:z.colors.N20})},boxShadowColor:{focus:Object(z.themed)({light:Q(z.colors.B200,.6),dark:z.colors.B75}),focusSelected:Object(z.themed)({light:Q(z.colors.B200,.6),dark:z.colors.B75})},color:{default:Object(z.themed)({light:z.colors.B400,dark:z.colors.B100}),hover:Object(z.themed)({light:z.colors.B300,dark:z.colors.B75}),active:Object(z.themed)({light:z.colors.B500,dark:z.colors.B200}),disabled:Object(z.themed)({light:z.colors.N70,dark:z.colors.DN100}),selected:Object(z.themed)({light:z.colors.N20,dark:z.colors.N700}),focusSelected:Object(z.themed)({light:z.colors.N20,dark:z.colors.N700})},textDecoration:{hover:"underline"}},subtle:{background:{default:Object(z.themed)({light:"none",dark:"none"}),hover:Object(z.themed)({light:z.colors.N30A,dark:z.colors.DN60}),active:Object(z.themed)({light:Q(z.colors.B75,.6),dark:z.colors.B75}),disabled:Object(z.themed)({light:"none",dark:"none"}),selected:Object(z.themed)({light:z.colors.N700,dark:z.colors.DN0}),focusSelected:Object(z.themed)({light:z.colors.N700,dark:z.colors.DN0})},boxShadowColor:{focus:Object(z.themed)({light:Q(z.colors.B200,.6),dark:z.colors.B75}),focusSelected:Object(z.themed)({light:Q(z.colors.B200,.6),dark:z.colors.B75})},color:{default:Object(z.themed)({light:z.colors.N400,dark:z.colors.DN400}),active:Object(z.themed)({light:z.colors.B400,dark:z.colors.B400}),disabled:Object(z.themed)({light:z.colors.N70,dark:z.colors.DN100}),selected:Object(z.themed)({light:z.colors.N20,dark:z.colors.DN400}),focusSelected:Object(z.themed)({light:z.colors.N20,dark:z.colors.DN400})}},"subtle-link":{background:{default:Object(z.themed)({light:"none",dark:"none"}),selected:Object(z.themed)({light:z.colors.N700,dark:z.colors.N20}),focusSelected:Object(z.themed)({light:z.colors.N700,dark:z.colors.N20})},boxShadowColor:{focus:Object(z.themed)({light:Q(z.colors.B200,.6),dark:z.colors.B75}),focusSelected:Object(z.themed)({light:Q(z.colors.B200,.6),dark:z.colors.B75})},color:{default:Object(z.themed)({light:z.colors.N200,dark:z.colors.DN400}),hover:Object(z.themed)({light:z.colors.N90,dark:z.colors.B50}),active:Object(z.themed)({light:z.colors.N400,dark:z.colors.DN300}),disabled:Object(z.themed)({light:z.colors.N70,dark:z.colors.DN100}),selected:Object(z.themed)({light:z.colors.N20,dark:z.colors.DN400}),focusSelected:Object(z.themed)({light:z.colors.N20,dark:z.colors.DN400})},textDecoration:{hover:"underline"}}}},Y=y()(["\n        box-shadow: 0 0 0 2px ",";\n      "],["\n        box-shadow: 0 0 0 2px ",";\n      "]),J=y()(["\n    align-items: baseline;\n    background: ",";\n    border-radius: ","px;\n    border-width: 0;\n    box-sizing: border-box;\n    color: "," !important;\n    cursor: ",";\n    display: inline-flex;\n    font-size: inherit;\n    font-style: normal;\n    height: ",";\n    line-height: ",";\n    margin: 0;\n    max-width: 100%;\n    outline: "," !important;\n    padding: ",";\n    text-align: center;\n    text-decoration: ",";\n    transition: ",";\n    transition-duration: ",";\n    vertical-align: ",";\n    white-space: nowrap;\n    width: ",";\n    "," &::-moz-focus-inner {\n      border: 0;\n      margin: 0;\n      padding: 0;\n    }\n  "],["\n    align-items: baseline;\n    background: ",";\n    border-radius: ","px;\n    border-width: 0;\n    box-sizing: border-box;\n    color: "," !important;\n    cursor: ",";\n    display: inline-flex;\n    font-size: inherit;\n    font-style: normal;\n    height: ",";\n    line-height: ",";\n    margin: 0;\n    max-width: 100%;\n    outline: "," !important;\n    padding: ",";\n    text-align: center;\n    text-decoration: ",";\n    transition: ",";\n    transition-duration: ",";\n    vertical-align: ",";\n    white-space: nowrap;\n    width: ",";\n    "," &::-moz-focus-inner {\n      border: 0;\n      margin: 0;\n      padding: 0;\n    }\n  "]),$=function(t){var e,n,r,i,o,a,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X,l=u.appearance,h=c.fallbacks,f=c.theme,d=function(t,e,n,r){var i=n[e],o=r[e],a=r.default;return i&&i[t]||o&&o[t]||a[t]}(t,l,(e=u.theme)&&e["@atlaskit-shared-theme/button"]||{},f);return d?d[(r=(n=u).disabled,i=n.isActive,o=n.isFocus,a=n.isHover,s=n.isSelected,r?"disabled":s&&o?"focusSelected":s?"selected":i?"active":a?"hover":o?"focus":"default")]||d.default||h[t]:h[t]||"initial"};function Z(t){var e=Object(z.fontSize)(t),n=z.math.divide(z.math.multiply(z.gridSize,4),e)(t)+"em",r=z.math.divide(z.math.multiply(z.gridSize,3),e)(t)+"em",i="default",o=n,a=n,s="none",u="0 "+Object(z.gridSize)(t)+"px",c="0.1s, 0.15s",l="background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)",h="middle",f="auto",d=$("background",t),p=$("color",t),m=$("boxShadowColor",t),y=m?Object(b.css)(Y,m):null,g=$("textDecoration",t);return"compact"===t.spacing&&(o=r,a=r),"none"===t.spacing&&(o="auto",a="inherit",u="0",h="baseline"),t.isHover&&(i="pointer",l="background 0s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)"),t.isActive&&(c="0s"),t.isFocus&&(s="none",c="0s, 0.2s"),t.disabled&&(i="not-allowed"),t.fit&&(f="100%"),Object(b.css)(J,d,z.borderRadius,p,i,o,a,s,u,g,l,c,h,f,y)}var tt=y()(["\n  transition: opacity 0.3s;\n  opacity: ",";\n"],["\n  transition: opacity 0.3s;\n  opacity: ",";\n"]),et=(Object(b.css)(tt,function(t){return t.isLoading?0:1}),function(t){return{transition:"opacity 0.3s",opacity:t.isLoading?0:1}}),nt=function(t){return t.followsIcon?"baseline":"center"},rt=z.math.divide(z.gridSize,2),it=function(t){var e,n=i()({alignItems:nt(t),alignSelf:nt(t),flex:"1 1 auto",margin:(e=t,"none"===e.spacing?0:"0 "+rt(e)+"px"),maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},et(t));return v.a.createElement("span",{style:n},t.children)},ot=function(t){var e={alignSelf:"center",display:"inline-flex",flexWrap:"nowrap",maxWidth:"100%",position:"relative"};t.fit&&(e.width="100%",e.justifyContent="center");var n={};return t.onClick&&(n.onClick=t.onClick),v.a.createElement("span",i()({style:e},n),t.children)},at=function(t){var e=i()({alignSelf:"center",display:"flex",flexShrink:0,lineHeight:0,fontSize:0,margin:function(t){return"none"===t.spacing?0:t.isOnlyChild?"0 -"+z.math.divide(z.gridSize,4)(t)+"px":"0 "+z.math.divide(z.gridSize,2)(t)+"px"}(t),userSelect:"none"},et(t));return v.a.createElement("span",{style:e},t.children)},st=n(261),ut=y()(["\n  margin-top: ",";\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  margin-top: ",";\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"]),ct=b.default.div(ut,function(t){return"none"===t.spacing?"2px":"4px"}),lt=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return n=r=f()(this,(t=e.__proto__||a()(e)).call.apply(t,[this].concat(s))),r.invertSpinner=function(){var t=r.props,e=t.appearance,n=t.isSelected,i=t.isDisabled;return!!n||!i&&("primary"===e||"danger"===e)},i=n,f()(r,i)}return p()(e,t),l()(e,[{key:"render",value:function(){return v.a.createElement(ct,{spacing:this.props.spacing},v.a.createElement(st.a,{invertColor:this.invertSpinner()}))}}]),e}(g.Component),ht=y()(["\n  ",";\n"],["\n  ",";\n"]),ft=y()(["\n  a& {\n    ",";\n  }\n"],["\n  a& {\n    ",";\n  }\n"]),dt=y()(["&,a&,&:hover,&:active,&:focus{","}"],["&,a&,&:hover,&:active,&:focus{","}"]),pt=b.default.button(ht,Z);pt.displayName="StyledButton";var mt=b.default.a(ft,Z);mt.displayName="StyledLink";var yt=b.default.span(ht,Z);yt.displayName="StyledSpan";var gt=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return n=r=f()(this,(t=e.__proto__||a()(e)).call.apply(t,[this].concat(s))),r.state={isActive:!1,isFocus:!1,isHover:!1},r.customComponent=null,r.onMouseEnter=function(){r.setState({isHover:!0})},r.onMouseLeave=function(){return r.setState({isHover:!1,isActive:!1})},r.onMouseDown=function(t){t.preventDefault(),r.setState({isActive:!0})},r.onMouseUp=function(){return r.setState({isActive:!1})},r.onFocus=function(t){r.setState({isFocus:!0}),r.props.onFocus&&r.props.onFocus(t)},r.onBlur=function(t){r.setState({isFocus:!1}),r.props.onBlur&&r.props.onBlur(t)},r.onInnerClick=function(t){return r.props.isDisabled&&t.stopPropagation(),!0},r.getInnerRef=function(t){r.button=t,r.props.innerRef&&r.props.innerRef(t)},i=n,f()(r,i)}return p()(e,t),l()(e,[{key:"componentWillReceiveProps",value:function(t){this.props.component!==t.component&&delete this.customComponent}},{key:"componentDidMount",value:function(){this.props.autoFocus&&this.button&&this.button.focus()}},{key:"getStyledComponent",value:function(){return this.props.component?(this.customComponent||(this.customComponent=((t=Object(b.default)(G)(dt,Z)).displayName="StyledCustomComponent",t)),this.customComponent):this.props.href?this.props.isDisabled?yt:mt:pt;var t}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.iconBefore,r=t.iconAfter,o=t.isLoading,a=t.shouldFitContainer,s=t.spacing,u=t.appearance,c=t.isSelected,l=t.isDisabled,h=function(t){var e=t.props,n=t.state,r=i()({id:e.id},function(t,e){var n=t.appearance,r=t.className,i=t.isDisabled,o=t.isSelected,a=t.spacing,s=t.shouldFitContainer;return{appearance:n,className:r,disabled:i,isActive:e.isActive,isFocus:e.isFocus,isHover:e.isHover,isSelected:o,spacing:a,fit:s}}(e,n),function(t){var e=t.onBlur,n=t.onFocus,r=t.onMouseDown,i=t.onMouseEnter,o=t.onMouseLeave,a=t.onMouseUp,s=t.props;return{onBlur:e,onClick:s.onClick,onFocus:n,onMouseDown:r,onMouseEnter:i,onMouseLeave:o,onMouseUp:a,tabIndex:s.tabIndex}}(t),{"aria-label":e.ariaLabel});return e.component?i()({},e,r):e.href?e.isDisabled?r:i()({},r,function(t){return{href:t.href,target:t.target}}(e)):i()({},r,function(t){return{"aria-haspopup":t.ariaHaspopup,"aria-expanded":t.ariaExpanded,"aria-controls":t.ariaControls,form:t.form,type:t.type}}(e))}(this),f=this.getStyledComponent(),d=!((!n||r||e)&&(!r||n||e));return v.a.createElement(f,i()({innerRef:this.getInnerRef},h),v.a.createElement(ot,{onClick:this.onInnerClick,fit:!!a},o?v.a.createElement(lt,{spacing:s,appearance:u,isSelected:c,isDisabled:l}):null,n?v.a.createElement(at,{isLoading:o,spacing:h.spacing,isOnlyChild:d},n):null,e?v.a.createElement(it,{isLoading:o,followsIcon:!!n,spacing:h.spacing},e):null,r?v.a.createElement(at,{isLoading:o,spacing:h.spacing,isOnlyChild:d},r):null))}}]),e}(g.Component);gt.defaultProps={appearance:"default",isDisabled:!1,isSelected:!1,isLoading:!1,spacing:"default",type:"button",shouldFitContainer:!1};var vt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){var n,r;return r=n=function(n){function r(){return u()(this,r),f()(this,(r.__proto__||a()(r)).apply(this,arguments))}return p()(r,n),l()(r,[{key:"render",value:function(){var n=this.props,r=n.analyticsContext,o=E()(n,["analyticsContext"]),a=i()({},t,r);return v.a.createElement(N,{data:a},v.a.createElement(e,o))}}]),r}(g.Component),n.displayName="WithAnalyticsContext("+(e.displayName||e.name)+")",n.defaultProps={analyticsContext:{}},r}}({component:"button",package:q.a,version:q.b})(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){var n,r,o;return r=n=function(n){function r(e){u()(this,r);var n=f()(this,(r.__proto__||a()(r)).call(this,e));return o.call(n),P()(t).forEach(function(t){n.originalEventProps[t]=e[t]}),n.patchedEventProps=n.mapCreateEventsToProps(P()(t),e),n}return p()(r,n),l()(r,[{key:"render",value:function(){var t=this.updatePatchedEventProps(this.props),n=i()({},this.props,t);return v.a.createElement(e,i()({},n,{createAnalyticsEvent:this.createAnalyticsEvent}))}}]),r}(g.Component),n.displayName="WithAnalyticsEvents("+(e.displayName||e.name)+")",n.contextTypes={getAtlaskitAnalyticsEventHandlers:I.a.func,getAtlaskitAnalyticsContext:I.a.func},o=function(){var e=this;this.originalEventProps={},this.patchedEventProps={},this.updatePatchedEventProps=function(n){var r=P()(t).filter(function(t){return e.originalEventProps[t]!==n[t]});return r.length>0&&(e.patchedEventProps=i()({},e.patchedEventProps,e.mapCreateEventsToProps(r,n)),r.forEach(function(t){e.originalEventProps[t]=n[t]})),e.patchedEventProps},this.createAnalyticsEvent=function(t){var n=e.context,r=n.getAtlaskitAnalyticsEventHandlers,i=n.getAtlaskitAnalyticsContext,o="function"==typeof i&&i()||[],a="function"==typeof r&&r()||[];return new V({context:o,handlers:a,payload:t})},this.mapCreateEventsToProps=function(n,r){return n.reduce(function(n,o){var a=t[o],s=r[o];return["object","function"].includes(void 0===a?"undefined":D()(a))?i()({},n,O()({},o,function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var o="function"==typeof a?a(e.createAnalyticsEvent,r):e.createAnalyticsEvent(a);s&&s.apply(void 0,n.concat([o]))})):n},{})}},r}}({onClick:function(t){var e=t({action:"click"});return e.clone().fire("atlaskit"),e}})(W(gt))),bt=y()(["\n  display: inline-flex;\n  margin: 0 -","px;\n"],["\n  display: inline-flex;\n  margin: 0 -","px;\n"]),wt=y()(["\n  flex: 1 0 auto;\n  margin: 0 ","px;\n"],["\n  flex: 1 0 auto;\n  margin: 0 ","px;\n"]),Et=b.default.div(bt,2),Tt=b.default.div(wt,2),St=W(function(t){function e(){return u()(this,e),f()(this,(e.__proto__||a()(e)).apply(this,arguments))}return p()(e,t),l()(e,[{key:"render",value:function(){var t=this.props,e=t.appearance,n=t.children;return v.a.createElement(Et,null,g.Children.map(n,function(t,n){return t?v.a.createElement(Tt,{key:n},e?Object(g.cloneElement)(t,{appearance:e}):t):null}))}}]),e}(g.Component));n.d(e,"a",function(){return vt}),n.d(e,!1,function(){return St}),n.d(e,!1,function(){return"@atlaskit-shared-theme/button"})},,,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return d}),n.d(e,"__read",function(){return p}),n.d(e,"__spread",function(){return m}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return g}),n.d(e,"__asyncDelegator",function(){return v}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return E}),n.d(e,"__importDefault",function(){return T});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(t){l(o[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e})}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):d(t)}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function T(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";n(342);var r,i=(r=n(253))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=i},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";var r=n(355);t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},function(t,e,n){"use strict";var r=n(241),i=n(356),o=n(354),a=n(353),s=n(352),u=n(272),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(351);t.exports=function(t){return new Promise(function(e,l){var h=t.data,f=t.headers;r.isFormData(h)&&delete f["Content-Type"];var d=new XMLHttpRequest,p="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(t.url)||(d=new window.XDomainRequest,p="onload",m=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var y=t.auth.username||"",g=t.auth.password||"";f.Authorization="Basic "+c(y+":"+g)}if(d.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[p]=function(){if(d&&(4===d.readyState||m)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:t,request:d};i(e,l,r),d=null}},d.onerror=function(){l(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=n(350),b=(t.withCredentials||s(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;b&&(f[t.xsrfHeaderName]=b)}if("setRequestHeader"in d&&r.forEach(f,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete f[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),l(t),d=null)}),void 0===h&&(h=null),d.send(h)})}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,i=n;return i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sizes={small:"16px",medium:"24px",large:"32px",xlarge:"48px"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Skeleton=e.size=void 0;var r=n(368);Object.defineProperty(e,"Skeleton",{enumerable:!0,get:function(){return a(r).default}});var i=n(366),o=a(i);function a(t){return t&&t.__esModule?t:{default:t}}e.default=o.default,e.size=i.size},function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=u(n(0)),o=n(1),a=u(o),s=n(372);function u(t){return t&&t.__esModule?t:{default:t}}var c=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},l=(i.default.any,i.default.node,i.default.bool,i.default.bool,i.default.bool,i.default.func,function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r));return i.state={children:(0,s.getChildMapping)(n.children,function(t){return(0,o.cloneElement)(t,{onExited:i.handleExited.bind(i,t),in:!0,appear:i.getProp(t,"appear"),enter:i.getProp(t,"enter"),exit:i.getProp(t,"exit")})})},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},e.prototype.getProp=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;return null!=n[e]?n[e]:t.props[e]},e.prototype.componentDidMount=function(){this.appeared=!0},e.prototype.componentWillReceiveProps=function(t){var e=this,n=this.state.children,r=(0,s.getChildMapping)(t.children),i=(0,s.mergeChildMappings)(n,r);Object.keys(i).forEach(function(a){var s=i[a];if((0,o.isValidElement)(s)){var u=a in n,c=a in r,l=n[a],h=(0,o.isValidElement)(l)&&!l.props.in;!c||u&&!h?c||!u||h?c&&u&&(0,o.isValidElement)(l)&&(i[a]=(0,o.cloneElement)(s,{onExited:e.handleExited.bind(e,s),in:l.props.in,exit:e.getProp(s,"exit",t),enter:e.getProp(s,"enter",t)})):i[a]=(0,o.cloneElement)(s,{in:!1}):i[a]=(0,o.cloneElement)(s,{onExited:e.handleExited.bind(e,s),in:!0,exit:e.getProp(s,"exit",t),enter:e.getProp(s,"enter",t)})}}),this.setState({children:i})},e.prototype.handleExited=function(t,e){var n=(0,s.getChildMapping)(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.setState(function(e){var n=r({},e.children);return delete n[t.key],{children:n}}))},e.prototype.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["component","childFactory"]),i=c(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?i:a.default.createElement(e,r,i)},e}(a.default.Component));l.childContextTypes={transitionGroup:i.default.object.isRequired},l.propTypes={},l.defaultProps={component:"div",childFactory:function(t){return t}},e.default=l,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.classNamesShape=e.timeoutsShape=void 0,e.transitionTimeout=function(t){var e="transition"+t+"Timeout",n="transition"+t;return function(t){if(t[n]){if(null==t[e])return new Error(e+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof t[e])return new Error(e+" must be a number (in milliseconds)")}return null}};var r,i=(r=n(0))&&r.__esModule?r:{default:r};e.timeoutsShape=i.default.oneOfType([i.default.number,i.default.shape({enter:i.default.number,exit:i.default.number}).isRequired]),e.classNamesShape=i.default.oneOfType([i.default.string,i.default.shape({enter:i.default.string,exit:i.default.string,active:i.default.string}),i.default.shape({enter:i.default.string,enterDone:i.default.string,enterActive:i.default.string,exit:i.default.string,exitDone:i.default.string,exitActive:i.default.string})])},function(t,e,n){"use strict";e.__esModule=!0,e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),i=a(n(1)),o=a(n(49));function a(t){return t&&t.__esModule?t:{default:t}}n(280);var s=e.UNMOUNTED="unmounted",u=e.EXITED="exited",c=e.ENTERING="entering",l=e.ENTERED="entered",h=e.EXITING="exiting",f=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r)),o=r.transitionGroup,a=o&&!o.isMounting?n.enter:n.appear,h=void 0;return i.nextStatus=null,n.in?a?(h=u,i.nextStatus=c):h=l:h=n.unmountOnExit||n.mountOnEnter?s:u,i.state={status:h},i.nextCallback=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{transitionGroup:null}},e.prototype.componentDidMount=function(){this.updateStatus(!0)},e.prototype.componentWillReceiveProps=function(t){var e=(this.pendingState||this.state).status;t.in?(e===s&&this.setState({status:u}),e!==c&&e!==l&&(this.nextStatus=c)):e!==c&&e!==l||(this.nextStatus=h)},e.prototype.componentDidUpdate=function(){this.updateStatus()},e.prototype.componentWillUnmount=function(){this.cancelNextCallback()},e.prototype.getTimeouts=function(){var t=this.props.timeout,e=void 0,n=void 0,r=void 0;return e=n=r=t,null!=t&&"number"!=typeof t&&(e=t.exit,n=t.enter,r=t.appear),{exit:e,enter:n,appear:r}},e.prototype.updateStatus=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.nextStatus;if(null!==e){this.nextStatus=null,this.cancelNextCallback();var n=o.default.findDOMNode(this);e===c?this.performEnter(n,t):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:s})},e.prototype.performEnter=function(t,e){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,o=this.getTimeouts();e||r?(this.props.onEnter(t,i),this.safeSetState({status:c},function(){n.props.onEntering(t,i),n.onTransitionEnd(t,o.enter,function(){n.safeSetState({status:l},function(){n.props.onEntered(t,i)})})})):this.safeSetState({status:l},function(){n.props.onEntered(t)})},e.prototype.performExit=function(t){var e=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(t),this.safeSetState({status:h},function(){e.props.onExiting(t),e.onTransitionEnd(t,r.exit,function(){e.safeSetState({status:u},function(){e.props.onExited(t)})})})):this.safeSetState({status:u},function(){e.props.onExited(t)})},e.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},e.prototype.safeSetState=function(t,e){var n=this;this.pendingState=t,e=this.setNextCallback(e),this.setState(t,function(){n.pendingState=null,e()})},e.prototype.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},e.prototype.onTransitionEnd=function(t,e,n){this.setNextCallback(n),t?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},e.prototype.render=function(){var t=this.state.status;if(t===s)return null;var e=this.props,n=e.children,r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(t,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},e}(i.default.Component);function d(){}f.contextTypes={transitionGroup:r.object},f.childContextTypes={transitionGroup:function(){}},f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:d,onEntering:d,onEntered:d,onExit:d,onExiting:d,onExited:d},f.UNMOUNTED=0,f.EXITED=1,f.ENTERING=2,f.ENTERED=3,f.EXITING=4,e.default=f},function(t,e){},function(t,e,n){t.exports={default:n(403),__esModule:!0}},function(t,e,n){t.exports={default:n(408),__esModule:!0}},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(237),i=n.n(r),o=n(48),a=n.n(o),s=n(236),u=n.n(s),c=n(81),l=n.n(c),h=n(80),f=n.n(h),d=n(242),p=n.n(d),m=n(240),y=n.n(m),g=n(1),v=n.n(g),b=n(239),w=n.n(b),E=n(0),T=n.n(E),S=n(238),k=n(248),I=n(247),A=n.n(I),C=function(t){return v.a.createElement("div",t)},N=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C,n=function(n){function r(){return a()(this,r),l()(this,(r.__proto__||i()(r)).apply(this,arguments))}return f()(r,n),u()(r,[{key:"getChildContext",value:function(){var e=this;return A()(t).reduce(function(t,n){return"children"!==n&&(t[n]=e.props[n]),t},{})}},{key:"render",value:function(){var t=this.props,n=t.children,r=p()(t,["children"]);if(null!==e)return v.a.createElement(e,null,this.props.children);if(1===v.a.Children.count(n)){var i=n;return v.a.Children.only(v.a.cloneElement(i,r))}throw Error("Only one child should exist when base component is null")}}]),r}(g.Component);return n.displayName="withContextFromProps",n.childContextTypes=t,n},_=N({blockChildGatewayRender:T.a.bool},null),O=function(){function t(){a()(this,t),this.containers={},this.children={},this.currentId=0}return u()(t,[{key:"renderContainer",value:function(t,e){var n=this;if(this.containers[t]&&this.children[t]){var r=A()(this.children[t]).sort(),i=r.length,o=r.indexOf(e);this.containers[t].setState({children:r.map(function(r,a){var s=i-(a+1),u=Object(g.cloneElement)(n.children[t][r].child,{stackIndex:s,stackTotal:i}),c=null!=e&&a<o;return v.a.createElement(_,{blockChildGatewayRender:c,key:r},u)})})}}},{key:"addContainer",value:function(t,e){this.containers[t]=e,this.renderContainer(t)}},{key:"removeContainer",value:function(t){this.containers[t]=null}},{key:"addChild",value:function(t,e,n){this.children[t][e]={child:n},this.renderContainer(t,e)}},{key:"clearChild",value:function(t,e){delete this.children[t][e]}},{key:"register",value:function(t,e){this.children[t]=this.children[t]||{};var n=t+"_"+this.currentId;return this.children[t][n]={child:e},this.currentId+=1,n}},{key:"unregister",value:function(t,e){this.clearChild(t,e),this.renderContainer(t)}}]),t}(),x=function(t){function e(t,n){a()(this,e);var r=l()(this,(e.__proto__||i()(e)).call(this,t,n));return r.id="",r.gatewayRegistry=n.gatewayRegistry,r}return f()(e,t),u()(e,[{key:"componentWillMount",value:function(){this.id=this.gatewayRegistry.register(this.props.into,this.props.children),this.renderIntoGatewayNode(this.props)}},{key:"componentWillReceiveProps",value:function(t){t.shouldBlockRender||(this.gatewayRegistry.clearChild(this.props.into,this.id),this.renderIntoGatewayNode(t))}},{key:"componentWillUnmount",value:function(){this.gatewayRegistry.unregister(this.props.into,this.id)}},{key:"renderIntoGatewayNode",value:function(t){this.gatewayRegistry.addChild(this.props.into,this.id,t.children)}},{key:"render",value:function(){return null}}]),e}(g.Component);x.contextTypes={gatewayRegistry:T.a.instanceOf(O).isRequired};var D=x,R=function(t){function e(t,n){a()(this,e);var r=l()(this,(e.__proto__||i()(e)).call(this,t,n));return r.state={children:null},r.gatewayRegistry=n.gatewayRegistry,r}return f()(e,t),u()(e,[{key:"componentWillMount",value:function(){this.gatewayRegistry.addContainer(this.props.name,this)}},{key:"componentWillUnmount",value:function(){this.gatewayRegistry.removeContainer(this.props.name)}},{key:"render",value:function(){var t=this.props,e=t.component,n=p()(t,["component"]);return delete n.name,Object(g.createElement)(e,n,this.state.children)}}]),e}(g.Component);R.contextTypes={gatewayRegistry:T.a.instanceOf(O).isRequired},R.defaultProps={component:"div"};var P=R,M=function(t){function e(t,n){a()(this,e);var r=l()(this,(e.__proto__||i()(e)).call(this,t,n));return r.gatewayRegistry=new O,r}return f()(e,t),u()(e,[{key:"getChildContext",value:function(){return{gatewayRegistry:this.gatewayRegistry}}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.component;return v.a.createElement(n,null,e)}}]),e}(g.Component);M.childContextTypes={gatewayRegistry:T.a.instanceOf(O).isRequired},M.defaultProps={component:"div"};var L=M,F=w()(["\n  position: relative;\n  z-index: 0;\n"],["\n  position: relative;\n  z-index: 0;\n"]),j=S.default.div(F);((function(t){function e(){var t,n,r,o;a()(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=l()(this,(t=e.__proto__||i()(e)).call.apply(t,[this].concat(u))),r.state={ariaHiddenNode:void 0},r.getAppRef=function(t){r.state.ariaHiddenNode||r.setState({ariaHiddenNode:t})},o=n,l()(r,o)}return f()(e,t),u()(e,[{key:"getChildContext",value:function(){return{ariaHiddenNode:this.state.ariaHiddenNode}}},{key:"render",value:function(){var t=this.props.children;return v.a.createElement(L,null,v.a.createElement(j,{innerRef:this.getAppRef},g.Children.only(t)),v.a.createElement(P,{name:"modal",component:k.TransitionGroup}),v.a.createElement(P,{name:"spotlight",component:k.TransitionGroup}),v.a.createElement(P,{name:"flag"}),v.a.createElement(P,{name:"tooltip",component:k.TransitionGroup}))}}]),e})(g.Component)).childContextTypes={ariaHiddenNode:T.a.object};var B=n(49),U=function(t){var e=t.children;return g.Children.toArray(e)[0]||null},V=function(t){function e(){var t,n,r,o;a()(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=l()(this,(t=e.__proto__||i()(e)).call.apply(t,[this].concat(u))),r.portalElement=null,r.mountTimeout=null,r.renderChildren=function(t){var e=r.props,n=e.theme,i=e.withTransitionGroup;return v.a.createElement(S.ThemeProvider,{theme:n},i?v.a.createElement(k.TransitionGroup,{component:U},t):t)},o=n,l()(r,o)}return f()(e,t),u()(e,[{key:"componentDidMount",value:function(){var t=this,e=document.createElement("span");document.body&&(document.body.appendChild(e),this.portalElement=e,this.mountTimeout=setTimeout(function(){return t.componentDidUpdate()},1))}},{key:"componentDidUpdate",value:function(){var t=this.props.children;if(this.portalElement){var e=this.portalElement;Object(B.render)(this.renderChildren(t),e)}}},{key:"componentWillUnmount",value:function(){if(this.mountTimeout&&clearTimeout(this.mountTimeout),this.portalElement){var t=this.portalElement;Object(B.render)(this.renderChildren(),t,function(){setTimeout(function(){var e=document.body;e&&(Object(B.unmountComponentAtNode)(t),e.removeChild(t))},5e3)})}}},{key:"render",value:function(){return null}}]),e}(g.Component),q=Object(S.withTheme)(V);function H(t){return v.a.createElement(S.ThemeProvider,{theme:{}},v.a.createElement(q,t))}var K=n(371),W=n.n(K),G=n(370),z=n.n(G),Q=new(function(){function t(){var e=this;a()(this,t),this.currentLock=null,this.isPolyfilled=!1,this.storedElements=[],this.storeFocus=function(){var t=document.activeElement;t&&e.storedElements.push(t)},this.clearStoredFocus=function(){e.storedElements=[]},this.restoreFocus=function(){if(e.storedElements.length){try{var t=e.storedElements[e.storedElements.length-1];t&&"function"==typeof t.focus&&t.focus()}catch(t){}e.storedElements.pop()}},this.handleFocus=function(){e.focusTarget&&e.focusTarget.focus()},this.handleFocusIn=function(t){var n=t.target;n instanceof HTMLElement&&e.currentLock&&e.currentLock!==n&&!e.currentLock.contains(n)&&e.handleFocus()},this.handleKeyDown=function(t){if("Tab"===t.key){var n=W()(e.currentLock),r=n[0],i=n[n.length-1];t.target!==i||t.shiftKey||(t.preventDefault(),r.focus())}}}return u()(t,[{key:"polyfillFocusIn",value:function(){this.isPolyfilled||(z.a.polyfill(),this.isPolyfilled=!0)}},{key:"addLock",value:function(t){var e=t.autoFocus,n=t.boundary;if(this.clearLock({shouldRestoreFocus:!1}),this.storeFocus(),this.currentLock=n,this.focusTarget=this.findFocusTarget(e),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),n&&void 0===e){this.originalTabindex=n.getAttribute("tabindex")||"";var r=parseInt(this.originalTabindex,10);(!r||r&&r<0)&&n.setAttribute("tabindex","0")}!1!==e&&this.handleFocus()}},{key:"clearLock",value:function(t){document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),this.currentLock&&this.originalTabindex&&(this.originalTabindex?this.currentLock.setAttribute("tabindex",this.originalTabindex):this.currentLock.removeAttribute("tabindex")),t.shouldRestoreFocus&&this.restoreFocus(),this.currentLock=null}},{key:"register",value:function(t){var e=t.autoFocus,n=t.boundary;this.polyfillFocusIn(),this.addLock({autoFocus:e,boundary:n})}},{key:"unregister",value:function(t){this.clearLock(t)}},{key:"findFocusTarget",value:function(t){var e=t&&!("function"==typeof t)||!1,n=this.currentLock;if(e)return W()(this.currentLock)[0];if("function"==typeof t){var r=t();return r&&"function"==typeof r.focus?r:(console.warn("Invalid `autoFocus` provided:",r),n)}return n}}]),t}()),X=function(t){function e(){var t,n,r,o;a()(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=l()(this,(t=e.__proto__||i()(e)).call.apply(t,[this].concat(u))),r.initFromProps=!1,r.teardownFromProps=!1,r.initialise=function(){var t=r.props.autoFocus;r.getBoundary(),r.ariaHiddenNode=r.props.ariaHiddenNode||r.context.ariaHiddenNode,r.ariaHiddenNode&&r.ariaHiddenNode.setAttribute("aria-hidden",""),Q.register({autoFocus:t,boundary:r.boundary})},r.teardown=function(t){r.ariaHiddenNode&&r.ariaHiddenNode.removeAttribute("aria-hidden"),Q.unregister(t)},o=n,l()(r,o)}return f()(e,t),u()(e,[{key:"componentDidMount",value:function(){var t=this.props.enabled;(t||void 0===t)&&this.initialise()}},{key:"componentWillUnmount",value:function(){this.initFromProps||this.teardownFromProps||this.teardown({shouldRestoreFocus:!0})}},{key:"componentWillReceiveProps",value:function(t){t.enabled&&t.enabled!==this.props.enabled&&(this.initFromProps=!0,this.initialise()),t.enabled||t.enabled===this.props.enabled||(this.teardownFromProps=!0,this.teardown({shouldRestoreFocus:!0}))}},{key:"getBoundary",value:function(){var t=Object(B.findDOMNode)(this);t instanceof HTMLElement&&(this.boundary=t)}},{key:"render",value:function(){return this.props.children}}]),e}(g.Component);X.contextTypes={ariaHiddenNode:T.a.object};var Y=X,J=["boxSizing","height","overflow","paddingRight","position"],$={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"},Z=0,tt=function(t){function e(){var t,n,r,o;a()(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=l()(this,(t=e.__proto__||i()(e)).call.apply(t,[this].concat(u))),r.originalStyles={},o=n,l()(r,o)}return f()(e,t),u()(e,[{key:"componentDidMount",value:function(){var t=this,e=document.body,n=e&&e.style;if(J.forEach(function(e){var r=n&&n[e];t.originalStyles[e]=r}),Z<1){var r=parseInt(this.originalStyles.paddingRight,10),i=document.body?document.body.clientWidth:0,o=window.innerWidth-i+r||0;A()($).forEach(function(t){var e=$[t];n&&(n[t]=e)}),n&&(n.paddingRight=o+"px")}Z+=1}},{key:"componentWillUnmount",value:function(){var t=this,e=document.body,n=e&&e.style;(Z=Math.max(Z-1,0))<1&&J.forEach(function(e){var r=t.originalStyles[e];n&&(n[e]=r)})}},{key:"render",value:function(){return null}}]),e}(g.Component),et=n(244),nt=w()(["\n  background: ",";\n  bottom: 0;\n  left: 0;\n  opacity: ",";\n  pointer-events: ",";\n  position: fixed;\n  right: 0;\n  top: 0;\n  transition: opacity 220ms;\n  z-index: ",";\n"],["\n  background: ",";\n  bottom: 0;\n  left: 0;\n  opacity: ",";\n  pointer-events: ",";\n  position: fixed;\n  right: 0;\n  top: 0;\n  transition: opacity 220ms;\n  z-index: ",";\n"]),rt=Object(et.themed)({light:et.colors.N100A,dark:et.colors.DN90A}),it=S.default.div(nt,rt,function(t){return t.isTinted?1:0},function(t){return t.canClickThrough?"none":"initial"},et.layers.blanket),ot=function(t){function e(){return a()(this,e),l()(this,(e.__proto__||i()(e)).apply(this,arguments))}return f()(e,t),u()(e,[{key:"render",value:function(){var t=this.props,e=t.canClickThrough,n=t.isTinted,r=t.onBlanketClicked,i={canClickThrough:e,isTinted:n,onClick:e?null:r};return v.a.createElement(it,i)}}]),e}(g.PureComponent);ot.defaultProps={canClickThrough:!1,isTinted:!1,onBlanketClicked:function(){}};var at=ot,st={values:["small","medium","large","x-large"],widths:{small:400,medium:600,large:800,"x-large":968},defaultValue:"medium"},ut=w()(["\n  height: 100vh;\n  left: 0;\n  overflow-y: auto;\n  position: absolute;\n  top: ","px;\n  width: 100%;\n  z-index: ",";\n  -webkit-overflow-scrolling: touch;\n"],["\n  height: 100vh;\n  left: 0;\n  overflow-y: auto;\n  position: absolute;\n  top: ","px;\n  width: 100%;\n  z-index: ",";\n  -webkit-overflow-scrolling: touch;\n"]),ct=w()(["\n  display: flex;\n  flex-direction: column;\n  height: ",";\n  left: 0;\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ",";\n  position: absolute;\n  right: 0;\n  top: ","px;\n  width: ",";\n  z-index: ",";\n"],["\n  display: flex;\n  flex-direction: column;\n  height: ",";\n  left: 0;\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ",";\n  position: absolute;\n  right: 0;\n  top: ","px;\n  width: ",";\n  z-index: ",";\n"]),lt=w()(["\n  margin: ","px auto;\n  position: relative;\n  width: ",";\n  z-index: ",";\n"],["\n  margin: ","px auto;\n  position: relative;\n  width: ",";\n  z-index: ",";\n"]),ht=w()(["\n  "," color: ",";\n  display: flex;\n  flex-direction: column;\n  height: ",";\n  ",";\n  outline: 0;\n"],["\n  "," color: ",";\n  display: flex;\n  flex-direction: column;\n  height: ",";\n  ",";\n  outline: 0;\n"]),ft=w()(["\n          background-color: ",";\n          border-radius: ","px;\n          box-shadow: ",";\n        "],["\n          background-color: ",";\n          border-radius: ","px;\n          box-shadow: ",";\n        "]),dt=function(t){return t.isChromeless?"none":"\n    0 0 0 1px "+et.colors.N30A+", 0 2px 1px "+et.colors.N30A+",\n    0 0 20px -6px "+et.colors.N60A+"\n  "},pt=function(t){return t.isChromeless?"transparent":Object(et.themed)({light:et.colors.N0,dark:et.colors.DN50})},mt=function(t){var e=t.widthName,n=t.widthValue;return"number"==typeof n?n+"px":e?st.widths[e]+"px":n||"auto"},yt=S.default.div(ut,function(t){return t.scrollDistance},et.layers.modal),gt=S.default.div(ct,"calc(100% - 119px)","calc(100% - 120px)",60,mt,et.layers.modal),vt=S.default.div(lt,60,mt,et.layers.modal),bt=S.default.div(ht,function(t){return t.isChromeless?null:Object(S.css)(ft,pt,et.borderRadius,dt)},et.colors.text,function(t){var e=t.heightValue;return"number"==typeof e?e+"px":e||"auto"},"\n  max-height: calc(100% - 1px);\n");gt.displayName="PositionerAbsolute",bt.displayName="Dialog",yt.displayName="FillScreen",vt.displayName="PositionerRelative";var wt=500;function Et(t){var e=t.component,n=t.in,r=t.onEnter,i=t.onEntering,o=t.onEntered,a=t.onExit,s=t.onExiting,u=t.onExited,c=t.style,l=t.styleDefault,h=t.customTransition,f=t.transition,d=p()(t,["component","in","onEnter","onEntering","onEntered","onExit","onExiting","onExited","style","styleDefault","customTransition","transition"]);return v.a.createElement(k.Transition,{appear:!0,in:n,mountOnEnter:!0,onEnter:r,onEntering:i,onEntered:o,onExit:a,onExiting:s,onExited:u,timeout:wt,unmountOnExit:!0},function(t){if("exited"===t)return null;var n=y()({},c,l,f[t],f[h]);return v.a.createElement(e,y()({style:n},d))})}Et.defaultProps={component:"div"};var Tt=function(t){return v.a.createElement(Et,y()({styleDefault:{transition:"opacity "+wt/2+"ms"},transition:{entering:{opacity:0},entered:{opacity:1},exiting:{opacity:0}}},t))},St=function(t){var e=t.stackIndex,n=t.in,r=t.style,i=t.component,o=p()(t,["stackIndex","in","style","component"]),a=8*e,s="translate3d(0, "+a+"px, 0)";return v.a.createElement(Et,y()({component:i,in:n,style:r,styleDefault:{transition:"transform "+wt+"ms cubic-bezier(0.23, 1, 0.32, 1)",transform:s},transition:{entering:{transform:"translate3d(0, 32px, 0)"},entered:{transform:s},afterEntered:{transform:null,top:a+("PositionerAbsolute"===i.displayName?60:0)},exit:{transform:s},exiting:{transform:"translate3d(0, -32px, 0)"}}},o))},kt=function(t){var e=[],n=null,r=function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=i,n||(n=requestAnimationFrame(function(){n=null,t.apply(void 0,e)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r},It=n(262),At=w()(["\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  ",";\n"],["\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  ",";\n"]),Ct=w()(["\n  align-items: center;\n  display: flex;\n  flex: 0 0 auto;\n  justify-content: space-between;\n  transition: box-shadow 200ms;\n"],["\n  align-items: center;\n  display: flex;\n  flex: 0 0 auto;\n  justify-content: space-between;\n  transition: box-shadow 200ms;\n"]),Nt=w()(["\n  padding: ","px ","px ","px;\n  box-shadow: ",";\n"],["\n  padding: ","px ","px ","px;\n  box-shadow: ",";\n"]),_t=w()(["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"],["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]),Ot=w()(["\n  align-items: center;\n  display: flex;\n  font-size: 20px;\n  font-style: inherit;\n  font-weight: 500;\n  letter-spacing: -0.008em;\n  line-height: 1;\n  margin: 0;\n  min-width: 0;\n"],["\n  align-items: center;\n  display: flex;\n  font-size: 20px;\n  font-style: inherit;\n  font-weight: 500;\n  letter-spacing: -0.008em;\n  line-height: 1;\n  margin: 0;\n  min-width: 0;\n"]),xt=w()(["\n  flex: 1 1 auto;\n  min-width: 0;\n  word-wrap: break-word;\n  width: 100%;\n  ",";\n"],["\n  flex: 1 1 auto;\n  min-width: 0;\n  word-wrap: break-word;\n  width: 100%;\n  ",";\n"]),Dt=w()(["\n  color: ",";\n  margin-right: ","px;\n  flex: 0 0 auto;\n"],["\n  color: ",";\n  margin-right: ","px;\n  flex: 0 0 auto;\n"]),Rt=w()(["\n  flex: 1 1 auto;\n  ",";\n"],["\n  flex: 1 1 auto;\n  ",";\n"]),Pt=w()(["\n  display: inline-flex;\n  margin: 0 -","px;\n"],["\n  display: inline-flex;\n  margin: 0 -","px;\n"]),Mt=w()(["\n  flex: 1 0 auto;\n  margin: 0 ","px;\n"],["\n  flex: 1 0 auto;\n  margin: 0 ","px;\n"]),Lt=Object(et.themed)({light:et.colors.N30,dark:et.colors.DN30}),Ft=2,jt=S.default.div(At,"\n  max-height: calc(100% - 1px);\n"),Bt=S.default.div(Ct),Ut=Object(S.default)(Bt)(Nt,20,20,16-Ft,function(t){return t.showKeyline?" 0 "+Ft+"px 0 0 "+Lt(t):"none"}),Vt=Object(S.css)(_t),qt=S.default.h4(Ot),Ht=S.default.span(xt,function(t){return!t.isHeadingMultiline&&Vt}),Kt={danger:et.colors.R400,warning:et.colors.Y400},Wt=S.default.span(Dt,function(t){return Kt[t.appearance]},et.gridSize),Gt=S.default.div(Rt,function(t){return t.shouldScroll?"\n          overflow-y: auto;\n          overflow-x: hidden;\n          padding: "+Ft+"px 20px;\n        ":"\n          padding: 0 20px;\n        "}),zt=Object(S.default)(Bt)(Nt,16-Ft,20,20,function(t){return t.showKeyline?"0 -"+Ft+"px 0 0 "+Lt(t):"none"}),Qt=S.default.div(Pt,et.math.divide(et.gridSize,2)),Xt=S.default.div(Mt,et.math.divide(et.gridSize,2)),Yt=function(t){return v.a.createElement("span",t)},Jt=function(t){function e(){return a()(this,e),l()(this,(e.__proto__||i()(e)).apply(this,arguments))}return f()(e,t),u()(e,[{key:"render",value:function(){var t=this.props,e=t.actions,n=t.appearance,r=t.component,i=t.onClose,o=t.showKeyline;return r||e?r&&e?console.warn("You can provide `component` OR `actions`, not both."):r?Object(g.createElement)(r,{appearance:n,onClose:i,showKeyline:o}):v.a.createElement(zt,{showKeyline:o},v.a.createElement(Yt,null),v.a.createElement(Qt,null,e?e.map(function(t,e){var r=t.text,i=p()(t,["text"]),o=e?"subtle":n||"primary";return v.a.createElement(Xt,{key:r||e},v.a.createElement(It.a,y()({appearance:o,autoFocus:!e},i),r))}):null)):null}}]),e}(g.Component),$t=n(369),Zt=n.n($t),te=n(362),ee=n.n(te),ne={danger:Zt.a,warning:ee.a},re=function(t){var e=t.appearance;if(!e)return null;var n=ne[e];return v.a.createElement(Wt,{appearance:e},v.a.createElement(n,{label:e+" icon"}))},ie=function(t){function e(){return a()(this,e),l()(this,(e.__proto__||i()(e)).apply(this,arguments))}return f()(e,t),u()(e,[{key:"render",value:function(){var t=this.props,e=t.appearance,n=t.component,r=t.heading,i=t.onClose,o=t.showKeyline,a=t.isHeadingMultiline;return n||r?n&&r?console.warn("You can provide `component` OR `heading`, not both."):n?Object(g.createElement)(n,{appearance:e,onClose:i,showKeyline:o,isHeadingMultiline:a}):v.a.createElement(Ut,{showKeyline:o},v.a.createElement(qt,{isHeadingMultiline:a},v.a.createElement(re,{appearance:e}),v.a.createElement(Ht,{isHeadingMultiline:a},r))):null}}]),e}(g.Component);ie.defaultProps={isHeadingMultiline:!0};var oe=ie,ae=function(t){function e(t,n){a()(this,e);var r=l()(this,(e.__proto__||i()(e)).call(this,t,n));return r.escapeIsHeldDown=!1,r._isMounted=!1,r.state={showFooterKeyline:!1,showHeaderKeyline:!1,tabbableElements:[]},r.determineKeylines=function(){if(r.scrollContainer){var t=r.scrollContainer,e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight,o=e>Ft,a=e<=n-i-Ft;r.setState({showHeaderKeyline:o,showFooterKeyline:a})}},r.getScrollContainer=function(t){t&&(r.scrollContainer=t)},r.handleKeyUp=function(){r.escapeIsHeldDown=!1},r.handleKeyDown=function(t){var e=r.props,n=e.onClose,i=e.shouldCloseOnEscapePress,o=e.stackIndex,a=void 0===o?0:o;if(!r.escapeIsHeldDown&&("Escape"===t.key&&(r.escapeIsHeldDown=!0),r._isMounted&&!(a>0)))switch(t.key){case"Escape":i&&n(t)}},r.handleStackChange=function(t){var e=r.props.onStackChange;e&&e(t)},r.determineKeylines=kt(r.determineKeylines),r}return f()(e,t),u()(e,[{key:"componentDidMount",value:function(){if(this._isMounted=!0,document.addEventListener("keydown",this.handleKeyDown,!1),document.addEventListener("keyup",this.handleKeyUp,!1),this.scrollContainer){var t=this.scrollContainer;window.addEventListener("resize",this.determineKeylines,!1),t.addEventListener("scroll",this.determineKeylines,!1),this.determineKeylines()}}},{key:"componentWillReceiveProps",value:function(t){var e=this.props.stackIndex;t.stackIndex&&t.stackIndex!==e&&this.handleStackChange(t.stackIndex)}},{key:"componentWillUnmount",value:function(){if(this._isMounted=!1,document.removeEventListener("keydown",this.handleKeyDown,!1),document.removeEventListener("keyup",this.handleKeyUp,!1),this.scrollContainer){var t=this.scrollContainer;window.removeEventListener("resize",this.determineKeylines,!1),t.removeEventListener("scroll",this.determineKeylines,!1)}}},{key:"render",value:function(){var t=this.props,e=t.actions,n=t.appearance,r=t.body,i=t.children,o=t.footer,a=t.header,s=t.heading,u=t.onClose,c=t.isChromeless,l=t.isHeadingMultiline,h=t.shouldScroll,f=this.state,d=f.showFooterKeyline,p=f.showHeaderKeyline;return c?v.a.createElement(jt,null,i,v.a.createElement(tt,null)):v.a.createElement(jt,null,v.a.createElement(oe,{appearance:n,component:a,heading:s,onClose:u,isHeadingMultiline:l,showKeyline:p}),v.a.createElement(r,{innerRef:this.getScrollContainer,shouldScroll:h},i),v.a.createElement(Jt,{actions:e,appearance:n,component:o,onClose:u,showKeyline:d}),v.a.createElement(tt,null))}}]),e}(g.Component);ae.defaultProps={autoFocus:!1,isChromeless:!1,stackIndex:0,body:Gt,isHeadingMultiline:!0},ae.contextTypes={appId:T.a.string};var se=ae,ue=function(t){return v.a.createElement(Tt,y()({component:yt},t))},ce=function(t){var e=t.scrollBehavior,n=p()(t,["scrollBehavior"]),r="inside"===e?gt:vt;return v.a.createElement(St,y()({component:r},n))};function le(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}var he=function(t){function e(){var t,n,r,o;a()(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=l()(this,(t=e.__proto__||i()(e)).call.apply(t,[this].concat(u))),Te.call(r),o=n,l()(r,o)}return f()(e,t),u()(e,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleWindowScroll)}},{key:"render",value:function(){var t=this.props,e=t.actions,n=t.appearance,r=t.autoFocus,i=t.body,o=t.children,a=t.footer,s=t.header,u=t.height,c=t.in,l=t.isChromeless,h=t.isHeadingMultiline,f=t.onClose,d=t.onCloseComplete,p=t.onStackChange,m=t.shouldCloseOnEscapePress,g=t.stackIndex,b=t.heading,w=t.width,E=t.scrollBehavior,T=this.state,S=T.isExiting,k=T.scrollDistance,I=null!=g&&g>0,A={in:c,stackIndex:g},C=st.values.includes(w)?w:null,N=C?null:w,_=!this.state.hasEntered||this.state.isExiting||I?"":"afterEntered";return v.a.createElement(ue,y()({},A,{"aria-hidden":I,onExit:this.handleExit,scrollDistance:k}),v.a.createElement(at,{isTinted:!0,onBlanketClicked:this.handleOverlayClick}),v.a.createElement(ce,y()({},A,{customTransition:_,onClick:this.handleOverlayClick,onEntered:this.handleEntered,onExited:d,scrollBehavior:E,widthName:C,widthValue:N}),v.a.createElement(Y,{enabled:0===g&&!S,autoFocus:r},v.a.createElement(bt,{heightValue:u,isChromeless:l,onClick:this.handleDialogClick,role:"dialog",tabIndex:"-1"},v.a.createElement(se,{actions:e,appearance:n,footer:a,heading:b,isHeadingMultiline:h,header:s,onClose:f,shouldScroll:"inside"===E,shouldCloseOnEscapePress:m,onStackChange:p,isChromeless:l,stackIndex:g,body:i},o)))))}}]),e}(g.Component);he.defaultProps={autoFocus:void 0,scrollBehavior:"inside",shouldCloseOnEscapePress:!0,shouldCloseOnOverlayClick:!0,isChromeless:!1,stackIndex:0,width:"medium",isHeadingMultiline:!0};var fe,de,pe,me,ye,ge,ve,be,we,Ee,Te=function(){var t=this;this.state={dialogNode:null,scrollDistance:le(),hasEntered:!1,isExiting:!1},this.handleWindowScroll=function(){le()!==t.state.scrollDistance&&window.scrollTo(window.pageXOffset,t.state.scrollDistance)},this.handleOverlayClick=function(e){t.props.shouldCloseOnOverlayClick&&t.props.onClose(e)},this.handleDialogClick=function(t){t.stopPropagation()},this.handleEntered=function(){var e;t.setState({hasEntered:!0}),t.props.onOpenComplete&&(e=t.props).onOpenComplete.apply(e,arguments)},this.handleExit=function(){window.removeEventListener("scroll",t.handleWindowScroll),t.setState({isExiting:!0})}},Se=(de=he,ye=(fe={target:"modal",withTransitionGroup:!0}).target,ge=fe.withTransitionGroup,ve={onAnalyticsEvent:T.a.func,getParentAnalyticsData:T.a.func,getAtlaskitAnalyticsContext:T.a.func,getAtlaskitAnalyticsEventHandlers:T.a.func},be={store:T.a.object,intl:T.a.object,triggerAnalytics:T.a.func,internalFormContext:T.a.object,validateColumn:T.a.func,createColumnMenu:T.a.func,getScrollTop:T.a.func,configuration:T.a.object,getDraggableOriginCenterPos:T.a.func,getDraggableTranslatedCenterPos:T.a.func,akProfileClient:T.a.object,cloudId:T.a.string,subscribeEngagementState:T.a.func,perfMetricsStart:T.a.func,spotlightRegistry:T.a.object,slideRight:T.a.func,consumerStore:T.a.object,onBarSelected:T.a.func},we=y()({},ve,be),Ee=N(we,null),me=pe=function(t){function e(){var t,n,r,o;a()(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=l()(this,(t=e.__proto__||i()(e)).call.apply(t,[this].concat(u))),r.getWrappedComponentRef=function(t){r.gatewayOrPortalChildRef=t},o=n,l()(r,o)}return f()(e,t),u()(e,[{key:"render",value:function(){var t=this.context,e=t.gatewayRegistry,n=p()(t,["gatewayRegistry"]),r=e?D:H;return v.a.createElement(r,{id:"",into:ye,withTransitionGroup:ge,shouldBlockRender:this.context.blockChildGatewayRender},v.a.createElement(Ee,n,v.a.createElement(de,y()({ref:this.getWrappedComponentRef},this.props))))}}]),e}(g.Component),pe.contextTypes=y()({gatewayRegistry:T.a.instanceOf(O),blockChildGatewayRender:T.a.bool},ve,be),me);n.d(e,"a",function(){return Se}),n.d(e,!1,function(){return Gt}),n.d(e,!1,function(){return Ut}),n.d(e,!1,function(){return zt}),n.d(e,!1,function(){return qt})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){(function(global){(function(){var g,goog=goog||{},k=this;function l(t){return"string"==typeof t}function n(t,e){t=t.split("."),e=e||k;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function aa(){}function ba(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){return"array"==ba(t)}function ca(t){var e=ba(t);return"array"==e||"object"==e&&"number"==typeof t.length}function da(t){return"function"==ba(t)}function ea(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var q="closure_uid_"+(1e9*Math.random()>>>0),fa=0;function ha(t,e,n){return t.call.apply(t.bind,arguments)}function ia(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function r(t,e,n){return(r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia).apply(null,arguments)}function ja(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var t=Date.now||function(){return+new Date};function u(t,e){function n(){}n.prototype=e.prototype,t.H=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Ib=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ka(t){if(Error.captureStackTrace)Error.captureStackTrace(this,ka);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function la(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");ka.call(this,n+t[r])}function ma(t,e){throw new la("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function w(){0!=na&&(pa[this[q]||(this[q]=++fa)]=this),this.i=this.i,this.m=this.m}u(ka,Error),ka.prototype.name="CustomError",u(la,ka),la.prototype.name="AssertionError";var na=0,pa={};w.prototype.i=!1,w.prototype.$=function(){if(!this.i&&(this.i=!0,this.w(),0!=na)){var t=this[q]||(this[q]=++fa);if(0!=na&&this.m&&0<this.m.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete pa[t]}},w.prototype.w=function(){if(this.m)for(;this.m.length;)this.m.shift()()};var qa=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(l(t))return l(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ra=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=l(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function sa(t){t:{for(var e=ta,n=t.length,r=l(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}function ua(t){if(!p(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function va(t){return Array.prototype.concat.apply([],arguments)}function wa(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function xa(t){return/^[\s\xa0]*$/.test(t)}var ya=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},x;function za(t,e){return t<e?-1:t>e?1:0}t:{var Aa=k.navigator;if(Aa){var Ba=Aa.userAgent;if(Ba){x=Ba;break t}}x=""}function y(t){return-1!=x.indexOf(t)}function Ca(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Da(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function Ea(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function Fa(t){var e,n={};for(e in t)n[e]=t[e];return n}var Ga="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ha(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ga.length;o++)n=Ga[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ia(t){return Ia[" "](t),t}function Ja(t,e){var n=Ka;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}Ia[" "]=aa;var La=y("Opera"),z=y("Trident")||y("MSIE"),Ma=y("Edge"),Na=Ma||z,Oa=y("Gecko")&&!(-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),Pa=-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"),Ra,a;function Qa(){var t=k.document;return t?t.documentMode:void 0}t:{var Sa="",Ta=(a=x,Oa?/rv:([^\);]+)(\)|;)/.exec(a):Ma?/Edge\/([\d\.]+)/.exec(a):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Pa?/WebKit\/(\S+)/.exec(a):La?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Ta&&(Sa=Ta?Ta[1]:""),z){var Ua=Qa();if(null!=Ua&&Ua>parseFloat(Sa)){Ra=String(Ua);break t}}Ra=Sa}var Ka={},Wa;function Va(t){return Ja(t,function(){for(var e=0,n=ya(String(Ra)).split("."),r=ya(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=za(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||za(0==a[2].length,0==s[2].length)||za(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var Xa=k.document;Wa=Xa&&z?Qa()||("CSS1Compat"==Xa.compatMode?parseInt(Ra,10):5):void 0;var Ya=Object.freeze||function(t){return t},Za=!z||9<=Number(Wa),$a=z&&!Va("9"),ab=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return k.addEventListener("test",aa,e),k.removeEventListener("test",aa,e),t}();function A(t,e){this.type=t,this.a=this.target=e,this.Ra=!0}function bb(t,e){if(A.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Oa){t:{try{Ia(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:cb[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}A.prototype.b=function(){this.Ra=!1},u(bb,A);var cb=Ya({2:"touch",3:"pen",4:"mouse"});bb.prototype.b=function(){bb.H.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$a)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var db="closure_listenable_"+(1e6*Math.random()|0),eb=0;function fb(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ga=i,this.key=++eb,this.Z=this.ba=!1}function gb(t){t.Z=!0,t.listener=null,t.proxy=null,t.src=null,t.ga=null}function hb(t){this.src=t,this.a={},this.b=0}function jb(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=qa(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(gb(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ib(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Z&&o.listener==e&&o.capture==!!n&&o.ga==r)return i}return-1}hb.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ib(t,e,r,i);return-1<a?(e=t[a],n||(e.ba=!1)):((e=new fb(e,this.src,o,!!r,i)).ba=n,t.push(e)),e};var kb="closure_lm_"+(1e6*Math.random()|0),lb={},mb=0;function nb(t,e,n,r,i){if(r&&r.once)return ob(t,e,n,r,i);if(p(e)){for(var o=0;o<e.length;o++)nb(t,e[o],n,r,i);return null}return n=pb(n),t&&t[db]?t.Ia(e,n,ea(r)?!!r.capture:!!r,i):qb(t,e,n,!1,r,i)}function qb(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=ea(i)?!!i.capture:!!i,s=rb(t);if(s||(t[kb]=s=new hb(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=sb(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ab||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(tb(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return mb++,n}function sb(){var t=ub,e=Za?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function ob(t,e,n,r,i){if(p(e)){for(var o=0;o<e.length;o++)ob(t,e[o],n,r,i);return null}return n=pb(n),t&&t[db]?t.Ja(e,n,ea(r)?!!r.capture:!!r,i):qb(t,e,n,!0,r,i)}function vb(t,e,n,r,i){if(p(e))for(var o=0;o<e.length;o++)vb(t,e[o],n,r,i);else r=ea(r)?!!r.capture:!!r,n=pb(n),t&&t[db]?(t=t.f,(e=String(e).toString())in t.a&&-1<(n=ib(o=t.a[e],n,r,i))&&(gb(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=rb(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ib(e,n,r,i)),(n=-1<t?e[t]:null)&&wb(n))}function wb(t){if("number"!=typeof t&&t&&!t.Z){var e=t.src;if(e&&e[db])jb(e.f,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(tb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),mb--,(n=rb(e))?(jb(n,t),0==n.b&&(n.src=null,e[kb]=null)):gb(t)}}}function tb(t){return t in lb?lb[t]:lb[t]="on"+t}function xb(t,e,n,r){var i=!0;if((t=rb(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.Z&&(o=yb(o,r),i=i&&!1!==o)}return i}function yb(t,e){var n=t.listener,r=t.ga||t.src;return t.ba&&wb(t),n.call(r,e)}function ub(t,e){if(t.Z)return!0;if(!Za){var r=e||n("window.event");e=new bb(r,this);var i=!0;if(!(0>r.keyCode||void 0!=r.returnValue)){t:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=e.a;o;o=o.parentNode)r.push(o);for(t=t.type,o=r.length-1;0<=o;o--){e.a=r[o];var a=xb(r[o],t,!0,e);i=i&&a}for(o=0;o<r.length;o++)e.a=r[o],a=xb(r[o],t,!1,e),i=i&&a}return i}return yb(t,new bb(e,this))}function rb(t){return(t=t[kb])instanceof hb?t:null}var zb="__closure_events_fn_"+(1e9*Math.random()>>>0);function pb(t){return da(t)?t:(t[zb]||(t[zb]=function(e){return t.handleEvent(e)}),t[zb])}function B(){w.call(this),this.f=new hb(this),this.N=this,this.J=null}function Ab(t,e,n,r){if(!(e=t.f.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Z&&a.capture==n){var s=a.listener,u=a.ga||a.src;a.ba&&jb(t.f,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ra}function Bb(t){return!/^\s*$/.test(t)&&/^[\],:{}\s\u2028\u2029]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function Cb(a){if(a=String(a),Bb(a))try{return eval("("+a+")")}catch(t){}throw Error("Invalid JSON string: "+a)}function Db(t){var e=[];return Eb(new Fb,t,e),e.join("")}function Fb(){}function Eb(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(p(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),Eb(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),Gb(r,n),n.push(":"),Eb(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Gb(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}u(B,w),B.prototype[db]=!0,g=B.prototype,g.addEventListener=function(t,e,n,r){nb(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){vb(this,t,e,n,r)},g.dispatchEvent=function(t){var e,n=this.J;if(n)for(e=[];n;n=n.J)e.push(n);n=this.N;var r=t.type||t;if(l(t))t=new A(t,n);else if(t instanceof A)t.target=t.target||n;else{var i=t;Ha(t=new A(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Ab(a,r,!0,t)&&i}if(i=Ab(a=t.a=n,r,!0,t)&&i,i=Ab(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ab(a=t.a=e[o],r,!1,t)&&i;return i},g.w=function(){if(B.H.w.call(this),this.f){var t,e=this.f;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)gb(n[r]);delete e.a[t],e.b--}}this.J=null},g.Ia=function(t,e,n,r){return this.f.add(String(t),e,!1,n,r)},g.Ja=function(t,e,n,r){return this.f.add(String(t),e,!0,n,r)};var Hb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ib=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Gb(t,e){e.push('"',t.replace(Ib,function(t){var e=Hb[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Hb[t]=e),e}),'"')}function Jb(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Kb(){this.b=this.a=null}Jb.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Nb=new Jb(function(){return new Lb},function(t){t.reset()}),Rb,Tb;function Ob(){var t=Pb,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Lb(){this.next=this.b=this.a=null}function Qb(t){k.setTimeout(function(){throw t},0)}function Sb(){var t=k.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=r(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!y("Trident")&&!y("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).za;n.za=null,t()}},function(t){i.next={za:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){k.setTimeout(t,0)}}function Ub(){if(-1!=String(k.Promise).indexOf("[native code]")){var t=k.Promise.resolve(void 0);Tb=function(){t.then(Vb)}}else Tb=function(){var t=Vb;!da(k.setImmediate)||k.Window&&k.Window.prototype&&!y("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(Rb||(Rb=Sb()),Rb(t)):k.setImmediate(t)}}Kb.prototype.add=function(t,e){var n=Nb.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Lb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Lb.prototype.reset=function(){this.next=this.b=this.a=null};var Wb=!1,Pb=new Kb;function Vb(){for(var t;t=Ob();){try{t.a.call(t.b)}catch(t){Qb(t)}var e=Nb;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Wb=!1}function Xb(e,n){B.call(this),this.b=e||1,this.a=n||k,this.c=r(this.qb,this),this.g=t()}function Yb(t){t.ea=!1,t.O&&(t.a.clearTimeout(t.O),t.O=null)}function Zb(t,e,n){if(da(t))n&&(t=r(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=r(t.handleEvent,t)}return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function $b(t,e,n){w.call(this),this.f=null!=n?r(t,n):t,this.c=e,this.b=r(this.kb,this),this.a=[]}function ac(t){t.Y=Zb(t.b,t.c),t.f.apply(null,t.a)}function bc(t){w.call(this),this.b=t,this.a={}}u(Xb,B),g=Xb.prototype,g.ea=!1,g.O=null,g.qb=function(){if(this.ea){var e=t()-this.g;0<e&&e<.8*this.b?this.O=this.a.setTimeout(this.c,this.b-e):(this.O&&(this.a.clearTimeout(this.O),this.O=null),this.dispatchEvent("tick"),this.ea&&(this.O=this.a.setTimeout(this.c,this.b),this.g=t()))}},g.start=function(){this.ea=!0,this.O||(this.O=this.a.setTimeout(this.c,this.b),this.g=t())},g.w=function(){Xb.H.w.call(this),Yb(this),delete this.a},u($b,w),g=$b.prototype,g.ha=!1,g.Y=null,g.cb=function(t){this.a=arguments,this.Y?this.ha=!0:ac(this)},g.w=function(){$b.H.w.call(this),this.Y&&(k.clearTimeout(this.Y),this.Y=null,this.ha=!1,this.a=[])},g.kb=function(){this.Y=null,this.ha&&(this.ha=!1,ac(this))},u(bc,w);var cc=[];function dc(t,e,n,r){p(n)||(n&&(cc[0]=n.toString()),n=cc);for(var i=0;i<n.length;i++){var o=nb(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ec(t){Ca(t.a,function(t,e){this.a.hasOwnProperty(e)&&wb(t)},t),t.a={}}function fc(t,e,n){this.reset(t,e,n,void 0,void 0)}bc.prototype.w=function(){bc.H.w.call(this),ec(this)},bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fc.prototype.a=null;var gc=0;function hc(t){this.f=t,this.b=this.c=this.a=null}function C(t,e){this.name=t,this.value=e}fc.prototype.reset=function(e,n,r,i,o){"number"==typeof o||gc++,i||t(),delete this.a},C.prototype.toString=function(){return this.name};var ic=new C("SEVERE",1e3),jc=new C("WARNING",900),kc=new C("INFO",800),lc=new C("CONFIG",700),mc=new C("FINE",500);function nc(t){return t.c?t.c:t.a?nc(t.a):(ma("Root logger has no level set."),null)}hc.prototype.log=function(t,e,n){if(t.value>=nc(this).value)for(da(e)&&(e=e()),t=new fc(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var oc={},pc=null;function qc(t){var e;if(pc||(pc=new hc(""),oc[""]=pc,pc.c=lc),!(e=oc[t])){e=new hc(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=qc(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,oc[t]=e}return e}function D(t,e){t&&t.log(jc,e,void 0)}function rc(t,e){t&&t.log(kc,e,void 0)}function E(t,e){t&&t.log(mc,e,void 0)}function sc(){this.a=qc("goog.labs.net.webChannel.WebChannelDebug"),this.b=!0}function tc(t,e,n,r,i,o){F(t,function(){if(t.b)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}function uc(t,e,n,r,i,o,a){F(t,function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}function G(t,e,n,r){F(t,function(){return"XMLHTTP TEXT ("+e+"): "+vc(t,n)+(r?" "+r:"")})}function wc(t,e){F(t,function(){return"TIMEOUT: "+e})}function H(t,e){E(t.a,e)}function xc(t,e,n){(t=t.a)&&t.log(ic,n||"Exception",e)}function F(t,e){rc(t.a,e)}function J(t,e){(t=t.a)&&t.log(ic,e,void 0)}function vc(t,e){if(!t.b)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(var r=0;r<n.length;r++)if(p(n[r])){var i=n[r];if(!(2>i.length)){var o=i[1];if(p(o)&&!(1>o.length)){var a=o[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<o.length;s++)o[s]=""}}}return Db(n)}catch(n){return H(t,"Exception parsing expected JS array - probably was not JS"),e}}sc.prototype.Fa=function(){this.b=!1};var yc=new B;function zc(t){A.call(this,"serverreachability",t)}function Ac(t){yc.dispatchEvent(new zc(yc,t))}function Bc(t){A.call(this,"statevent",t)}function K(t){yc.dispatchEvent(new Bc(yc,t))}function Cc(t){A.call(this,"timingevent",t)}function Dc(t,e,n){yc.dispatchEvent(new Cc(yc,t,e,n))}function Ec(t,e){if(!da(t))throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}u(zc,A),u(Bc,A),u(Cc,A);var Fc={NO_ERROR:0,rb:1,yb:2,xb:3,ub:4,wb:5,zb:6,Ua:7,TIMEOUT:8,Cb:9},Gc={tb:"complete",Gb:"success",Va:"error",Ua:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",vb:"downloadprogress",Hb:"uploadprogress"};function Hc(){}function Ic(t){var e;return(e=t.a)||(e={},Jc(t)&&(e[0]=!0,e[1]=!0),e=t.a=e),e}function Kc(){}Hc.prototype.a=null;var Lc={OPEN:"a",sb:"b",Va:"c",Bb:"d"},Oc;function Mc(){A.call(this,"d")}function Nc(){A.call(this,"c")}function Pc(){}function Qc(t){return(t=Jc(t))?new ActiveXObject(t):new XMLHttpRequest}function Jc(t){if(!t.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.b=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.b}function L(t,e,n,r){this.i=t,this.b=e,this.c=n,this.T=r||1,this.L=new bc(this),this.R=Rc,t=Na?125:void 0,this.S=new Xb(t),this.j=null,this.f=!1,this.l=this.g=this.h=this.J=this.D=this.U=this.s=null,this.u=[],this.a=null,this.G=0,this.m=this.o=null,this.C=-1,this.B=!1,this.N=0,this.I=null,this.v=this.X=this.K=!1}u(Mc,A),u(Nc,A),u(Pc,Hc),Oc=new Pc;var Rc=45e3;function Sc(t,e){switch(t){case 0:return"Non-200 return code ("+e+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}var Tc={},Uc={};function Vc(t,e,n){t.J=1,t.h=Wc(M(e)),t.l=n,t.K=!0,Xc(t,null)}function Yc(t,e,n,r){t.J=1,t.h=Wc(M(e)),t.l=null,t.K=n,Xc(t,r)}function Xc(e,n){e.D=t(),Zc(e),e.g=M(e.h),$c(e.g,"t",e.T),e.G=0,e.a=e.i.ca(e.i.ia()?n:null),0<e.N&&(e.I=new $b(r(e.Sa,e,e.a),e.N)),dc(e.L,e.a,"readystatechange",e.nb),n=e.j?Fa(e.j):{},e.l?(e.o||(e.o="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.a.fa(e.g,e.o,e.l,n)):(e.o="GET",e.a.fa(e.g,e.o,null,n)),Ac(1),tc(e.b,e.o,e.g,e.c,e.T,e.l)}function ad(t){var e=N(t.a),n=t.a.Ga(),r=t.a.W();if(!(3>e||3==e&&!Na&&!t.a.V())){t.B||4!=e||7==n||Ac(8==n||0>=r?3:2),bd(t);var i=t.a.W();t.C=i,(n=t.a.V())||H(t.b,function(){return"No response text for uri "+t.g+" status "+i}),t.f=200==i,uc(t.b,t.o,t.g,t.c,t.T,e,i),t.f?((r=cd(t))&&(G(t.b,t.c,r,"Initial handshake response via X-HTTP-Initial-Response"),t.v=!0,dd(t,r)),t.K?(ed(t,e,n),Na&&t.f&&3==e&&fd(t)):(G(t.b,t.c,n,null),dd(t,n)),4==e&&gd(t),t.f&&!t.B&&(4==e?t.i.ta(t):(t.f=!1,Zc(t)))):(400==i&&0<n.indexOf("Unknown SID")?(t.m=3,K(12),D(t.b.a,"XMLHTTP Unknown SID ("+t.c+")")):(t.m=0,K(13),D(t.b.a,"XMLHTTP Bad status "+i+" ("+t.c+")")),gd(t),hd(t))}}function cd(t){return!t.X||t.v?null:t.a&&(t=id(t.a,"X-HTTP-Initial-Response"))&&!xa(t)?t:null}function ed(t,e,n){for(var r=!0;!t.B&&t.G<n.length;){var i=jd(t,n);if(i==Uc){4==e&&(t.m=4,K(14),r=!1),G(t.b,t.c,null,"[Incomplete Response]");break}if(i==Tc){t.m=4,K(15),G(t.b,t.c,n,"[Invalid Chunk]"),r=!1;break}G(t.b,t.c,i,null),dd(t,i)}4==e&&0==n.length&&(t.m=1,K(16),r=!1),t.f=t.f&&r,r||(G(t.b,t.c,n,"[Invalid Chunked Response]"),gd(t),hd(t))}function fd(t){dc(t.L,t.S,"tick",t.mb),t.S.start()}function jd(t,e){var n=t.G,r=e.indexOf("\n",n);return-1==r?Uc:(n=Number(e.substring(n,r)),isNaN(n)?Tc:(r+=1)+n>e.length?Uc:(e=e.substr(r,n),t.G=r+n,e))}function Zc(e){e.U=t()+e.R,kd(e,e.R)}function kd(t,e){if(null!=t.s)throw Error("WatchDog timer not null");t.s=Ec(r(t.lb,t),e)}function bd(t){t.s&&(k.clearTimeout(t.s),t.s=null)}function hd(t){t.i.La()||t.B||t.i.ta(t)}function gd(t){bd(t);var e=t.I;e&&"function"==typeof e.$&&e.$(),t.I=null,Yb(t.S),ec(t.L),t.a&&(e=t.a,t.a=null,e.abort(),e.$())}function dd(t,e){try{t.i.Oa(t,e),Ac(4)}catch(e){xc(t.b,e,"Error in httprequest callback")}}function ld(t){if(t.A&&"function"==typeof t.A)return t.A();if(l(t))return t.split("");if(ca(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return Da(t)}function md(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ca(t)||l(t))ra(t,e,void 0);else{if(t.M&&"function"==typeof t.M)var n=t.M();else if(t.A&&"function"==typeof t.A)n=void 0;else if(ca(t)||l(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else n=Ea(t);i=(r=ld(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function O(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof O)for(n=t.M(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function od(t){t.b={},t.a.length=0,t.c=0}function pd(t,e){return!!P(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&nd(t),!0)}function nd(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];P(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)P(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}g=L.prototype,g.setTimeout=function(t){this.R=t},g.nb=function(t){t=t.target;var e=this.I;e&&3==N(t)?(H(this.b,"Throttling readystatechange."),e.cb()):this.Sa(t)},g.Sa=function(t){try{t==this.a?ad(this):D(this.b.a,"Called back with an unexpected xmlhttp")}catch(t){if(H(this.b,"Failed call to OnXmlHttpReadyStateChanged_"),this.a&&this.a.V()){var e=this;xc(this.b,t,function(){return"ResponseText: "+e.a.V()})}else xc(this.b,t,"No response text")}},g.mb=function(){if(this.a){var t=N(this.a),e=this.a.V();this.G<e.length&&(bd(this),ed(this,t,e),this.f&&4!=t&&Zc(this))}},g.cancel=function(){this.B=!0,gd(this)},g.lb=function(){this.s=null;var e=t();0<=e-this.U?(this.f&&J(this.b,"Received watchdog timeout even though request loaded successfully"),wc(this.b,this.g),2!=this.J&&(Ac(3),K(17)),gd(this),this.m=2,hd(this)):(D(this.b.a,"WatchDog timer called too early"),kd(this,this.U-e))},g=O.prototype,g.A=function(){nd(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},g.M=function(){return nd(this),this.a.concat()},g.get=function(t,e){return P(this.b,t)?this.b[t]:e},g.set=function(t,e){P(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},g.forEach=function(t,e){for(var n=this.M(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var qd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rd(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Q(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Q?(this.h=void 0!==e?e:t.h,sd(this,t.f),this.j=t.j,td(this,t.b),ud(this,t.i),this.a=t.a,vd(this,wd(t.c)),this.g=t.g):t&&(n=String(t).match(qd))?(this.h=!!e,sd(this,n[1]||"",!0),this.j=xd(n[2]||""),td(this,n[3]||"",!0),ud(this,n[4]),this.a=xd(n[5]||"",!0),vd(this,n[6]||"",!0),this.g=xd(n[7]||"")):(this.h=!!e,this.c=new yd(null,this.h))}function M(t){return new Q(t)}function sd(t,e,n){t.f=n?xd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function td(t,e,n){t.b=n?xd(e,!0):e}function ud(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function vd(t,e,n){e instanceof yd?(t.c=e,Ed(t.c,t.h)):(n||(e=zd(e,Fd)),t.c=new yd(e,t.h))}function R(t,e,n){t.c.set(e,n)}function $c(t,e,n){p(n)||(n=[String(n)]),Gd(t.c,e,n)}function Wc(e){return R(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)),e}function Hd(t){return t instanceof Q?M(t):new Q(t,void 0)}function Id(t,e,n,r){var i=new Q(null,void 0);return t&&sd(i,t),e&&td(i,e),n&&ud(i,n),r&&(i.a=r),i}function xd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zd(t,e,n){return l(t)?(t=encodeURI(t).replace(e,Jd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Jd(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Q.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zd(e,Ad,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(zd(e,Ad,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(zd(n,"/"==n.charAt(0)?Bd:Cd,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",zd(n,Dd)),t.join("")},Q.prototype.resolve=function(t){var e=M(this),n=!!t.f;n?sd(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?td(e,t.b):n=null!=t.i;var r=t.a;if(n)ud(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?vd(e,wd(t.c)):n=!!t.g,n&&(e.g=t.g),e};var Ad=/[#\/\?@]/g,Cd=/[#\?:]/g,Bd=/[#\?]/g,Fd=/[#\?@]/g,Dd=/#/g;function yd(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function S(t){t.a||(t.a=new O,t.b=0,t.c&&rd(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ld(t,e){S(t),e=Kd(t,e),P(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,pd(t.a,e))}function Md(t,e){return S(t),e=Kd(t,e),P(t.a.b,e)}function Gd(t,e,n){Ld(t,e),0<n.length&&(t.c=null,t.a.set(Kd(t,e),wa(n)),t.b+=n.length)}function wd(t){var e=new yd;return e.c=t.c,t.a&&(e.a=new O(t.a),e.b=t.b),e}function Kd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ed(t,e){e&&!t.f&&(S(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ld(this,e),Gd(this,n,t))},t)),t.f=e}function Nd(){this.a=t()}g=yd.prototype,g.add=function(t,e){S(this),this.c=null,t=Kd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},g.forEach=function(t,e){S(this),this.a.forEach(function(n,r){ra(n,function(n){t.call(e,n,r,this)},this)},this)},g.M=function(){S(this);for(var t=this.a.A(),e=this.a.M(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},g.A=function(t){S(this);var e=[];if(l(t))Md(this,t)&&(e=va(e,this.a.get(Kd(this,t))));else{t=this.a.A();for(var n=0;n<t.length;n++)e=va(e,t[n])}return e},g.set=function(t,e){return S(this),this.c=null,Md(this,t=Kd(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},g.get=function(t,e){return 0<(t=t?this.A(t):[]).length?String(t[0]):e},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.M(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.A(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Od=null;function Pd(){Od||(Od=new Nd)}function Qd(){Od||(Od=new Nd)}function Rd(t,e){this.a=t,this.b=e,this.c=this.i=null,this.h=!1,this.m=null,this.f=-1,this.l=this.g=null}function Sd(t){H(t.b,"TestConnection: starting stage 2");var e=t.a.I.a;if(null!=e)H(t.b,function(){return"Buffered"}),K(4),e?(K(10),Td(t.a,t,!1)):(K(11),Td(t.a,t,!0));else{t.c=new L(t,t.b,void 0,void 0),t.c.j=t.i;var n=Ud(t.a,t.g,t.m);K(4),$c(n,"TYPE","xmlhttp");var r=t.a.j,i=t.a.K;r&&i&&R(n,r,i),Yc(t.c,n,!1,t.g)}}function Wd(){this.a=this.b=null}function Xd(){this.a=new O}function Yd(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[q]||(t[q]=++fa)):e.charAt(0)+t}function Zd(t,e){this.a=t,this.b=e}function $d(t){this.g=t||ae,t=k.PerformanceNavigationTiming?0<(t=k.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(k.oa&&k.oa.Ma&&k.oa.Ma()&&k.oa.Ma().Jb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Xd),this.b=null,this.c=[]}Nd.prototype.set=function(t){this.a=t},Nd.prototype.reset=function(){this.set(t())},Nd.prototype.get=function(){return this.a},u(Qd,Pd),g=Rd.prototype,g.P=null,g.ca=function(t){return this.a.ca(t)},g.abort=function(){this.c&&(this.c.cancel(),this.c=null),this.f=-1},g.La=function(){return!1},g.Oa=function(t,e){if(this.f=t.C,0==this.P){if(H(this.b,"TestConnection: Got data for stage 1"),!this.a.o&&(t=t.a)){var n=id(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&((t=id(t,"X-HTTP-Session-Id"))?this.a.K=t:D(this.b.a,"Missing X_HTTP_SESSION_ID in the handshake response"))}if(e){try{var r=this.a.la.a.parse(e)}catch(t){return xc(this.b,t),void Vd(this.a,this)}this.g=r[0]}else H(this.b,"TestConnection: Null responseText"),Vd(this.a,this)}else 1==this.P&&(this.h?K(6):"11111"==e?(K(5),this.h=!0,(!z||10<=Number(Wa))&&(this.f=200,this.c.cancel(),H(this.b,"Test connection succeeded; using streaming connection"),K(11),Td(this.a,this,!0))):(K(7),this.h=!1))},g.ta=function(){this.f=this.c.C,this.c.f?0==this.P?(this.P=1,H(this.b,"TestConnection: request complete for initial check"),Sd(this)):1==this.P&&(H(this.b,"TestConnection: request complete for stage 2"),this.h?(H(this.b,"Test connection succeeded; using streaming connection"),K(11),Td(this.a,this,!0)):(H(this.b,"Test connection failed; not using streaming"),K(10),Td(this.a,this,!1))):(H(this.b,"TestConnection: request failed, in state "+this.P),0==this.P?K(8):1==this.P&&K(9),Vd(this.a,this))},g.ia=function(){return this.a.ia()},g.qa=function(){return this.a.qa()},Xd.prototype.add=function(t){this.a.set(Yd(t),t)},Xd.prototype.A=function(){return this.a.A()};var ae=10;function be(t,e){t.a||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(t.f=t.g,t.a=new Xd,t.b&&(ce(t,t.b),t.b=null))}function de(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function ee(t,e){return t.b?t=t.b==e:t.a?(e=Yd(e),t=P(t.a.a.b,e)):t=!1,t}function ce(t,e){t.a?t.a.add(e):t.b=e}function fe(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=Yd(e),n=P(t.a.a.b,n)),n&&pd(t.a.a,Yd(e)))}function ge(t){if(null!=t.b)return t.c.concat(t.b.u);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return ra(t.a.A(),function(t){e=e.concat(t.u)}),e}return wa(t.c)}function he(t,e){t.c=t.c.concat(e)}function ie(){}function je(){this.a=new ie}function ke(t,e,n){var r=n||"";try{md(t,function(t,n){var i=t;ea(t)&&(i=Db(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function le(t,e){var n=new sc;H(n,"TestLoadImage: loading "+t);var r=new Image;r.onload=ja(me,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ja(me,n,r,"TestLoadImage: error",!1,e),r.onabort=ja(me,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ja(me,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}function me(t,e,n,r,i){try{H(t,n),e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(e){xc(t,e)}}function T(t){B.call(this),this.headers=new O,this.s=t||null,this.c=!1,this.D=this.a=null,this.K=this.B="",this.j=0,this.g="",this.h=this.I=this.u=this.G=!1,this.l=0,this.C=null,this.L=ne,this.v=this.o=!1}$d.prototype.cancel=function(){this.c=ge(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ra(this.a.A(),function(t){t.cancel()}),od(this.a.a))},ie.prototype.stringify=function(t){return k.JSON.stringify(t,void 0)},ie.prototype.parse=function(t){return k.JSON.parse(t,void 0)},u(T,B);var ne="";T.prototype.b=qc("goog.net.XhrIo");var oe=/^https?$/i,pe=["POST","PUT"];function se(t){return z&&Va(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function ta(t){return"content-type"==t.toLowerCase()}function qe(t,e){t.c=!1,t.a&&(t.h=!0,t.a.abort(),t.h=!1),t.g=e,t.j=5,te(t),ue(t)}function te(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ve(t){if(t.c&&void 0!==goog)if(t.D[1]&&4==N(t)&&2==t.W())E(t.b,U(t,"Local request error detected and ignored"));else if(t.u&&4==N(t))Zb(t.Na,0,t);else if(t.dispatchEvent("readystatechange"),4==N(t)){E(t.b,U(t,"Request complete")),t.c=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(qd)[1]||null;if(!o&&k.self&&k.self.location){var a=k.self.location.protocol;o=a.substr(0,a.length-1)}i=!oe.test(o?o.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.j=6,t.g=t.Ha()+" ["+t.W()+"]",te(t))}finally{ue(t)}}}function ue(t,e){if(t.a){re(t);var n=t.a,r=t.D[0]?aa:null;t.a=null,t.D=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ic,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function re(t){t.a&&t.v&&(t.a.ontimeout=null),t.C&&(k.clearTimeout(t.C),t.C=null)}function N(t){return t.a?t.a.readyState:0}function id(t,e){return t.a?t.a.getResponseHeader(e):null}function U(t,e){return e+" ["+t.K+" "+t.B+" "+t.W()+"]"}function we(t){var e="";return Ca(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function xe(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=we(n),l(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return R(t,e,n),t}function ye(t){this.ya=0,this.g=[],this.a=new sc,this.I=new Wd,this.X=this.ua=this.D=this.ja=this.b=this.K=this.j=this.U=this.h=this.L=this.i=null,this.Za=this.R=0,this.Xa=!!n("internalChannelParams.failFast",t),this.ka=this.C=this.s=this.l=this.m=this.f=null,this.u=this.xa=this.N=-1,this.T=this.B=this.v=0,this.Wa=n("internalChannelParams.baseRetryDelayMs",t)||5e3,this.$a=n("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Ya=n("internalChannelParams.forwardChannelMaxRetries",t)||2,this.wa=n("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ta=t&&t.Kb||void 0,this.G=void 0,this.S=t&&t.supportsCrossDomainXhr||!1,this.J="",this.c=new $d(t&&t.concurrentRequestLimit),this.la=new je,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.va=t&&t.fastHandshake||!1)&&!this.o&&(D(this.a.a,"Force backgroundChannelTest when fastHandshake is enabled."),this.o=!0),t&&t.Fa&&this.a.Fa()}function ze(e){if(H(e.a,"disconnect()"),Ae(e),3==e.F){var n=e.R++,r=M(e.D);R(r,"SID",e.J),R(r,"RID",n),R(r,"TYPE","terminate"),Be(e,r),(n=new L(e,e.a,n,void 0)).J=2,n.h=Wc(M(r)),r=!1,k.navigator&&k.navigator.sendBeacon&&(r=k.navigator.sendBeacon(n.h.toString(),"")),!r&&k.Image&&((new Image).src=n.h,r=!0),r||(n.a=n.i.ca(null),n.a.fa(n.h)),n.D=t(),Zc(n)}Ce(e)}function Ae(t){t.C&&(t.C.abort(),t.C=null),t.b&&(t.b.cancel(),t.b=null),t.l&&(k.clearTimeout(t.l),t.l=null),De(t),t.c.cancel(),t.m&&(k.clearTimeout(t.m),t.m=null)}function Ee(t,e){1e3==t.g.length&&J(t.a,function(){return"Already have 1000 queued maps upon queueing "+Db(e)}),t.g.push(new Zd(t.Za++,e)),3==t.F&&Fe(t)}function Fe(t){de(t.c)||t.m||(t.m=Ec(r(t.Qa,t),0),t.v=0)}function Ge(t,e){var n=t.c;return(n.b?1:n.a?n.a.a.c:0)>=t.c.f-(t.m?1:0)?(J(t.a,"Unexpected retry request is scheduled."),!1):t.m?(H(t.a,"Use the retry request that is already scheduled."),t.g=e.u.concat(t.g),!0):!(1==t.F||2==t.F||t.v>=(t.Xa?0:t.Ya)||(H(t.a,"Going to retry POST"),t.m=Ec(r(t.Qa,t,e),He(t,t.v)),t.v++,0))}function Je(t,e){var n;n=e?e.c:t.R++;var r=M(t.D);R(r,"SID",t.J),R(r,"RID",n),R(r,"AID",t.N),Be(t,r),t.h&&t.i&&xe(r,t.h,t.i),n=new L(t,t.a,n,t.v+1),null===t.h&&(n.j=t.i),e&&(t.g=e.u.concat(t.g)),e=Ie(t,n),n.setTimeout(Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random())),ce(t.c,n),Vc(n,r,e)}function Be(t,e){t.f&&md({},function(t,n){R(e,n,t)})}function Ie(t,e){var n=Math.min(t.g.length,1e3),i=t.f?r(t.f.ab,t.f,t):null;t:for(var o=t.g,a=-1;;){var s=["count="+n];-1==a?0<n?(a=o[0].a,s.push("ofs="+a)):a=0:s.push("ofs="+a);for(var u=!0,c=0;c<n;c++){var l=o[c].a,h=o[c].b;if(0>(l-=a))a=Math.max(0,o[c].a-100),u=!1;else try{ke(h,s,"req"+l+"_")}catch(t){i&&i(h)}}if(u){i=s.join("&");break t}}return t=t.g.splice(0,n),e.u=t,i}function Ke(t){if(!t.b&&!t.l){t.T=1;var e=t.Pa;Tb||Ub(),Wb||(Tb(),Wb=!0),Pb.add(e,t),t.B=0}}function Le(t){return t.b||t.l?(J(t.a,"Request already in progress"),!1):!(3<=t.B||(H(t.a,"Going to retry GET"),t.T++,t.l=Ec(r(t.Pa,t),He(t,t.B)),t.B++,0))}function Td(t,e,n){H(t.a,"Test Connection Finished");var r=e.l;r&&be(t.c,r),t.ka=n,t.u=e.f,H(t.a,"connectChannel_()"),t.D=Me(t,t.ja),Fe(t)}function Vd(t,e){H(t.a,"Test Connection Failed"),t.u=e.f,V(t,2)}function De(t){null!=t.s&&(k.clearTimeout(t.s),t.s=null)}function He(t,e){var n=t.Wa+Math.floor(Math.random()*t.$a);return t.qa()||(H(t.a,"Inactive channel"),n*=2),n*e}function V(t,e){if(F(t.a,"Error code "+e),2==e){var n=null;t.f&&(n=null);var i=r(t.pb,t);n||(n=new Q("//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||sd(n,"https"),Wc(n)),le(n.toString(),i)}else K(2);H(t.a,"HttpChannel: error - "+e),t.F=0,t.f&&t.f.Ba(e),Ce(t),Ae(t)}function Ce(t){if(t.F=0,t.u=-1,t.f){var e=ge(t.c);0==e.length&&0==t.g.length||(H(t.a,function(){return"Number of undelivered maps, pending: "+e.length+", outgoing: "+t.g.length}),t.c.c.length=0,wa(t.g),t.g.length=0),t.f.Aa()}}function Me(t,e){return e=Ne(t,null,e),H(t.a,"GetForwardChannelUri: "+e),e}function Ud(t,e,n){return e=Ne(t,t.ia()?e:null,n),H(t.a,"GetBackChannelUri: "+e),e}function Ne(t,e,n){var r=Hd(n);if(""!=r.b)e&&td(r,e+"."+r.b),ud(r,r.i);else{var i,o=k.location;i=e?e+"."+o.hostname:o.hostname,r=Id(o.protocol,i,o.port,n)}return t.U&&Ca(t.U,function(t,e){R(r,e,t)}),e=t.j,n=t.K,e&&n&&R(r,e,n),R(r,"VER",t.na),Be(t,r),r}function Oe(){}function Pe(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}function Qe(){if(z&&!(10<=Number(Wa)))throw Error("Environmental error: no available transport.")}function W(t,e){B.call(this),this.a=new ye(e),this.b=t,this.o=e&&e.testUrl?e.testUrl:Pe(this.b,"test"),this.c=qc("goog.labs.net.webChannel.WebChannelBaseTransport"),this.g=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ea&&(t?t["X-WebChannel-Client-Profile"]=e.Ea:t={"X-WebChannel-Client-Profile":e.Ea}),this.a.L=t,(t=e&&e.httpHeadersOverwriteParam)&&!xa(t)&&(this.a.h=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.j=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xa(e)&&(this.a.j=e,null!==(t=this.g)&&e in t&&(e in(t=this.g)&&delete t[e],D(this.c,"Ignore httpSessionIdParam also specified with messageUrlParams: "+e))),this.h=new Re(this)}function Se(t){Mc.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Te(){Nc.call(this),this.status=1}function Re(t){this.a=t}g=T.prototype,g.fa=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.g="",this.j=0,this.K=e,this.G=!1,this.c=!0,this.a=this.s?Qc(this.s):Qc(Oc),this.D=this.s?Ic(this.s):Ic(Oc),this.a.onreadystatechange=r(this.Na,this);try{E(this.b,U(this,"Opening Xhr")),this.I=!0,this.a.open(e,String(t),!0),this.I=!1}catch(t){return E(this.b,U(this,"Error opening Xhr: "+t.message)),void qe(this,t)}t=n||"";var o=new O(this.headers);i&&md(i,function(t,e){o.set(e,t)}),i=sa(o.M()),n=k.FormData&&t instanceof k.FormData,!(0<=qa(pe,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.L&&(this.a.responseType=this.L),"withCredentials"in this.a&&this.a.withCredentials!==this.o&&(this.a.withCredentials=this.o);try{re(this),0<this.l&&(this.v=se(this.a),E(this.b,U(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+this.v)),this.v?(this.a.timeout=this.l,this.a.ontimeout=r(this.Ka,this)):this.C=Zb(this.Ka,this.l,this)),E(this.b,U(this,"Sending request")),this.u=!0,this.a.send(t),this.u=!1}catch(t){E(this.b,U(this,"Send error: "+t.message)),qe(this,t)}},g.Ka=function(){void 0!==goog&&this.a&&(this.g="Timed out after "+this.l+"ms, aborting",this.j=8,E(this.b,U(this,this.g)),this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(t){this.a&&this.c&&(E(this.b,U(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ue(this))},g.w=function(){this.a&&(this.c&&(this.c=!1,this.h=!0,this.a.abort(),this.h=!1),ue(this,!0)),T.H.w.call(this)},g.Na=function(){this.i||(this.I||this.u||this.h?ve(this):this.jb())},g.jb=function(){ve(this)},g.W=function(){try{return 2<N(this)?this.a.status:-1}catch(t){return-1}},g.Ha=function(){try{return 2<N(this)?this.a.statusText:""}catch(t){return E(this.b,"Can not get status: "+t.message),""}},g.V=function(){try{return this.a?this.a.responseText:""}catch(t){return E(this.b,"Can not get responseText: "+t.message),""}},g.eb=function(t){if(this.a){var e=this.a.responseText;t&&0==e.indexOf(t)&&(e=e.substring(t.length));t:{if(t=e,k.JSON)try{var n=k.JSON.parse(t);break t}catch(t){}n=Cb(t)}return n}},g.Ga=function(){return this.j},g.hb=function(){return l(this.g)?this.g:String(this.g)},g=ye.prototype,g.na=8,g.F=1,g.La=function(){return 0==this.F},g.Qa=function(t){if(this.m=null,H(this.a,"startForwardChannel_"),1==this.F)if(t)J(this.a,"Not supposed to retry the open");else{H(this.a,"open_()"),this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new L(this,this.a,t,void 0),n=this.i;this.L&&(n?Ha(n=Fa(n),this.L):n=this.L),null===this.h&&(e.j=n);var r=Ie(this,e),i=M(this.D);R(i,"RID",t),R(i,"CVER",22),this.o&&this.j&&R(i,"X-HTTP-Session-Id",this.j),Be(this,i),this.h&&n&&xe(i,this.h,n),ce(this.c,e),this.va?(R(i,"$req",r),R(i,"SID","null"),e.X=!0,Vc(e,i,null)):Vc(e,i,r),this.F=2}else 3==this.F&&(t?Je(this,t):0==this.g.length?H(this.a,"startForwardChannel_ returned: nothing to send"):de(this.c)?J(this.a,"startForwardChannel_ returned: connection already in progress"):(Je(this),H(this.a,"startForwardChannel_ finished, sent request")))},g.Pa=function(){this.l=null,H(this.a,"Creating new HttpRequest"),this.b=new L(this,this.a,"rpc",this.T),null===this.h&&(this.b.j=this.i),this.b.N=0;var t=M(this.ua);R(t,"RID","rpc"),R(t,"SID",this.J),R(t,"CI",this.ka?"0":"1"),R(t,"AID",this.N),Be(this,t),R(t,"TYPE","xmlhttp"),this.h&&this.i&&xe(t,this.h,this.i),this.G&&this.b.setTimeout(this.G),Yc(this.b,t,!0,this.X),H(this.a,"New Request created")},g.Oa=function(t,e){if(0!=this.F&&(this.b==t||ee(this.c,t)))if(this.u=t.C,!t.v&&ee(this.c,t)&&3==this.F){try{var n=this.la.a.parse(e)}catch(t){n=null}if(p(n)&&3==n.length)if(0==(e=n)[0])t:if(H(this.a,"Server claims our backchannel is missing."),this.l)H(this.a,"But we are currently starting the request.");else{if(this.b){if(!(this.b.D+3e3<t.D))break t;De(this),this.b.cancel(),this.b=null}else D(this.a.a,"We do not have a BackChannel established");Le(this),K(18)}else this.xa=e[1],0<(t=this.xa-this.N)&&(e=e[2],H(this.a,e+" bytes (in "+t+" arrays) are outstanding on the BackChannel"),37500>e&&this.ka&&0==this.B&&!this.s&&(this.s=Ec(r(this.ib,this),6e3)));else H(this.a,"Bad POST response data returned"),V(this,11)}else if((t.v||this.b==t)&&De(this),!xa(e))for(e=n=this.la.a.parse(e),n=0;n<e.length;n++){var i=e[n];if(this.N=i[0],i=i[1],2==this.F)if("c"==i[0]){this.J=i[1],this.X=i[2];var o=i[3];null!=o&&(this.na=o,F(this.a,"VER="+this.na)),null!=(o=i[4])&&(this.ya=o,F(this.a,"SVER="+this.ya)),null!=(i=i[5])&&"number"==typeof i&&0<i&&(this.G=i*=1.5,F(this.a,"backChannelRequestTimeoutMs_="+i)),this.o&&(i=t.a)&&((o=id(i,"X-Client-Wire-Protocol"))&&be(this.c,o),this.j&&((i=id(i,"X-HTTP-Session-Id"))?(this.K=i,R(this.D,this.j,i)):D(this.a.a,"Missing X_HTTP_SESSION_ID in the handshake response"))),this.F=3,this.f&&this.f.Da(),i=t,this.ua=Ud(this,this.X,this.ja),i.v?(H(this.a,"Upgrade the handshake request to a backchannel."),fe(this.c,i),(o=this.G)&&i.setTimeout(o),i.s&&(bd(i),Zc(i)),this.b=i):Ke(this)}else"stop"!=i[0]&&"close"!=i[0]||V(this,7);else 3==this.F&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?V(this,7):ze(this):"noop"!=i[0]&&this.f&&this.f.Ca(i),this.B=0)}},g.ib=function(){null!=this.s&&(this.s=null,this.b.cancel(),this.b=null,Le(this),K(19))},g.ta=function(e){H(this.a,"Request complete");var n=null;if(this.b==e){De(this),this.b=null;var r=2}else{if(!ee(this.c,e))return;n=e.u,fe(this.c,e),r=1}if(this.u=e.C,0!=this.F)if(e.f)1==r?(Dc(e.l?e.l.length:0,t()-e.D,this.v),Fe(this)):Ke(this);else{var i=e.m;if(3==i||0==i&&0<this.u)H(this.a,"Not retrying due to error type");else{var o=this;if(H(this.a,function(){return"Maybe retrying, last error: "+Sc(i,o.u)}),1==r&&Ge(this,e)||2==r&&Le(this))return;H(this.a,"Exceeded max number of retries")}switch(n&&0<n.length&&he(this.c,n),H(this.a,"Error: HTTP request failed"),i){case 1:V(this,5);break;case 4:V(this,10);break;case 3:V(this,6);break;default:V(this,2)}}},g.pb=function(t){t?(F(this.a,"Successfully pinged google.com"),K(2)):(F(this.a,"Failed to ping google.com"),K(1))},g.ca=function(t){if(t&&!this.S)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new T(this.Ta)).o=this.S,t},g.qa=function(){return!!this.f&&!0},g.ia=function(){return this.S},new Qd,g=Oe.prototype,g.Da=function(){},g.Ca=function(){},g.Ba=function(){},g.Aa=function(){},g.ab=function(){},Qe.prototype.a=function(t,e){return new W(t,e)},u(W,B),g=W.prototype,g.addEventListener=function(t,e,n,r){W.H.addEventListener.call(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){W.H.removeEventListener.call(this,t,e,n,r)},g.fb=function(){this.a.f=this.h,this.l&&(this.a.S=!0);var t=this.a,e=this.o,n=this.b,r=this.g||void 0;H(t.a,"connect()"),K(0),t.ja=n,t.U=r||{},t.o&&(H(t.a,"connect() bypassed channel-test."),t.I.b=[],t.I.a=!1),H(t.a,"connectTest_()"),t.C=new Rd(t,t.a),null===t.h&&(t.C.i=t.i),n=e,t.h&&t.i&&(n=xe(e,t.h,t.i)),(t=t.C).m=n,e=Me(t.a,t.m),K(3),null!=(n=t.a.I.b)?(t.g=n[0],t.P=1,Sd(t)):($c(e,"MODE","init"),!t.a.o&&t.a.j&&$c(e,"X-HTTP-Session-Id",t.a.j),t.c=new L(t,t.b,void 0,void 0),t.c.j=t.i,Yc(t.c,e,!1,null),t.P=0)},g.close=function(){ze(this.a)},g.gb=function(t){if(l(t)){var e={};e.__data__=t,Ee(this.a,e)}else this.j?((e={}).__data__=Db(t),Ee(this.a,e)):Ee(this.a,t)},g.w=function(){this.a.f=null,delete this.h,ze(this.a),delete this.a,W.H.w.call(this)},u(Se,Mc),u(Te,Nc),u(Re,Oe),Re.prototype.Da=function(){rc(this.a.c,"WebChannel opened on "+this.a.b),this.a.dispatchEvent("a")},Re.prototype.Ca=function(t){this.a.dispatchEvent(new Se(t))},Re.prototype.Ba=function(t){rc(this.a.c,"WebChannel aborted on "+this.a.b+" due to channel error: "+t),this.a.dispatchEvent(new Te(t))},Re.prototype.Aa=function(){rc(this.a.c,"WebChannel closed on "+this.a.b),this.a.dispatchEvent("b")};var Ue=ja(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Qe);function Ve(){this.b=[],this.a=[]}function We(t){return 0==t.b.length&&(t.b=t.a,t.b.reverse(),t.a=[]),t.b.pop()}function Xe(t){return t.b.length+t.a.length}function Ye(t,e){if(w.call(this),this.h=t||0,this.c=e||10,this.h>this.c)throw Error(Ze);this.a=new Ve,this.b=new Xd,this.g=null,this.aa()}Ve.prototype.A=function(){for(var t=[],e=this.b.length-1;0<=e;--e)t.push(this.b[e]);var n=this.a.length;for(e=0;e<n;++e)t.push(this.a[e]);return t},u(Ye,w);var Ze="[goog.structs.Pool] Min can not be greater than max";function af(t){if("function"==typeof t.$)t.$();else for(var e in t)t[e]=null}function $e(t){return Xe(t.a)+t.b.a.c}function bf(t,e){this.a=t,this.b=e}function cf(t){if(this.a=[],t)t:{if(t instanceof cf){var e=t.M();if(t=t.A(),0>=this.a.length){for(var n=this.a,r=0;r<e.length;r++)n.push(new bf(e[r],t[r]));break t}}else e=Ea(t),t=Da(t);for(r=0;r<e.length;r++)df(this,e[r],t[r])}}function df(t,e,n){var r=t.a;for(r.push(new bf(e,n)),e=r.length-1,n=(t=t.a)[e];0<e&&t[r=e-1>>1].a>n.a;)t[e]=t[r],e=r;t[e]=n}function ef(){cf.call(this)}function Y(t,e){this.f=new ef,Ye.call(this,t,e)}function Z(t,e,n,r){this.l=t,this.j=!!r,Y.call(this,e,n)}g=Ye.prototype,g.da=function(){var e=t();if(!(null!=this.g&&0>e-this.g)){for(var n;0<Xe(this.a)&&(n=We(this.a),!this.sa(n));)this.aa();return!n&&$e(this)<this.c&&(n=this.pa()),n&&(this.g=e,this.b.add(n)),n}},g.ob=function(t){return!!pd(this.b.a,Yd(t))&&(this.ma(t),!0)},g.ma=function(t){pd(this.b.a,Yd(t)),this.sa(t)&&$e(this)<this.c?this.a.a.push(t):af(t)},g.aa=function(){for(var t=this.a;$e(this)<this.h;){var e=this.pa();t.a.push(e)}for(;$e(this)>this.c&&0<Xe(this.a);)af(We(t))},g.pa=function(){return{}},g.sa=function(t){return"function"!=typeof t.bb||t.bb()},g.w=function(){if(Ye.H.w.call(this),0<this.b.a.c)throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var t=this.a;0!=t.b.length||0!=t.a.length;)af(We(t));delete this.a},cf.prototype.A=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].b);return e},cf.prototype.M=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].a);return e},u(ef,cf),u(Y,Ye),g=Y.prototype,g.da=function(t,e){if(!t)return Y.H.da.call(this);df(this.f,void 0!==e?e:100,t),this.ra()},g.ra=function(){for(var t=this.f;0<t.a.length;){var e=this.da();if(!e)break;var n=t,r=n.a,i=r.length,o=r[0];if(0>=i)o=void 0;else{if(1==i)ua(r);else{r[0]=r.pop(),r=0,i=(n=n.a).length;for(var a=n[r];r<i>>1;){var s=2*r+1,u=2*r+2;if(n[s=u<i&&n[u].a<n[s].a?u:s].a>a.a)break;n[r]=n[s],r=s}n[r]=a}o=o.b}o.apply(this,[e])}},g.ma=function(t){Y.H.ma.call(this,t),this.ra()},g.aa=function(){Y.H.aa.call(this),this.ra()},g.w=function(){Y.H.w.call(this),k.clearTimeout(void 0),ua(this.f.a),this.f=null},u(Z,Y),Z.prototype.pa=function(){var t=new T,e=this.l;return e&&e.forEach(function(e,n){t.headers.set(n,e)}),this.j&&(t.o=!0),t},Z.prototype.sa=function(t){return!t.i&&!t.a},Qe.prototype.createWebChannel=Qe.prototype.a,W.prototype.send=W.prototype.gb,W.prototype.open=W.prototype.fb,W.prototype.close=W.prototype.close,Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,Gc.COMPLETE="complete",Kc.EventType=Lc,Lc.OPEN="a",Lc.CLOSE="b",Lc.ERROR="c",Lc.MESSAGE="d",B.prototype.listen=B.prototype.Ia,Z.prototype.getObject=Z.prototype.da,Z.prototype.releaseObject=Z.prototype.ob,T.prototype.listenOnce=T.prototype.Ja,T.prototype.getLastError=T.prototype.hb,T.prototype.getLastErrorCode=T.prototype.Ga,T.prototype.getStatus=T.prototype.W,T.prototype.getStatusText=T.prototype.Ha,T.prototype.getResponseJson=T.prototype.eb,T.prototype.getResponseText=T.prototype.V,T.prototype.getResponseText=T.prototype.V,T.prototype.send=T.prototype.fa,module.exports={createWebChannelTransport:Ue,ErrorCode:Fc,EventType:Gc,WebChannel:Kc,XhrIoPool:Z}}).call(void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,__webpack_require__(246))},function(t,e,n){"use strict";n.r(e),n.d(e,"setLogLevel",function(){return u}),n.d(e,"Logger",function(){return s}),n.d(e,"LogLevel",function(){return r});var r,i=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(r||(r={}));var o=r.INFO,a=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},s=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=a,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.ERROR].concat(t))},t}();function u(t){i.forEach(function(e){e.logLevel=t})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=(r=n(253))&&"object"==typeof r&&"default"in r?r.default:r,a=n(333),s=n(268),u=n(332),c=o.SDK_VERSION,l=new a.Logger("@firebase/firestore");function h(){return l.logLevel===a.LogLevel.DEBUG?i.DEBUG:l.logLevel===a.LogLevel.SILENT?i.SILENT:i.ERROR}function f(t){switch(t){case i.DEBUG:l.logLevel=a.LogLevel.DEBUG;break;case i.ERROR:l.logLevel=a.LogLevel.ERROR;break;case i.SILENT:l.logLevel=a.LogLevel.SILENT;break;default:l.error("Firestore ("+c+"): Invalid value passed to `setLogLevel`")}}function d(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(l.logLevel<=a.LogLevel.DEBUG){var i=n.map(m);l.debug.apply(l,["Firestore ("+c+") ["+t+"]: "+e].concat(i))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=a.LogLevel.ERROR){var r=e.map(m);l.error.apply(l,["Firestore ("+c+"): "+t].concat(r))}}function m(t){if("string"==typeof t)return t;var e=v.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}function y(t){var e="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+t;throw p(e),new Error(e)}function g(t,e){t||y(e)}!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(i||(i={}));var v=function(){function t(){}return t.setPlatform=function(e){t.platform&&y("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||y("Platform not set"),t.platform},t}();function b(){return v.getPlatform().emptyByteString}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},E=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return s.__extends(e,t),e}(Error);function T(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new E(w.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function k(t,e){return void 0!==t?t:e}function I(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function A(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C(t){for(var e in g(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function N(t){g(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function _(t,e,n){if(e.length!==n)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function O(t,e,n){if(e.length<n)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires at least "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function x(t,e,n,r){if(e.length<n||e.length>r)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+K(e.length,"argument")+".")}function D(t,e,n,r){F(t,e,H(n)+" argument",r)}function R(t,e,n,r){void 0!==r&&D(t,e,n,r)}function P(t,e,n,r){F(t,e,n+" option",r)}function M(t,e,n,r){void 0!==r&&P(t,e,n,r)}function L(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(B(u))}var c=B(r);throw new E(w.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function F(t,e,n,r){if(typeof r!==e||"object"===e&&!j(r)){var i=B(r);throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function j(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function B(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y("Unknown wrong type: "+typeof t)}function U(t,e,n){if(void 0===n)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+H(e)+" argument, but it was undefined.")}function V(t,e,n){A(e,function(e,r){if(n.indexOf(e)<0)throw new E(w.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function q(t,e,n,r){var i=B(r);return new E(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+H(n)+" argument to be a "+e+", but it was: "+i)}function H(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function K(t,e){return t+" "+e+(1===t?"":"s")}var W=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return g(20===e.length,"Invalid auto ID: "+e),e},t}();function G(t,e){return t<e?-1:t>e?1:0}function z(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Q(){if("undefined"==typeof Uint8Array)throw new E(w.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function X(){if(!v.getPlatform().base64Available)throw new E(w.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Y,J,$=function(){function t(t){X(),this._binaryString=t}return t.fromBase64String=function(e){_("Blob.fromBase64String",arguments,1),D("Blob.fromBase64String","string",1,e),X();try{return new t(v.getPlatform().atob(e))}catch(t){throw new E(w.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(_("Blob.fromUint8Array",arguments,1),Q(),!(e instanceof Uint8Array))throw q("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return _("Blob.toBase64",arguments,0),X(),v.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){_("Blob.toUint8Array",arguments,0),Q();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return G(this._binaryString,t._binaryString)},t}(),Z=T($,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),tt=function(){function t(t,e){if(_("GeoPoint",arguments,2),D("GeoPoint","number",1,t),D("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new E(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new E(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return G(this._lat,t._lat)||G(this._long,t._long)},t}(),et=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new E(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new E(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new E(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new E(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?G(this.nanoseconds,t.nanoseconds):G(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),nt=function(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r},rt="(default)",it=function(){function t(t,e){this.projectId=t,this.database=e||rt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===rt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return G(this.projectId,t.projectId)||G(this.database,t.database)},t}(),ot=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&y("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&y("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):y("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,g(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return g(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return g(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return g(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return g(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new E(w.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(ot),st=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.isValidIdentifier=function(t){return st.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new E(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new E(w.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new E(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new E(w.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(ot),ct=function(){function t(e){this.path=e,g(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.isEqual=function(t){return null!==t&&0===at.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return at.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new at(e.slice()))},t.fromPathString=function(e){return new t(at.fromString(e))},t.EMPTY=new t(new at([])),t}(),lt=function(){function t(t,e,n,r){this.key=t,this.version=e,this.data=n,this.hasLocalMutations=r.hasLocalMutations}return t.prototype.field=function(t){return this.data.field(t)},t.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.data.isEqual(e.data)&&this.hasLocalMutations===e.hasLocalMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"})"},t.compareByKey=function(t,e){return ct.comparator(t.key,e.key)},t.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):y("Trying to compare documents on fields that don't exist")},t}(),ht=function(){function t(t,e){this.key=t,this.version=e}return t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},t.prototype.isEqual=function(t){return t&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},t.compareByKey=function(t,e){return ct.comparator(t.key,e.key)},t}(),ft=function(){function t(t,e){this.comparator=t,this.root=e||pt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new dt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new dt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new dt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new dt(this.root,t,this.comparator,!0)},t}(),dt=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){g(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),pt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw y("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),mt=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new pt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();pt.EMPTY=new mt,function(t){t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue"}(Y||(Y={})),function(t){t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous"}(J||(J={}));var yt=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(J.Estimate,n);case"previous":return new t(J.Previous,n);case"none":case void 0:return new t(J.Default,n);default:return y("fromSnapshotOptions() called with invalid options.")}},t}(),gt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return g(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),G(this.typeOrder,t.typeOrder)},t}(),vt=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=Y.NullValue,e.internalValue=null,e}return s.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(gt),bt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Y.BooleanValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?G(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(gt),wt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Y.NumberValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(gt);function Et(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Tt=function(t){function e(e){return t.call(this,e)||this}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Et(this.internalValue,t.internalValue)},e}(wt),St=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Et(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(wt),kt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Y.StringValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?G(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(gt),It=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Y.TimestampValue,n}return s.__extends(e,t),e.prototype.value=function(t){return t&&t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof At?-1:this.defaultCompareTo(t)},e}(gt),At=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=Y.TimestampValue,r}return s.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===J.Estimate?new It(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===J.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof It?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(gt),Ct=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Y.BlobValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(gt),Nt=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=Y.RefValue,r}return s.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:ct.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(gt),_t=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Y.GeoPointValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(gt),Ot=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Y.ObjectValue,n}return s.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=G(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return G(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(g(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(g(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){g(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new ft(G)),e}(gt),xt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Y.ArrayValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return G(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(gt),Dt=Number,Rt=Dt.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Pt=Dt.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Mt=Dt.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Lt(t){return null===t||void 0===t}var Ft,jt=function(){function t(t,e,n,r,i,o){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[Gt]:this.memoizedOrderBy=[new Wt(t),Gt];else{g(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Ht.ASCENDING;this.memoizedOrderBy.push(a===Ht.ASCENDING?Gt:zt)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){g(null==this.getInequalityFilterField()||!(e instanceof Ut)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),g(!ct.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){g(!ct.isDocumentKey(this.path),"No ordering allowed for document query"),g(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";Lt(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Lt(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return g(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Lt(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Ut&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof Ut&&t.op===Bt.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return ct.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return ct.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){g(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Bt=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return y("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),Ut=function(){function t(t,e,n){this.field=t,this.op=e,this.value=n}return t.prototype.matches=function(t){if(this.field.isKeyField()){g(this.value instanceof Nt,"Comparing on key, but filter value not a RefValue"),g(this.op!==Bt.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=this.value,n=ct.comparator(t.key,e.key);return this.matchesComparison(n)}var r=t.field(this.field);return void 0!==r&&this.matchesValue(r)},t.prototype.matchesValue=function(t){var e=this;return this.op===Bt.ARRAY_CONTAINS?t instanceof xt&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(t){switch(this.op){case Bt.LESS_THAN:return t<0;case Bt.LESS_THAN_OR_EQUAL:return t<=0;case Bt.EQUAL:return 0===t;case Bt.GREATER_THAN:return t>0;case Bt.GREATER_THAN_OR_EQUAL:return t>=0;default:return y("Unknown relation op"+this.op)}},t.prototype.isInequality=function(){return this.op!==Bt.EQUAL&&this.op!==Bt.ARRAY_CONTAINS},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value)},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(),Vt=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},t.prototype.toString=function(){return this.field.canonicalString()+" IS null"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}(),qt=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field).value();return"number"==typeof e&&isNaN(e)},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}(),Ht=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Kt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){g(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())g(o instanceof Nt,"Bound has a non-key value where the key path is being used."),n=ct.comparator(o.key,e.key);else{var a=e.field(i.field);g(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===Ht.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];return n.isEqual(r)}return!0},t}(),Wt=function(){function t(t,e){this.field=t,void 0===e&&(e=Ht.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?lt.compareByKey(t,e):lt.compareByField(this.field,t,e);switch(this.dir){case Ht.ASCENDING:return n;case Ht.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Gt=new Wt(ut.keyField(),Ht.ASCENDING),zt=new Wt(ut.keyField(),Ht.DESCENDING),Qt=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new et(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new et(0,0)),t}();!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}(Ft||(Ft={}));var Xt,Yt=function(){function t(t,e,n,r,i){void 0===r&&(r=Qt.MIN),void 0===i&&(i=b()),this.query=t,this.targetId=e,this.purpose=n,this.snapshotVersion=r,this.resumeToken=i}return t.prototype.update=function(e){return new t(this.query,this.targetId,this.purpose,e.snapshotVersion,e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),Jt=function(){function t(t){this.fields=t}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return z(this.fields,t.fields)},t}(),$t=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),Zt=function(t,e){this.version=t,this.transformResults=e};!function(t){t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete"}(Xt||(Xt={}));var te,ee=function(){function t(t,e){this.updateTime=t,this.exists=e,g(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof lt&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists?t instanceof lt:null===t||t instanceof ht:(g(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return e=this.updateTime,n=t.updateTime,(null!==e&&void 0!==e?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),ne=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&g(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof lt?t.version:Qt.MIN},t}(),re=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=Xt.Set,i}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by SetMutation.");var n=ne.getPostMutationVersion(t);return new lt(this.key,n,this.value,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=ne.getPostMutationVersion(t);return new lt(this.key,r,this.value,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(ne),ie=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=Xt.Patch,o}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return t;var n=ne.getPostMutationVersion(t),r=this.patchDocument(t);return new lt(this.key,n,r,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=ne.getPostMutationVersion(t),i=this.patchDocument(t);return new lt(this.key,r,i,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof lt?t.data:Ot.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){for(var e=0,n=this.fieldMask.fields;e<n.length;e++){var r=n[e],i=this.data.field(r);t=void 0!==i?t.set(r,i):t.delete(r)}return t},e}(ne),oe=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=Xt.Transform,r.precondition=ee.exists(!0),r}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return t;var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=this.transformObject(n.data,r);return new lt(this.key,n.version,i,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),o=this.transformObject(r.data,i);return new lt(this.key,r.version,o,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&z(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){g(t instanceof lt,"Unknown MaybeDocument type "+t);var e=t;return g(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];g(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof lt&&(a=t.field(i.field)||null),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],a=o.transform,s=null;e instanceof lt&&(s=e.field(o.field)||null),n.push(a.applyToLocalView(s,t))}return n},e.prototype.transformObject=function(t,e){g(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;t=t.set(r,e[n])}return t},e}(ne),ae=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=Xt.Delete,r}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by DeleteMutation."),new ht(this.key,Qt.MIN)},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&g(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new ht(this.key,Qt.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(ne),se=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function ue(t){switch(t){case w.OK:return y("Treated status OK as error");case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0;default:return y("Unknown status code: "+t)}}function ce(t){if(void 0===t)return p("GRPC error has no .code"),w.UNKNOWN;switch(t){case te.OK:return w.OK;case te.CANCELLED:return w.CANCELLED;case te.UNKNOWN:return w.UNKNOWN;case te.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case te.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case te.INTERNAL:return w.INTERNAL;case te.UNAVAILABLE:return w.UNAVAILABLE;case te.UNAUTHENTICATED:return w.UNAUTHENTICATED;case te.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case te.NOT_FOUND:return w.NOT_FOUND;case te.ALREADY_EXISTS:return w.ALREADY_EXISTS;case te.PERMISSION_DENIED:return w.PERMISSION_DENIED;case te.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case te.ABORTED:return w.ABORTED;case te.OUT_OF_RANGE:return w.OUT_OF_RANGE;case te.UNIMPLEMENTED:return w.UNIMPLEMENTED;case te.DATA_LOSS:return w.DATA_LOSS;default:return y("Unknown status code: "+t)}}!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(te||(te={}));var le=function(){function t(t){this.comparator=t,this.data=new ft(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),he=new ft(ct.comparator);function fe(){return he}var de=new ft(ct.comparator);function pe(){return de}var me=new ft(ct.comparator);function ye(){return me}var ge=new le(ct.comparator);function ve(){return ge}var be,we=function(){function t(t,e,n,r){this.snapshotVersion=t,this.targetChanges=e,this.documentUpdates=n,this.limboDocuments=r}return t.prototype.addDocumentUpdate=function(t){this.documentUpdates=this.documentUpdates.insert(t.key,t)},t.prototype.handleExistenceFilterMismatch=function(t){this.targetChanges[t]={mapping:new Se,snapshotVersion:Qt.MIN,currentStatusUpdate:be.MarkNotCurrent,resumeToken:b()}},t.prototype.synthesizeDeleteForLimboTargetChange=function(t,e){t.currentStatusUpdate!==be.MarkCurrent||this.documentUpdates.get(e)||(this.documentUpdates=this.documentUpdates.insert(e,new ht(e,this.snapshotVersion)),this.limboDocuments=this.limboDocuments.add(e))},t}();!function(t){t[t.None=0]="None",t[t.MarkNotCurrent=1]="MarkNotCurrent",t[t.MarkCurrent=2]="MarkCurrent"}(be||(be={}));var Ee,Te=ve(),Se=function(){function t(){this.docs=Te}return Object.defineProperty(t.prototype,"documents",{get:function(){return this.docs},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this.docs=this.docs.add(t)},t.prototype.delete=function(t){this.docs=this.docs.delete(t)},t.prototype.isEqual=function(t){return null!==t&&this.docs.isEqual(t.docs)},t.prototype.filterUpdates=function(t){},t}(),ke=function(){function t(){this.addedDocuments=Te,this.removedDocuments=Te}return t.prototype.applyToKeySet=function(t){var e=t;return this.addedDocuments.forEach(function(t){return e=e.add(t)}),this.removedDocuments.forEach(function(t){return e=e.delete(t)}),e},t.prototype.add=function(t){this.addedDocuments=this.addedDocuments.add(t),this.removedDocuments=this.removedDocuments.delete(t)},t.prototype.delete=function(t){this.addedDocuments=this.addedDocuments.delete(t),this.removedDocuments=this.removedDocuments.add(t)},t.prototype.isEqual=function(t){return null!==t&&this.addedDocuments.isEqual(t.addedDocuments)&&this.removedDocuments.isEqual(t.removedDocuments)},t.prototype.filterUpdates=function(t){var e=this.addedDocuments;this.addedDocuments.forEach(function(n){t.has(n)&&(e=e.delete(n))}),this.addedDocuments=e},t}(),Ie=function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r},Ae=function(t,e){this.targetId=t,this.existenceFilter=e};!function(t){t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset"}(Ee||(Ee={}));var Ce=function(t,e,n,r){void 0===n&&(n=b()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ne=function(){function t(t,e,n){this.snapshotVersion=t,this.listenTargets=e,this.existenceFilters={},this.targetChanges={},this.documentUpdates=fe(),this.frozen=!1,this.limboDocuments=ve(),this.pendingTargetResponses=N(n)}return t.prototype.add=function(t){g(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t instanceof Ie?this.addDocumentChange(t):t instanceof Ce?this.addTargetChange(t):t instanceof Ae?this.addExistenceFilterChange(t):y("Unknown watch change: "+t)},t.prototype.addChanges=function(t){var e=this;g(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t.forEach(function(t){return e.add(t)})},t.prototype.createRemoteEvent=function(){var t=this,e=this.targetChanges;return I(this.targetChanges,function(n){t.isActiveTarget(n)||delete e[n]}),this.frozen=!0,new we(this.snapshotVersion,e,this.documentUpdates,this.limboDocuments)},t.prototype.ensureTargetChange=function(t){var e=this.targetChanges[t];return e||(e={currentStatusUpdate:be.None,snapshotVersion:this.snapshotVersion,mapping:new ke,resumeToken:b()},this.targetChanges[t]=e),e},t.prototype.queryDataForActiveTarget=function(t){var e=this.listenTargets[t];return e&&!S(this.pendingTargetResponses,t)?e:null},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.updateLimboDocuments=function(t,e,n){return!!n&&(this.documentUpdates.get(t)?e.purpose===Ft.LimboResolution||(this.limboDocuments=this.limboDocuments.delete(t),!1):e.purpose===Ft.LimboResolution&&(this.limboDocuments=this.limboDocuments.add(t),!0))},t.prototype.addDocumentChange=function(t){for(var e=!1,n=!0,r=0,i=t.updatedTargetIds;r<i.length;r++){var o=i[r];if(c=this.queryDataForActiveTarget(o)){var a=this.ensureTargetChange(o);n=this.updateLimboDocuments(t.key,c,n),a.mapping.add(t.key),e=!0}}for(var s=0,u=t.removedTargetIds;s<u.length;s++){var c;o=u[s],(c=this.queryDataForActiveTarget(o))&&(a=this.ensureTargetChange(o),n=this.updateLimboDocuments(t.key,c,n),a.mapping.delete(t.key),e=!0)}t.newDoc&&e&&(this.documentUpdates=this.documentUpdates.insert(t.key,t.newDoc))},t.prototype.addTargetChange=function(t){var e=this;t.targetIds.forEach(function(n){var r=e.ensureTargetChange(n);switch(t.state){case Ee.NoChange:e.isActiveTarget(n)&&_e(r,t.resumeToken);break;case Ee.Added:e.recordTargetResponse(n),S(e.pendingTargetResponses,n)||(r.mapping=new ke,r.currentStatusUpdate=be.None,delete e.existenceFilters[n]),_e(r,t.resumeToken);break;case Ee.Removed:e.recordTargetResponse(n),g(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Ee.Current:e.isActiveTarget(n)&&(r.currentStatusUpdate=be.MarkCurrent,_e(r,t.resumeToken));break;case Ee.Reset:e.isActiveTarget(n)&&(r.mapping=new Se,_e(r,t.resumeToken));break;default:y("Unknown target watch change state: "+t.state)}})},t.prototype.recordTargetResponse=function(t){var e=(this.pendingTargetResponses[t]||0)-1;0===e?delete this.pendingTargetResponses[t]:this.pendingTargetResponses[t]=e},t.prototype.addExistenceFilterChange=function(t){this.isActiveTarget(t.targetId)&&(this.existenceFilters[t.targetId]=t.existenceFilter)},t}();function _e(t,e){e.length>0&&(t.resumeToken=e)}var Oe=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new At(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),xe=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Re(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new xt(e)},t.prototype.isEqual=function(e){return e instanceof t&&z(e.elements,this.elements)},t}(),De=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Re(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new xt(e)},t.prototype.isEqual=function(e){return e instanceof t&&z(e.elements,this.elements)},t}();function Re(t){return t instanceof xt?t.internalValue.slice():[]}var Pe,Me,Le=((Pe={})[Ht.ASCENDING.name]="ASCENDING",Pe[Ht.DESCENDING.name]="DESCENDING",Pe),Fe=((Me={})[Bt.LESS_THAN.name]="LESS_THAN",Me[Bt.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Me[Bt.GREATER_THAN.name]="GREATER_THAN",Me[Bt.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Me[Bt.EQUAL.name]="EQUAL",Me[Bt.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Me),je=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Be(t,e){g(!Lt(t),e+" is missing")}function Ue(t){return"number"==typeof t?t:"string"==typeof t?Number(t):y("can't parse "+t)}var Ve=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?w.UNKNOWN:ce(t.code);return new E(e,t.message||"")},t.prototype.toInt32Value=function(t){return Lt(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Lt(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);g(!!t,"Cannot deserialize null or undefined timestamp.");var e=Ue(t.seconds||"0"),n=t.nanos||0;return new et(e,n)},t.prototype.fromIso8601String=function(t){var e=0,n=je.exec(t);if(g(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new et(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(g(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),$.fromBase64String(t)):(g(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),$.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return g(!!t,"Trying to deserialize version that isn't set"),Qt.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=at.fromString(t);return g(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return g(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),g(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new ct(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return 0===t.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?at.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new at(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new at(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return g(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof vt)return{nullValue:"NULL_VALUE"};if(t instanceof bt)return{booleanValue:t.value()};if(t instanceof Tt)return{integerValue:""+t.value()};if(t instanceof St){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof kt?{stringValue:t.value()}:t instanceof Ot?{mapValue:this.toMapValue(t)}:t instanceof xt?{arrayValue:this.toArrayValue(t)}:t instanceof It?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof _t?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Ct?{bytesValue:this.toBytes(t.value())}:t instanceof Nt?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:y("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(qe(t,n,"nullValue"))return vt.INSTANCE;if(qe(t,n,"booleanValue"))return bt.of(t.booleanValue);if(qe(t,n,"integerValue"))return new Tt(Ue(t.integerValue));if(qe(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return St.NAN;if("Infinity"===t.doubleValue)return St.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return St.NEGATIVE_INFINITY}return new St(t.doubleValue)}if(qe(t,n,"stringValue"))return new kt(t.stringValue);if(qe(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(qe(t,n,"arrayValue")){Be(t.arrayValue,"arrayValue");var r=t.arrayValue.values||[];return new xt(r.map(function(t){return e.fromValue(t)}))}if(qe(t,n,"timestampValue"))return Be(t.timestampValue,"timestampValue"),new It(this.fromTimestamp(t.timestampValue));if(qe(t,n,"geoPointValue")){Be(t.geoPointValue,"geoPointValue");var i=t.geoPointValue.latitude||0,o=t.geoPointValue.longitude||0;return new _t(new tt(i,o))}if(qe(t,n,"bytesValue")){Be(t.bytesValue,"bytesValue");var a=this.fromBlob(t.bytesValue);return new Ct(a)}if(qe(t,n,"referenceValue")){Be(t.referenceValue,"referenceValue");var s=this.fromResourceName(t.referenceValue),u=new it(s.get(1),s.get(3)),c=new ct(this.extractLocalPathFromResourceName(s));return new Nt(u,c)}return y("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return g(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t){return new lt(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasLocalMutations:!1})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=t,r=Ot.EMPTY;return A(n,function(t,n){r=r.set(new ut([t]),e.fromValue(n))}),r},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){g(!!t.found,"Tried to deserialize a found document from a missing document."),Be(t.found.name,"doc.found.name"),Be(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new lt(e,n,r,{hasLocalMutations:!1})},t.prototype.fromMissing=function(t){g(!!t.missing,"Tried to deserialize a missing document from a found document."),g(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ht(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return qe(t,e,"found")?this.fromFound(t):qe(t,e,"missing")?this.fromMissing(t):y("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Ee.Added:return"ADD";case Ee.Current:return"CURRENT";case Ee.NoChange:return"NO_CHANGE";case Ee.Removed:return"REMOVE";case Ee.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Ae)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Ie){if(t.newDoc instanceof lt){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof ht)return e=t.newDoc,{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Ce){var n=void 0;return t.cause&&(n={code:function(t){if(void 0===t)return te.OK;switch(t){case w.OK:return te.OK;case w.CANCELLED:return te.CANCELLED;case w.UNKNOWN:return te.UNKNOWN;case w.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case w.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case w.INTERNAL:return te.INTERNAL;case w.UNAVAILABLE:return te.UNAVAILABLE;case w.UNAUTHENTICATED:return te.UNAUTHENTICATED;case w.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case w.NOT_FOUND:return te.NOT_FOUND;case w.ALREADY_EXISTS:return te.ALREADY_EXISTS;case w.PERMISSION_DENIED:return te.PERMISSION_DENIED;case w.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case w.ABORTED:return te.ABORTED;case w.OUT_OF_RANGE:return te.OUT_OF_RANGE;case w.UNIMPLEMENTED:return te.UNIMPLEMENTED;case w.DATA_LOSS:return te.DATA_LOSS;default:return y("Unknown status code: "+t)}}(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(qe(t,n,"targetChange")){Be(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Ce(r,i,o,s||null)}else if(qe(t,n,"documentChange")){Be(t.documentChange,"documentChange"),Be(t.documentChange.document,"documentChange.name"),Be(t.documentChange.document.name,"documentChange.document.name"),Be(t.documentChange.document.updateTime,"documentChange.document.updateTime");var u=t.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),h=this.fromFields(u.document.fields||{}),f=new lt(c,l,h,{hasLocalMutations:!1}),d=u.targetIds||[],p=u.removedTargetIds||[];e=new Ie(d,p,f.key,f)}else if(qe(t,n,"documentDelete")){Be(t.documentDelete,"documentDelete"),Be(t.documentDelete.document,"documentDelete.document");var m=t.documentDelete;c=this.fromName(m.document),l=m.readTime?this.fromVersion(m.readTime):Qt.forDeletedDoc(),f=new ht(c,l),p=m.removedTargetIds||[],e=new Ie([],p,f.key,f)}else if(qe(t,n,"documentRemove")){Be(t.documentRemove,"documentRemove"),Be(t.documentRemove.document,"documentRemove");var g=t.documentRemove;c=this.fromName(g.document),p=g.removedTargetIds||[],e=new Ie([],p,c,null)}else{if(!qe(t,n,"filter"))return y("Unknown change type "+JSON.stringify(t));Be(t.filter,"filter"),Be(t.filter.targetId,"filter.targetId");var v=t.filter,b=v.count||0,w=new se(b),E=v.targetId;e=new Ae(E,w)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Ee.NoChange:"ADD"===t?Ee.Added:"REMOVE"===t?Ee.Removed:"CURRENT"===t?Ee.Current:"RESET"===t?Ee.Reset:y("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!qe(t,t.response_type,"targetChange"))return Qt.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Qt.MIN:e.readTime?this.fromVersion(e.readTime):Qt.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof re)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof ae)e={delete:this.toName(t.key)};else if(t instanceof ie)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof oe))return y("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ee.NONE;if(t.update){Be(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new ie(r,i,o,n)}return new re(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new ae(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return g(!0===n.exists,'Transforms only support precondition "exists == true"'),new oe(r,a)}return y("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return g(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ee.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ee.exists(t.exists):ee.NONE},t.prototype.fromWriteResult=function(t){var e=this,n=t.updateTime?this.fromVersion(t.updateTime):null,r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults.map(function(t){return e.fromValue(t)})),new Zt(n,r)},t.prototype.fromWriteResults=function(t){var e=this;return(t||[]).map(function(t){return e.fromWriteResult(t)})},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;return n instanceof Oe?{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"}:n instanceof xe?{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}}:n instanceof De?{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}}:void y("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t.transform_type,r=null;if(qe(t,n,"setToServerValue"))g("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),r=Oe.instance;else if(qe(t,n,"appendMissingElements")){var i=t.appendMissingElements.values||[];r=new xe(i.map(function(t){return e.fromValue(t)}))}else qe(t,n,"removeAllFromArray")?(i=t.removeAllFromArray.values||[],r=new De(i.map(function(t){return e.fromValue(t)}))):y("Unknown transform proto: "+JSON.stringify(t));var o=ut.fromServerFormat(t.fieldPath);return new $t(o,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;g(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return jt.atPath(this.fromQueryPath(n))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(at.EMPTY_PATH);else{var n=t.path;g(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;if(r>0){g(1===r,"StructuredQuery.from with more than one collection is not supported.");var i=n.from[0];e=e.child(i.collectionId)}var o=[];n.where&&(o=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var s=null;n.limit&&(s=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new jt(e,a,o,s,u,c)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Ft.Listen:return null;case Ft.ExistenceFilterMismatch:return"existence-filter-mismatch";case Ft.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Ut?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):y("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Kt(r,n)},t.prototype.toDirection=function(t){return Le[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Ht.ASCENDING;case"DESCENDING":return Ht.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return Fe[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Bt.EQUAL;case"GREATER_THAN":return Bt.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Bt.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Bt.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Bt.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Bt.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return y("Unspecified relation");default:return y("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ut.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Wt(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Ut?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:y("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Ut(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof qt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Vt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:y("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new qt(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Vt(n);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},t.prototype.toDocumentMask=function(t){return{fieldPaths:t.fields.map(function(t){return t.canonicalString()})}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ut.fromServerFormat(t)});return new Jt(e)},t}();function qe(t,e,n){return e===n||!e&&n in t}var He="FirebaseError",Ke=Error.captureStackTrace,We=function(t,e){if(this.code=t,this.message=e,Ke)Ke(this,Ge.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=He,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}};We.prototype=Object.create(Error.prototype),We.prototype.constructor=We,We.prototype.name=He;var Ge=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new We(i,n);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}(),ze=(function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}s.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}(function(){this.blockSize=-1}),function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){g(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){g(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){g(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){g(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){g(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){g(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}()),Qe="Connection",Xe={BatchGetDocuments:"batchGet",Commit:"commit"},Ye="gl-js/ fire/"+c,Je=function(){function t(t){this.databaseId=t.databaseId,this.pool=new u.XhrIoPool;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=Ye},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,a){r.pool.getObject(function(s){s.listenOnce(u.EventType.COMPLETE,function(){try{switch(s.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=s.getResponseJson();d(Qe,"XHR received:",JSON.stringify(e)),o(e);break;case u.ErrorCode.TIMEOUT:d(Qe,'RPC "'+t+'" timed out'),a(new E(w.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=s.getStatus();d(Qe,'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0?a(new E(function(t){switch(t){case 200:return w.OK;case 400:return w.INVALID_ARGUMENT;case 401:return w.UNAUTHENTICATED;case 403:return w.PERMISSION_DENIED;case 404:return w.NOT_FOUND;case 409:return w.ABORTED;case 416:return w.OUT_OF_RANGE;case 429:return w.RESOURCE_EXHAUSTED;case 499:return w.CANCELLED;case 500:return w.UNKNOWN;case 501:return w.UNIMPLEMENTED;case 503:return w.UNAVAILABLE;case 504:return w.DEADLINE_EXCEEDED;default:return t>=200&&t<300?w.OK:t>=400&&t<500?w.FAILED_PRECONDITION:t>=500&&t<600?w.INTERNAL:w.UNKNOWN}}(n),"Server responded with status "+s.getStatusText())):(d(Qe,'RPC "'+t+'" failed'),a(new E(w.UNAVAILABLE,"Connection failed.")));break;default:y('RPC "'+t+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{d(Qe,'RPC "'+t+'" completed.'),r.pool.releaseObject(s)}});var c=JSON.stringify(e);d(Qe,"XHR sending: ",i+" "+c);var l={"Content-Type":"text/plain"};r.modifyHeadersForRequest(l,n),s.send(i,"POST",c,l,15)})})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1beta1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(i.initMessageHeaders,e),"object"==typeof navigator&&"ReactNative"===navigator.product||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");d(Qe,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),s=!1,c=!1,l=new ze({sendFn:function(t){c?d(Qe,"Not sending because WebChannel is closed:",t):(s||(d(Qe,"Opening WebChannel transport."),a.open(),s=!0),d(Qe,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),h=function(t,e){a.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(u.WebChannel.EventType.OPEN,function(){c||d(Qe,"WebChannel transport opened.")}),h(u.WebChannel.EventType.CLOSE,function(){c||(c=!0,d(Qe,"WebChannel transport closed"),l.callOnClose())}),h(u.WebChannel.EventType.ERROR,function(t){c||(c=!0,d(Qe,"WebChannel transport errored:",t),l.callOnClose(new E(w.UNAVAILABLE,"The operation could not be completed")))}),h(u.WebChannel.EventType.MESSAGE,function(t){if(!c){var e=t.data[0];g(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){d(Qe,"WebChannel received error:",n);var r=n.status,i=function(t){var e=te[r];if(void 0!==e)return ce(e)}(),o=n.message;void 0===i&&(i=w.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),c=!0,l.callOnClose(new E(i,o)),a.close()}else d(Qe,"WebChannel received:",e),l.callOnMessage(e)}}),setTimeout(function(){l.callOnOpen()},0),l},t.prototype.makeUrl=function(t){var e=Xe[t];g(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1beta1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}(),$e=function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return t.prototype.loadConnection=function(t){return Promise.resolve(new Je(t))},t.prototype.newSerializer=function(t){return new Ve(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();v.setPlatform(new $e);var Ze,tn,en,nn=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new E(w.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+K(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(D("FieldPath","string",n,t[n]),0===t[n].length)throw new E(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ut.keyField().canonicalString()),t}(),rn=new RegExp("[~\\*/\\[\\]]");!function(t){t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline"}(Ze||(Ze={})),function(t){t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata"}(tn||(tn={})),function(t){t[t.Local=0]="Local",t[t.Synced=1]="Synced"}(en||(en={}));var on,an=function(){function t(){this.changeMap=new ft(ct.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==tn.Added&&n.type===tn.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===tn.Metadata&&n.type!==tn.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===tn.Modified&&n.type===tn.Modified?this.changeMap=this.changeMap.insert(e,{type:tn.Modified,doc:t.doc}):t.type===tn.Modified&&n.type===tn.Added?this.changeMap=this.changeMap.insert(e,{type:tn.Added,doc:t.doc}):t.type===tn.Removed&&n.type===tn.Added?this.changeMap=this.changeMap.remove(e):t.type===tn.Removed&&n.type===tn.Modified?this.changeMap=this.changeMap.insert(e,{type:tn.Removed,doc:n.doc}):t.type===tn.Added&&n.type===tn.Removed?this.changeMap=this.changeMap.insert(e,{type:tn.Modified,doc:t.doc}):y("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),sn=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.fromCache=i,this.hasPendingWrites=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.prototype.isEqual=function(t){if(this.fromCache!==t.fromCache||this.hasPendingWrites!==t.hasPendingWrites||this.syncStateChanged!==t.syncStateChanged||!this.query.isEqual(t.query)||!this.docs.isEqual(t.docs)||!this.oldDocs.isEqual(t.oldDocs))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),un=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ct.comparator(e.key,n.key)}:function(t,e){return ct.comparator(t.key,e.key)},this.keyedMap=pe(),this.sortedSet=new ft(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),cn=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){A(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}})},t.prototype.isEmpty=function(){return C(this.inner)},t}(),ln=function(){this.listeners=[]},hn=function(){function t(t){this.syncEngine=t,this.queries=new cn(function(t){return t.canonicalId()}),this.onlineState=Ze.Unknown,this.syncEngine.subscribe(this.onChange.bind(this),this.onError.bind(this))}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new ln,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return s.__generator(this,function(o){return e=t.query,n=!1,(r=this.queries.get(e))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=r.query,o=this.queries.get(i);if(o){for(var a=0,s=o.listeners;a<s.length;a++)s[a].onViewSnapshot(r);o.viewSnap=r}}},t.prototype.onError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].applyOnlineStateChange(t)})},t}(),fn=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=Ze.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(g(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==tn.Metadata&&e.push(i)}t=new sn(t.query,t.docs,t.oldDocs,e,t.fromCache,t.hasPendingWrites,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){if(g(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==Ze.Offline;return this.options.waitForSyncWhenOnline&&n?(g(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===Ze.Offline},t.prototype.shouldRaiseEvent=function(t){if(t.docChanges.length>0)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(e){g(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=new sn(e.query,e.docs,un.emptySet(e.docs),t.getInitialViewChanges(e),e.fromCache,e.hasPendingWrites,!0,!1),this.raisedInitialEvent=!0,this.queryObserver.next(e)},t.getInitialViewChanges=function(t){var e=[];return t.docs.forEach(function(t){e.push({type:tn.Added,doc:t})}),e},t}(),dn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){var n=e.length;if(0===n)return t.resolve();var r=0;return new t(function(t,i){for(var o=0,a=e;o<a.length;o++)a[o].next(function(){++r===n&&t()},function(t){return i(t)})})},t.map=function(e){for(var n=[],r=[],i=function(t){r[t]=e[t].next(function(e){n[t]=e})},o=0;o<e.length;++o)i(o);return t.waitFor(r).next(function(){return n})},t}(),pn=function(){function t(){this.isEager=!0,this.sources=[],this.potentialGarbage=ve()}return t.prototype.addGarbageSource=function(t){this.sources.push(t),t.setGarbageCollector(this)},t.prototype.removeGarbageSource=function(t){this.sources.splice(this.sources.indexOf(t),1),t.setGarbageCollector(null)},t.prototype.addPotentialGarbageKey=function(t){this.potentialGarbage=this.potentialGarbage.add(t)},t.prototype.collectGarbage=function(t){var e=this,n=[],r=ve();return this.potentialGarbage.forEach(function(i){var o=e.documentHasAnyReferences(t,i);n.push(o.next(function(t){return t||(r=r.add(i)),dn.resolve()}))}),this.potentialGarbage=ve(),dn.waitFor(n).next(function(){return r})},t.prototype.documentHasAnyReferences=function(t,e){var n=dn.resolve(!1);return this.sources.map(function(n){return function(){return n.containsKey(t,e)}}).reduce(function(t,e){return t.next(function(t){return t?dn.resolve(!0):e()})},n)},t}(),mn=function(){function t(t,e,n){this.query=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e){for(var n=ve(),r=ve(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case tn.Added:n=n.add(a.doc.key);break;case tn.Removed:r=r.add(a.doc.key)}}return new t(e.query,n,r)},t}(),yn=function(){function t(){this.refsByKey=new le(gn.compareByKey),this.refsByTarget=new le(gn.compareByTargetId),this.garbageCollector=null}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new gn(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new gn(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=ct.EMPTY,r=new gn(n,t),i=new gn(n,t+1);this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t)})},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t),null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(t.key)},t.prototype.referencesForId=function(t){var e=ct.EMPTY,n=new gn(e,t),r=new gn(e,t+1),i=ve();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new gn(e,0),r=this.refsByKey.firstAfterOrEqual(n);return dn.resolve(null!==r&&e.isEqual(r.key))},t}(),gn=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return ct.comparator(t.key,e.key)||G(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return G(t.targetOrBatchId,e.targetOrBatchId)||ct.comparator(t.key,e.key)},t}(),vn=1;!function(t){t[t.LocalStore=0]="LocalStore",t[t.SyncEngine=1]="SyncEngine"}(on||(on={}));var bn=function(){function t(t,e){void 0===e&&(e=0),this.generatorId=t;var n=e>>vn<<vn,r=e-n;this.previousId=r>=t?n|this.generatorId:(n|this.generatorId)-(1<<vn)}return t.prototype.next=function(){return this.previousId+=1<<vn,this.previousId},t.forLocalStore=function(e){return void 0===e&&(e=0),new t(on.LocalStore,e)},t.forSyncEngine=function(){return new t(on.SyncEngine)},t}(),wn=function(t){this.key=t},En=function(t){this.key=t},Tn=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=ve(),this.mutatedKeys=ve(),this.documentSet=new un(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new an,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var c=i.get(t),l=e instanceof lt?e:null;if(l&&(g(t.isEqual(l.key),"Mismatching keys found in document changes: "+t+" != "+l.key),l=n.query.matches(l)?l:null),l?(a=a.add(l),o=l.hasLocalMutations?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)),c&&l){var h=c.data.isEqual(l.data);h&&c.hasLocalMutations===l.hasLocalMutations||(h?r.track({type:tn.Metadata,doc:l}):r.track({type:tn.Modified,doc:l}),u&&n.query.docComparator(l,u)>0&&(s=!0))}else!c&&l?r.track({type:tn.Added,doc:l}):c&&!l&&(r.track({type:tn.Removed,doc:c}),u&&(s=!0))}),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),r.track({type:tn.Removed,doc:c})}return g(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.applyChanges=function(t,e){var n=this;g(!t.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var i=t.changeSet.getChanges();i.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case tn.Added:return 1;case tn.Modified:case tn.Metadata:return 2;case tn.Removed:return 0;default:return y("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||n.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(e);var o=this.updateLimboDocuments(),a=0===this.limboDocuments.size&&this.current?en.Synced:en.Local,s=a!==this.syncState;return this.syncState=a,0!==i.length||s?{snapshot:new sn(this.query,t.documentSet,r,i,a===en.Local,!t.mutatedKeys.isEmpty(),s,!1),limboChanges:o}:{limboChanges:o}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===Ze.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new an,mutatedKeys:this.mutatedKeys,needsRefill:!1})):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){if(t){var e=t.mapping;switch(e instanceof Se?this._syncedDocuments=e.documents:e instanceof ke&&(this._syncedDocuments=e.applyToKeySet(this._syncedDocuments)),t.currentStatusUpdate){case be.MarkCurrent:this.current=!0;break;case be.MarkNotCurrent:this.current=!1;break;case be.None:break;default:y("Unknown current status update: "+t.currentStatusUpdate)}}},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=ve(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new En(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new wn(t))}),n},t}(),Sn=function(t,e,n,r){this.query=t,this.targetId=e,this.resumeToken=n,this.view=r},kn=function(){function t(t,e,n){this.localStore=t,this.remoteStore=e,this.currentUser=n,this.viewHandler=null,this.errorHandler=null,this.queryViewsByQuery=new cn(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new ft(ct.comparator),this.limboKeysByTarget={},this.limboDocumentRefs=new yn,this.limboCollector=new pn,this.mutationUserCallbacks={},this.targetIdGenerator=bn.forSyncEngine()}return t.prototype.subscribe=function(t,e){g(null!==t&&null!==e,"View and error handlers cannot be null"),g(null===this.viewHandler&&null===this.errorHandler,"SyncEngine already has a subscriber."),this.viewHandler=t,this.errorHandler=e,this.limboCollector.addGarbageSource(this.limboDocumentRefs)},t.prototype.listen=function(t){var e=this;return this.assertSubscribed("listen()"),g(!this.queryViewsByQuery.has(t),"We already listen to the query: "+t),this.localStore.allocateQuery(t).then(function(n){return e.localStore.executeQuery(t).then(function(r){return e.localStore.remoteDocumentKeys(n.targetId).then(function(i){var o=new Tn(t,i),a=o.computeDocChanges(r),s=o.applyChanges(a);g(0===s.limboChanges.length,"View returned limbo docs before target ack from the server."),g(!!s.snapshot,"applyChanges for new view should always return a snapshot");var u=new Sn(t,n.targetId,n.resumeToken,o);e.queryViewsByQuery.set(t,u),e.queryViewsByTarget[n.targetId]=u,e.viewHandler([s.snapshot]),e.remoteStore.listen(n)})}).then(function(){return n.targetId})})},t.prototype.unlisten=function(t){var e=this;this.assertSubscribed("unlisten()");var n=this.queryViewsByQuery.get(t);return g(!!n,"Trying to unlisten on query not found:"+t),this.localStore.releaseQuery(t).then(function(){return e.remoteStore.unlisten(n.targetId),e.removeAndCleanupQuery(n).then(function(){return e.localStore.collectGarbage()})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),g(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!Lt(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),I(t.targetChanges,function(n,r){var i=e.limboKeysByTarget[n];if(i)t.synthesizeDeleteForLimboTargetChange(r,i);else{var o=e.queryViewsByTarget[n];g(!!o,"Missing QueryView for non-limbo query: "+n),r.mapping.filterUpdates(o.view.syncedDocuments)}}),this.localStore.applyRemoteEvent(t).then(function(n){return e.emitNewSnapsAndNotifyLocalStore(n,t)})},t.prototype.applyOnlineStateChange=function(t){var e=[];this.queryViewsByQuery.forEach(function(n,r){var i=r.view.applyOnlineStateChange(t);g(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&e.push(i.snapshot)}),this.viewHandler(e)},t.prototype.rejectListen=function(t,e){var n=this;this.assertSubscribed("rejectListens()");var r=this.limboKeysByTarget[t];if(r){this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboKeysByTarget[t];var i=new ft(ct.comparator);i=i.insert(r,new ht(r,Qt.forDeletedDoc()));var o=ve().add(r),a=new we(Qt.MIN,{},i,o);return this.applyRemoteEvent(a)}var s=this.queryViewsByTarget[t];return g(!!s,"Unknown targetId: "+t),this.localStore.releaseQuery(s.query).then(function(){return n.removeAndCleanupQuery(s).then(function(){n.errorHandler(s.query,e)})})},t.prototype.applySuccessfulWrite=function(t){var e=this;return this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(t.batch.batchId,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(t){return n.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new ft(G)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(g(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){return this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.limboDocumentRefs.removeReferencesForId(t.targetId),this.gcLimboDocuments()},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof wn?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof En?(d("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t)):y("Unknown limbo change: "+JSON.stringify(i))}return this.gcLimboDocuments()},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){d("SyncEngine","New document in limbo: "+e);var n=this.targetIdGenerator.next(),r=jt.atPath(e.path);this.limboKeysByTarget[n]=e,this.remoteStore.listen(new Yt(r,n,Ft.Listen)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.gcLimboDocuments=function(){var t=this;return this.limboCollector.collectGarbage(null).next(function(e){e.forEach(function(e){var n=t.limboTargetsByKey.get(e);null!==n&&(t.remoteStore.unlisten(n),t.limboTargetsByKey=t.limboTargetsByKey.remove(e),delete t.limboKeysByTarget[n])})}).toPromise()},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){var n=this,r=[],i=[],o=[];return this.queryViewsByQuery.forEach(function(a,s){o.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?n.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var o=e&&e.targetChanges[s.targetId],a=s.view.applyChanges(t,o);return n.updateTrackedLimbos(s.targetId,a.limboChanges).then(function(){if(a.snapshot){r.push(a.snapshot);var t=mn.fromSnapshot(a.snapshot);i.push(t)}})}))}),Promise.all(o).then(function(){return n.viewHandler(r),n.localStore.notifyLocalViewChanges(i)}).then(function(){return n.localStore.collectGarbage()})},t.prototype.assertSubscribed=function(t){g(null!==this.viewHandler&&null!==this.errorHandler,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleUserChange=function(t){var e=this;return this.currentUser=t,this.localStore.handleUserChange(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)}).then(function(){return e.remoteStore.handleUserChange(t)})},t}(),In=-1,An=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&g(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;g(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var a=r[i];e=o.applyToRemoteDocument(e,a)}}return e},t.prototype.applyToLocalView=function(t,e){e&&g(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=e,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t)&&(e=i.applyToLocalView(e,n,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=ve(),e=0,n=this.mutations;e<n.length;e++){var r=n[e];t=t.add(r.key)}return t},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&z(this.mutations,t.mutations)},t.prototype.isTombstone=function(){return 0===this.mutations.length},t.prototype.toTombstone=function(){return new t(this.batchId,this.localWriteTime,[])},t}(),Cn=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){g(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=ye(),a=e.mutations,s=0;s<a.length;s++){var u=r[s].version;null===u&&(u=n),o=o.insert(a[s].key,u)}return new t(e,n,r,i,o)},t}(),Nn="",_n="",On="",xn="";function Dn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Pn(e)),e=Rn(t.get(n),e);return Pn(e)}function Rn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=Nn+On;break;case Nn:n+=Nn+xn;break;default:n+=o}}return n}function Pn(t){return t+Nn+_n}function Mn(t){var e=t.length;if(g(e>=2,"Invalid path "+t),2===e)return g(t.charAt(0)===Nn&&t.charAt(1)===_n,"Non-empty path "+t+" had length 2"),at.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(Nn,o);switch((a<0||a>n)&&y('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case _n:var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case On:i+=t.substring(o,a),i+="\0";break;case xn:i+=t.substring(o,a+1);break;default:y('Invalid encoded resource path: "'+t+'"')}o=a+2}return new at(r)}function Ln(t,e,n,r){g(n<r&&n>=0&&r<=2,"Unexpected schema upgrade from v${fromVersion} to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(jn.store)}(t),function(t){t.createObjectStore(Bn.store,{keyPath:Bn.keyPath}),t.createObjectStore(Un.store,{keyPath:Un.keyPath}),t.createObjectStore(Vn.store)}(t),function(t){t.createObjectStore(Wn.store,{keyPath:Wn.keyPath}).createIndex(Wn.documentTargetsIndex,Wn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Kn.store,{keyPath:Kn.keyPath}).createIndex(Kn.queryTargetsIndexName,Kn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Gn.store)}(t),function(t){t.createObjectStore(Hn.store)}(t));var i=dn.resolve();return n<2&&r>=2&&(i=function(t){var e=t.store(Gn.store);return e.get(Gn.key).next(function(t){return null!=t?dn.resolve(t):(t=new Gn(0,0,Qt.MIN.toTimestamp(),0),e.put(Gn.key,t).next(function(){return t}))})}(e).next(function(t){return function(t,e){var n=t.store(Gn.store);return t.store(Kn.store).count().next(function(t){return e.targetCount=t,n.put(Gn.key,e)})}(e,t)})),i}var Fn=function(t,e){this.seconds=t,this.nanoseconds=e},jn=function(){function t(t,e){this.ownerId=t,this.leaseTimestampMs=e}return t.store="owner",t}(),Bn=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Un=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath=["userId","batchId"],t}(),Vn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Dn(e)]},t.key=function(t,e,n){return[t,Dn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),qn=function(t,e){this.path=t,this.readTime=e},Hn=function(){function t(t,e){this.noDocument=t,this.document=e}return t.store="remoteDocuments",t}(),Kn=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Wn=function(){function t(t,e){this.targetId=t,this.path=e}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),Gn=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),zn=[Bn.store,Un.store,Vn.store,Hn.store,Kn.store,jn.store,Gn.store,Wn.store],Qn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Xn=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return g(t.isAvailable(),"IndexedDB not supported in current environment."),d("SimpleDb","Opening database:",e),new dn(function(i,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){var n=e.target.result;i(new t(n))},a.onerror=function(t){o(t.target.error)},a.onupgradeneeded=function(t){d("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new Jn(a.transaction);r(n,i,t.oldVersion,2).next(function(){d("SimpleDb","Database upgrade to version 2 complete")})}}).toPromise()},t.delete=function(t){return d("SimpleDb","Removing database:",t),Zn(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===Object({NODE_ENV:"production",PUBLIC_DIR:"/home/circleci/reactbkk3/public"}).USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.prototype.runTransaction=function(t,e,n){var r=Jn.open(this.db,t,e),i=n(r).catch(function(t){r.abort(t)}).toPromise();return r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),Yn=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Zn(this.dbCursor.delete())},t}(),Jn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new Qn,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(d("SimpleDb","Aborting transaction: %s",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return g(!!e,"Object store not part of transaction: "+t),new $n(e)},t}(),$n=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Zn(n)},t.prototype.get=function(t){var e=this;return Zn(this.store.get(t)).next(function(n){return void 0===n&&(n=null),d("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return d("SimpleDb","DELETE",this.store.name,t),Zn(this.store.delete(t))},t.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),Zn(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateCursor=function(t,e){var n=[];return new dn(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Yn(i),a=e(i.primaryKey,i.value,o);a instanceof dn&&n.push(a),o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return dn.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(g(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Zn(t){return new dn(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){n(t.target.error)}})}var tr=function(){function t(t,e){this.userId=t,this.serializer=e,this.garbageCollector=null}return t.forUser=function(e,n){return g(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n)},t.prototype.start=function(e){var n=this;return t.loadNextBatchIdFromDb(e).next(function(t){return n.nextBatchId=t,ir(e).get(n.userId)}).next(function(t){return t||(t=new Bn(n.userId,In,"")),n.metadata=t,n.metadata.lastAcknowledgedBatchId>=n.nextBatchId?n.checkEmpty(e).next(function(t){return g(t,"Reset nextBatchID is only possible when the queue is empty"),n.metadata.lastAcknowledgedBatchId=In,ir(e).put(n.metadata)}):dn.resolve()})},t.loadNextBatchIdFromDb=function(t){var e=In;return nr(t).iterate({reverse:!0},function(t,n,r){var i,o,a=t[0];if(t[1]>e&&(e=n.batchId),""===a)r.done();else{var s=(o=(i=a).length-1,0===i.length?"":"\0"===i.charAt(o)?i.substring(0,o):i.substring(0,o)+String.fromCharCode(i.charCodeAt(o)-1));r.skip([s])}}).next(function(){return e+1})},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound(this.keyForBatchId(Number.NEGATIVE_INFINITY),this.keyForBatchId(Number.POSITIVE_INFINITY));return nr(t).iterate({range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.getNextBatchId=function(t){return dn.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return dn.resolve(this.metadata.lastAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;return g(r>this.metadata.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),this.metadata.lastAcknowledgedBatchId=r,this.metadata.lastStreamToken=er(n),ir(t).put(this.metadata)},t.prototype.getLastStreamToken=function(t){return dn.resolve(this.metadata.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.metadata.lastStreamToken=er(e),ir(t).put(this.metadata)},t.prototype.addMutationBatch=function(t,e,n){var r=this,i=this.nextBatchId;this.nextBatchId++;var o=new An(i,e,n),a=this.serializer.toDbMutationBatch(this.userId,o);return nr(t).put(a).next(function(){for(var e=[],o=0,a=n;o<a.length;o++){var s=a[o],u=Vn.key(r.userId,s.key.path,i);e.push(rr(t).put(u,Vn.PLACEHOLDER))}return dn.waitFor(e)}).next(function(){return o})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return nr(t).get(this.keyForBatchId(e)).next(function(t){return t?n.serializer.fromDbMutationBatch(t):null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=Math.max(e,this.metadata.lastAcknowledgedBatchId)+1,i=IDBKeyRange.lowerBound(this.keyForBatchId(r)),o=null;return nr(t).iterate({range:i},function(t,e,i){e.userId===n.userId&&(g(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(e)),i.done()}).next(function(){return o})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound(this.keyForBatchId(In),this.keyForBatchId(Number.POSITIVE_INFINITY));return nr(t).loadAll(n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this,r=IDBKeyRange.bound(this.keyForBatchId(In),this.keyForBatchId(e));return nr(t).loadAll(r).next(function(t){return t.map(function(t){return n.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Vn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return rr(t).iterate({range:i},function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Mn(u);if(s===n.userId&&e.path.isEqual(l)){var h=n.keyForBatchId(c);return nr(t).get(h).next(function(t){null===t&&y("Dangling document-mutation reference found: "+r+" which points to "+h),o.push(n.serializer.fromDbMutationBatch(t))})}a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;g(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,i=r.length+1,o=Vn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new le(G);return rr(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[1],c=t[2],l=Mn(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){var e=[],r=[];return s.forEach(function(i){var o=n.keyForBatchId(i);r.push(nr(t).get(o).next(function(t){null===t&&y("Dangling document-mutation reference found, which points to "+o),e.push(n.serializer.fromDbMutationBatch(t))}))}),dn.waitFor(r).next(function(){return e})})},t.prototype.removeMutationBatches=function(t,e){for(var n=nr(t),r=rr(t),i=[],o=function(t){var e=IDBKeyRange.only(a.keyForBatchId(t.batchId)),o=0,s=n.iterate({range:e},function(t,e,n){return o++,n.delete()});i.push(s.next(function(){g(1===o,"Dangling document-mutation reference found: Missing batch "+t.batchId)}));for(var u=0,c=t.mutations;u<c.length;u++){var l=c[u],h=Vn.key(a.userId,l.key.path,t.batchId);i.push(r.delete(h)),null!==a.garbageCollector&&a.garbageCollector.addPotentialGarbageKey(l.key)}},a=this,s=0,u=e;s<u.length;s++)o(u[s]);return dn.waitFor(i)},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return dn.resolve();var r=IDBKeyRange.lowerBound(Vn.prefixForUser(e.userId)),i=[];return rr(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=Mn(t[1]);i.push(o)}else r.done()}).next(function(){g(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=this,r=Vn.prefixForPath(this.userId,e.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return rr(t).iterate({range:o,keysOnly:!0},function(t,e,r){var o=t[0],s=t[1];t[2],o===n.userId&&s===i&&(a=!0),r.done()}).next(function(){return a})},t.prototype.keyForBatchId=function(t){return[this.userId,t]},t}();function er(t){return t instanceof Uint8Array?(g("YES"===Object({NODE_ENV:"production",PUBLIC_DIR:"/home/circleci/reactbkk3/public"}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),t.toString()):t}function nr(t){return or(t,Un.store)}function rr(t){return or(t,Vn.store)}function ir(t){return or(t,Bn.store)}function or(t,e){return t instanceof Jn?t.store(e):y("Invalid transaction object provided!")}var ar=function(){function t(t){this.serializer=t,this.lastRemoteSnapshotVersion=Qt.MIN,this.metadata=null,this.garbageCollector=null}return t.prototype.start=function(t){var e=this;return ur(t).get(Gn.key).next(function(t){g(null!==t,"Missing metadata row that should be added by schema migration."),e.metadata=t;var n=t.lastRemoteSnapshotVersion;return e.lastRemoteSnapshotVersion=Qt.fromTimestamp(new et(n.seconds,n.nanoseconds)),dn.resolve()})},t.prototype.getHighestTargetId=function(){return this.metadata.highestTargetId},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,this.metadata.lastRemoteSnapshotVersion=e.toTimestamp(),ur(t).put(Gn.key,this.metadata)},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.metadata.targetCount+=1,n.updateMetadataFromQueryData(e),n.saveMetadata(t)})},t.prototype.updateQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.updateMetadataFromQueryData(e)?n.saveMetadata(t):dn.resolve()})},t.prototype.removeQueryData=function(t,e){var n=this;return g(this.metadata.targetCount>0,"Removing from an empty query cache"),this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return sr(t).delete(e.targetId)}).next(function(){return n.metadata.targetCount-=1,n.saveMetadata(t)})},t.prototype.saveMetadata=function(t){return ur(t).put(Gn.key,this.metadata)},t.prototype.saveQueryData=function(t,e){return sr(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t){var e=!1;return t.targetId>this.metadata.highestTargetId&&(this.metadata.highestTargetId=t.targetId,e=!0),e},Object.defineProperty(t.prototype,"count",{get:function(){return this.metadata.targetCount},enumerable:!0,configurable:!0}),t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return sr(t).iterate({range:i,index:Kn.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=[],i=cr(t);return e.forEach(function(t){var e=Dn(t.path);r.push(i.put(new Wn(n,e)))}),dn.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=[],o=cr(t);return e.forEach(function(t){var e=Dn(t.path);i.push(o.delete([n,e])),null!==r.garbageCollector&&r.garbageCollector.addPotentialGarbageKey(t)}),dn.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=cr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return this.notifyGCForRemovedKeys(t,r).next(function(){return n.delete(r)})},t.prototype.notifyGCForRemovedKeys=function(t,e){var n=this,r=cr(t);return null!==this.garbageCollector&&this.garbageCollector.isEager?r.iterate({range:e,keysOnly:!0},function(t,e,r){var i=Mn(t[1]),o=new ct(i);g(null!==n.garbageCollector,"GarbageCollector for query cache set to null during key removal."),n.garbageCollector.addPotentialGarbageKey(o)}):dn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=cr(t),i=ve();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=Mn(t[1]),o=new ct(r);i=i.add(o)}).next(function(){return i})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){g(null!==t,"Persistence Transaction cannot be null for query cache containsKey");var n,r=Dn(e.path),i=IDBKeyRange.bound([r],[(n=r,n+"\0")],!1,!0),o=0;return cr(t).iterate({index:Wn.documentTargetsIndex,keysOnly:!0,range:i},function(t,e,n){o++,n.done()}).next(function(){return o>0})},t}();function sr(t){return lr(t,Kn.store)}function ur(t){return lr(t,Gn.store)}function cr(t){return lr(t,Wn.store)}function lr(t,e){return t instanceof Jn?t.store(e):y("Invalid transaction object provided!")}var hr=function(){function t(t){this.serializer=t}return t.prototype.addEntry=function(t,e){return fr(t).put(dr(e.key),this.serializer.toDbRemoteDocument(e))},t.prototype.removeEntry=function(t,e){return fr(t).delete(dr(e))},t.prototype.getEntry=function(t,e){var n=this;return fr(t).get(dr(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=pe(),i=e.path.toArray(),o=IDBKeyRange.lowerBound(i);return fr(t).iterate({range:o},function(t,i,o){var a=n.serializer.fromDbRemoteDocument(i);e.path.isPrefixOf(a.key.path)?a instanceof lt&&e.matches(a)&&(r=r.insert(a.key,a)):o.done()}).next(function(){return r})},t}();function fr(t){return t instanceof Jn?t.store(Hn.store):y("Invalid transaction object provided!")}function dr(t){return t.path.toArray()}var pr,mr=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document);if(t.noDocument){var e=ct.fromSegments(t.noDocument.path),n=t.noDocument.readTime,r=new et(n.seconds,n.nanoseconds);return new ht(e,Qt.fromTimestamp(r))}return y("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof lt){var e=this.remoteSerializer.toDocument(t);return new Hn(null,e)}var n=t.key.path.toArray(),r=t.version.toTimestamp(),i=new Fn(r.seconds,r.nanoseconds);return new Hn(new qn(n,i),null)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new Un(t,e.batchId,e.localWriteTime.toMillis(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=et.fromMillis(t.localWriteTimeMs);return new An(t.batchId,r,n)},t.prototype.fromDbTarget=function(t){var e,n=new et(t.readTime.seconds,t.readTime.nanoseconds),r=Qt.fromTimestamp(n);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Yt(e,t.targetId,Ft.Listen,r,t.resumeToken)},t.prototype.toDbTarget=function(t){g(Ft.Listen===t.purpose,"Only queries with purpose "+Ft.Listen+" may be stored, got "+t.purpose);var e,n,r=t.snapshotVersion.toTimestamp(),i=new Fn(r.seconds,r.nanoseconds);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(g("YES"===Object({NODE_ENV:"production",PUBLIC_DIR:"/home/circleci/reactbkk3/public"}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new Kn(t.targetId,t.query.canonicalId(),i,n,0,e)},t}(),yr="IndexedDbPersistence",gr="There is another tab open with offline persistence enabled. Only one such tab is allowed at a time. The other tab must be closed or persistence must be disabled.",vr=function(){function t(e,n){this.ownerId=this.generateOwnerId(),this.dbName=e+t.MAIN_DATABASE,this.serializer=new mr(n),this.localStoragePrefix=e}return t.prototype.start=function(){var e=this;return t.isAvailable()?(g(!this.started,"IndexedDbPersistence double-started!"),this.started=!0,Xn.openOrCreate(this.dbName,2,Ln).then(function(t){e.simpleDb=t}).then(function(){return e.tryAcquireOwnerLease()}).then(function(){e.scheduleOwnerLeaseRefreshes(),e.attachWindowUnloadHook()})):(this.persistenceError=new E(w.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled."),Promise.reject(this.persistenceError))},t.prototype.shutdown=function(t){var e=this;return g(this.started,"IndexedDbPersistence shutdown without start!"),this.started=!1,this.detachWindowUnloadHook(),this.stopOwnerLeaseRefreshes(),this.releaseOwnerLease().then(function(){if(e.simpleDb.close(),t)return Xn.delete(e.dbName)})},t.prototype.getMutationQueue=function(t){return tr.forUser(t,this.serializer)},t.prototype.getQueryCache=function(){return new ar(this.serializer)},t.prototype.getRemoteDocumentCache=function(){return new hr(this.serializer)},t.prototype.runTransaction=function(t,e){var n=this;return this.persistenceError?Promise.reject(this.persistenceError):(d(yr,"Starting transaction:",t),this.simpleDb.runTransaction("readwrite",zn,function(t){return n.ensureOwnerLease(t).next(function(){return e(t)})}))},t.isAvailable=function(){return Xn.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.tryAcquireOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[jn.store],function(e){var n=e.store(jn.store);return n.get("owner").next(function(e){if(t.validOwner(e))return d(yr,"Valid owner already. Failing. Current owner:",e),t.persistenceError=new E(w.FAILED_PRECONDITION,gr),dn.reject(t.persistenceError);var r=new jn(t.ownerId,Date.now());return d(yr,"No valid owner. Acquiring owner lease. Current owner:",e,"New owner:",r),n.put("owner",r)})})},t.prototype.releaseOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[jn.store],function(e){var n=e.store(jn.store);return n.get("owner").next(function(e){return null!==e&&e.ownerId===t.ownerId?(d(yr,"Releasing owner lease."),n.delete("owner")):dn.resolve()})})},t.prototype.ensureOwnerLease=function(t){var e=this;return t.store(jn.store).get("owner").next(function(t){return null===t||t.ownerId!==e.ownerId?(e.persistenceError=new E(w.FAILED_PRECONDITION,gr),dn.reject(e.persistenceError)):dn.resolve()})},t.prototype.validOwner=function(t){var e=Date.now(),n=e-5e3,r=e;return!(null===t||t.leaseTimestampMs<n||(t.leaseTimestampMs>r?(p("Persistence owner-lease is in the future. Discarding.",t),1):t.ownerId===this.getZombiedOwnerId()))},t.prototype.scheduleOwnerLeaseRefreshes=function(){var t=this;this.ownerLeaseRefreshHandle=setInterval(function(){t.runTransaction("Refresh owner timestamp",function(e){return e.store(jn.store).put("owner",new jn(t.ownerId,Date.now()))}).catch(function(e){p(e),t.stopOwnerLeaseRefreshes()})},4e3)},t.prototype.stopOwnerLeaseRefreshes=function(){this.ownerLeaseRefreshHandle&&(clearInterval(this.ownerLeaseRefreshHandle),this.ownerLeaseRefreshHandle=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"object"==typeof window&&"function"==typeof window.addEventListener&&(this.windowUnloadHandler=function(){t.setZombiedOwnerId(t.ownerId),t.shutdown()},window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(g("object"==typeof window&&"function"==typeof window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.getZombiedOwnerId=function(){try{var t=window.localStorage.getItem(this.zombiedOwnerLocalStorageKey());return d(yr,"Zombied ownerID from LocalStorage:",t),t}catch(t){return p("Failed to get zombie owner id.",t),null}},t.prototype.setZombiedOwnerId=function(t){try{null===t?window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey()):window.localStorage.setItem(this.zombiedOwnerLocalStorageKey(),t)}catch(t){p("Failed to set zombie owner id.",t)}},t.prototype.zombiedOwnerLocalStorageKey=function(){return this.localStoragePrefix+"zombiedOwnerId"},t.prototype.generateOwnerId=function(){return W.newId()},t.MAIN_DATABASE="main",t}(),br=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.remoteDocumentCache.getEntry(t,e).next(function(r){return n.computeLocalDocument(t,e,r)})},t.prototype.getDocuments=function(t,e){var n=this,r=[],i=fe();return e.forEach(function(e){r.push(n.getDocument(t,e).next(function(t){t||(t=new ht(e,Qt.forDeletedDoc())),i=i.insert(e,t)}))}),dn.waitFor(r).next(function(){return i})},t.prototype.getDocumentsMatchingQuery=function(t,e){return ct.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new ct(e)).next(function(t){var e=pe();return t instanceof lt&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(e){return r.computeLocalDocuments(t,e)}).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){for(var i=ve(),o=0,a=e;o<a.length;o++)for(var s=0,u=a[o].mutations;s<u.length;s++){var c=u[s];n.get(c.key)||(i=i.add(c.key))}var l=[];return i.forEach(function(e){l.push(r.getDocument(t,e).next(function(t){t instanceof lt&&(n=n.insert(t.key,t))}))}),dn.waitFor(l)}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t.prototype.computeLocalDocument=function(t,e,n){return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];n=o.applyToLocalView(e,n)}return n})},t.prototype.computeLocalDocuments=function(t,e){var n=this,r=[];return e.forEach(function(i,o){r.push(n.computeLocalDocument(t,i,o).next(function(t){t instanceof lt?e=e.insert(t.key,t):t instanceof ht?e=e.remove(t.key):y("Unknown MaybeDocument: "+t)}))}),dn.waitFor(r).next(function(){return e})},t}(),wr=function(){function t(t){this.remoteDocumentCache=t,this.changes=fe()}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this.assertChanges().get(e);return n?dn.resolve(n):this.remoteDocumentCache.getEntry(t,e)},t.prototype.apply=function(t){var e=this,n=[];return this.assertChanges().forEach(function(r,i){n.push(e.remoteDocumentCache.addEntry(t,i))}),this.changes=null,dn.waitFor(n)},t.prototype.assertChanges=function(){return g(null!==this.changes,"Changes have already been applied."),this.changes},t}(),Er=function(){function t(t,e,n){this.persistence=t,this.garbageCollector=n,this.localViewReferences=new yn,this.targetIds={},this.targetIdGenerator=bn.forLocalStore(),this.heldBatchResults=[],this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new br(this.remoteDocuments,this.mutationQueue),this.garbageCollector.addGarbageSource(this.localViewReferences),this.garbageCollector.addGarbageSource(this.queryCache),this.garbageCollector.addGarbageSource(this.mutationQueue)}return t.prototype.start=function(){var t=this;return this.persistence.runTransaction("Start LocalStore",function(e){return t.startMutationQueue(e).next(function(){return t.startQueryCache(e)})})},t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.garbageCollector.removeGarbageSource(e.mutationQueue),e.mutationQueue=e.persistence.getMutationQueue(t),e.garbageCollector.addGarbageSource(e.mutationQueue),e.startMutationQueue(n)}).next(function(){return e.localDocuments=new br(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=ve(),o=0,a=[r,t];o<a.length;o++)for(var s=0,u=a[o];s<u.length;s++)for(var c=0,l=u[s].mutations;c<l.length;c++){var h=l[c];i=i.add(h.key)}return e.localDocuments.getDocuments(n,i)})})},t.prototype.startQueryCache=function(t){var e=this;return this.queryCache.start(t).next(function(){var t=e.queryCache.getHighestTargetId();e.targetIdGenerator=bn.forLocalStore(t)})},t.prototype.startMutationQueue=function(t){var e=this;return this.mutationQueue.start(t).next(function(){return e.heldBatchResults=[],e.mutationQueue.getHighestAcknowledgedBatchId(t)}).next(function(n){return n!==In?e.mutationQueue.getAllMutationBatchesThroughBatchId(t,n):dn.resolve([])}).next(function(n){return n.length>0?e.mutationQueue.removeMutationBatches(t,n):dn.resolve()})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations",function(n){var r,i=et.now();return e.mutationQueue.addMutationBatch(n,i,t).next(function(t){var i=(r=t).keys();return e.localDocuments.getDocuments(n,i)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch",function(n){var r;return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){if(e.shouldHoldBatchResult(t.commitVersion))return e.heldBatchResults.push(t),r=ve(),dn.resolve();var i=new wr(e.remoteDocuments);return e.releaseBatchResults(n,[t],i).next(function(t){return r=t,i.apply(n)})}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch",function(n){var r,i;return e.mutationQueue.lookupMutationBatch(n,t).next(function(i){return g(null!=i,"Attempt to reject nonexistent batch!"),r=i,e.mutationQueue.getHighestAcknowledgedBatchId(n).next(function(e){return g(t>e,"Acknowledged batches can't be rejected."),r})}).next(function(){return e.removeMutationBatch(n,r)}).next(function(t){return i=t,e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,i)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){return this.queryCache.getLastRemoteSnapshotVersion()},t.prototype.applyRemoteEvent=function(t){var e=this,n=new wr(this.remoteDocuments);return this.persistence.runTransaction("Apply remote event",function(r){var i=[];I(t.targetChanges,function(t,n){var o=e.targetIds[t];if(o){var a=n.mapping;if(a)if(a instanceof Se)i.push(e.queryCache.removeMatchingKeysForTargetId(r,t).next(function(){return e.queryCache.addMatchingKeys(r,a.documents,t)}));else{if(!(a instanceof ke))return y("Unknown mapping type: "+JSON.stringify(a));i.push(e.queryCache.removeMatchingKeys(r,a.removedDocuments,t).next(function(){return e.queryCache.addMatchingKeys(r,a.addedDocuments,t)}))}var s=n.resumeToken;s.length>0&&(o=o.update({resumeToken:s,snapshotVersion:n.snapshotVersion}),e.targetIds[t]=o,i.push(e.queryCache.updateQueryData(r,o)))}});var o=ve();t.documentUpdates.forEach(function(t,a){o=o.add(t),i.push(n.getEntry(r,t).next(function(r){null==r||a.version.isEqual(Qt.MIN)||a.version.compareTo(r.version)>=0?n.addEntry(a):d("LocalStore","Ignoring outdated watch update for ",t,". Current version:",r.version," Watch version:",a.version),e.garbageCollector.addPotentialGarbageKey(t)}))});var a,s=e.queryCache.getLastRemoteSnapshotVersion(),u=t.snapshotVersion;return u.isEqual(Qt.MIN)||(g(u.compareTo(s)>=0,"Watch stream reverted to previous snapshot?? "+u+" < "+s),i.push(e.queryCache.setLastRemoteSnapshotVersion(r,u))),dn.waitFor(i).next(function(){return e.releaseHeldBatchResults(r,n)}).next(function(t){return a=t,n.apply(r)}).next(function(){return e.localDocuments.getDocuments(r,o.unionWith(a))})})},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("Notify local view changes",function(n){for(var r=[],i=function(t){r.push(e.queryCache.getQueryData(n,t.query).next(function(n){g(null!==n,"Local view changes contain unallocated query.");var r=n.targetId;e.localViewReferences.addReferences(t.addedKeys,r),e.localViewReferences.removeReferences(t.removedKeys,r)}))},o=0,a=t;o<a.length;o++)i(a[o]);return dn.waitFor(r)})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch",function(n){return void 0===t&&(t=In),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){if(i)return r=i,dn.resolve();var o=e.targetIdGenerator.next();return r=new Yt(t,o,Ft.Listen),e.queryCache.addQueryData(n,r)}).next(function(){return g(!e.targetIds[r.targetId],"Tried to allocate an already allocated query: "+t),e.targetIds[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t){var e=this;return this.persistence.runTransaction("Release query",function(n){return e.queryCache.getQueryData(n,t).next(function(r){return g(null!=r,"Tried to release nonexistent query: "+t),e.localViewReferences.removeReferencesForId(r.targetId),delete e.targetIds[r.targetId],e.garbageCollector.isEager?e.queryCache.removeQueryData(n,r):dn.resolve()}).next(function(){if(C(e.targetIds)){var t=new wr(e.remoteDocuments);return e.releaseHeldBatchResults(n,t).next(function(){t.apply(n)})}return dn.resolve()})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.collectGarbage=function(){var t=this;return this.persistence.runTransaction("Garbage collection",function(e){return t.garbageCollector.collectGarbage(e).next(function(n){var r=[];return n.forEach(function(n){r.push(t.remoteDocuments.removeEntry(e,n))}),dn.waitFor(r)})})},t.prototype.releaseHeldBatchResults=function(t,e){for(var n=[],r=0,i=this.heldBatchResults;r<i.length;r++){var o=i[r];if(!this.isRemoteUpToVersion(o.commitVersion))break;n.push(o)}return 0===n.length?dn.resolve(ve()):(this.heldBatchResults.splice(0,n.length),this.releaseBatchResults(t,n,e))},t.prototype.isRemoteUpToVersion=function(t){var e=this.queryCache.getLastRemoteSnapshotVersion();return t.compareTo(e)<=0||C(this.targetIds)},t.prototype.shouldHoldBatchResult=function(t){return!this.isRemoteUpToVersion(t)||this.heldBatchResults.length>0},t.prototype.releaseBatchResults=function(t,e,n){for(var r=this,i=dn.resolve(),o=function(e){i=i.next(function(){return r.applyWriteToRemoteDocuments(t,e,n)})},a=0,s=e;a<s.length;a++)o(s[a]);return i.next(function(){return r.removeMutationBatches(t,e.map(function(t){return t.batch}))})},t.prototype.removeMutationBatch=function(t,e){return this.removeMutationBatches(t,[e])},t.prototype.removeMutationBatches=function(t,e){for(var n=ve(),r=0,i=e;r<i.length;r++)for(var o=0,a=i[r].mutations;o<a.length;o++){var s=a[o].key;n=n.add(s)}return this.mutationQueue.removeMutationBatches(t,e).next(function(){return n})},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=e.batch,i=r.keys(),o=dn.resolve();return i.forEach(function(i){o=o.next(function(){return n.getEntry(t,i)}).next(function(t){var o=t,a=e.docVersions.get(i);g(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=r.applyToRemoteDocument(i,o,e))?n.addEntry(o):g(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))})}),o},t}(),Tr=function(){function t(){this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=In,this.lastStreamToken=b(),this.garbageCollector=null,this.batchesByDocumentKey=new le(gn.compareByKey)}return t.prototype.start=function(t){return 0===this.mutationQueue.length&&(this.nextBatchId=1,this.highestAcknowledgedBatchId=In),g(this.highestAcknowledgedBatchId<this.nextBatchId,"highestAcknowledgedBatchId must be less than the nextBatchId"),dn.resolve()},t.prototype.checkEmpty=function(t){return dn.resolve(0===this.mutationQueue.length)},t.prototype.getNextBatchId=function(t){return dn.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return dn.resolve(this.highestAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;g(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var i=this.indexOfExistingBatchId(r,"acknowledged"),o=this.mutationQueue[i];return g(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),g(!o.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,dn.resolve()},t.prototype.getLastStreamToken=function(t){return dn.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,dn.resolve()},t.prototype.addMutationBatch=function(t,e,n){g(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&g(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var i=new An(r,e,n);this.mutationQueue.push(i);for(var o=0,a=n;o<a.length;o++){var s=a[o];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new gn(s.key,r))}return dn.resolve(i)},t.prototype.lookupMutationBatch=function(t,e){return dn.resolve(this.findMutationBatch(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){for(var n=this.mutationQueue.length,r=Math.max(e,this.highestAcknowledgedBatchId)+1,i=this.indexOfBatchId(r),o=i<0?0:i;o<n;o++){var a=this.mutationQueue[o];if(!a.isTombstone())return dn.resolve(a)}return dn.resolve(null)},t.prototype.getAllMutationBatches=function(t){return dn.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this.mutationQueue.length,r=this.indexOfBatchId(e);return r<0?r=0:r>=n?r=n:r++,dn.resolve(this.getAllLiveMutationBatchesBeforeIndex(r))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new gn(e,0),i=new gn(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){g(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);g(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),dn.resolve(o)},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=r;ct.isDocumentKey(o)||(o=o.child(""));var a=new gn(new ct(o),0),s=new le(G);this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!r.isPrefixOf(e)&&(e.length===i&&(s=s.add(t.targetOrBatchId)),!0)},a);var u=[];return s.forEach(function(t){var e=n.findMutationBatch(t);null!==e&&u.push(e)}),dn.resolve(u)},t.prototype.removeMutationBatches=function(t,e){var n=e.length;g(n>0,"Should not remove mutations when none exist.");var r=e[0].batchId,i=this.mutationQueue.length,o=this.indexOfExistingBatchId(r,"removed");g(this.mutationQueue[o].batchId===r,"Removed batches must exist in the queue");for(var a=1,s=o+1;a<n&&s<i;)(d=this.mutationQueue[s]).isTombstone()?s++:(g(d.batchId===e[a].batchId,"Removed batches must be contiguous in the queue"),a++,s++);if(0===o){for(;s<i&&(d=this.mutationQueue[s]).isTombstone();s++);var u=s-o;this.mutationQueue.splice(o,u)}else for(var c=o;c<s;c++)this.mutationQueue[c]=this.mutationQueue[c].toTombstone();for(var l=this.batchesByDocumentKey,h=0,f=e;h<f.length;h++)for(var d,p=(d=f[h]).batchId,m=0,y=d.mutations;m<y.length;m++){var v=y[m].key;null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(v);var b=new gn(v,p);l=l.delete(b)}return this.batchesByDocumentKey=l,dn.resolve()},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new gn(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return dn.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&g(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),dn.resolve()},t.prototype.getAllLiveMutationBatchesBeforeIndex=function(t){for(var e=[],n=0;n<t;n++){var r=this.mutationQueue[n];r.isTombstone()||e.push(r)}return e},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return g(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return g(n.batchId===t,"If found batch must match"),n.isTombstone()?null:n},t}(),Sr=function(){function t(){this.queries=new cn(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Qt.MIN,this.highestTargetId=0,this.references=new yn,this.targetCount=0}return t.prototype.start=function(t){return dn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.getHighestTargetId=function(){return this.highestTargetId},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,dn.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e)},t.prototype.addQueryData=function(t,e){return g(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,dn.resolve()},t.prototype.updateQueryData=function(t,e){return g(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),dn.resolve()},t.prototype.removeQueryData=function(t,e){return g(this.targetCount>0,"Removing a target from an empty cache"),g(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,dn.resolve()},Object.defineProperty(t.prototype,"count",{get:function(){return this.targetCount},enumerable:!0,configurable:!0}),t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return dn.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.references.addReferences(e,n),dn.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){return this.references.removeReferences(e,n),dn.resolve()},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),dn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return dn.resolve(n)},t.prototype.setGarbageCollector=function(t){this.references.setGarbageCollector(t)},t.prototype.containsKey=function(t,e){return this.references.containsKey(t,e)},t}(),kr=function(){function t(){this.docs=fe()}return t.prototype.addEntry=function(t,e){return this.docs=this.docs.insert(e.key,e),dn.resolve()},t.prototype.removeEntry=function(t,e){return this.docs=this.docs.remove(e),dn.resolve()},t.prototype.getEntry=function(t,e){return dn.resolve(this.docs.get(e))},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=pe(),r=new ct(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.key,s=o.value;if(!e.path.isPrefixOf(a.path))break;s instanceof lt&&e.matches(s)&&(n=n.insert(s.key,s))}return dn.resolve(n)},t}(),Ir=function(){function t(){this.mutationQueues={},this.remoteDocumentCache=new kr,this.queryCache=new Sr,this.started=!1}return t.prototype.start=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return g(!this.started,"MemoryPersistence double-started!"),this.started=!0,[2]})})},t.prototype.shutdown=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return g(this.started,"MemoryPersistence shutdown without start!"),this.started=!1,[2]})})},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Tr,this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e){return d("MemoryPersistence","Starting transaction:",t),e(new Ar).toPromise()},t}(),Ar=function(){},Cr=function(){function t(){this.isEager=!1}return t.prototype.addGarbageSource=function(t){},t.prototype.removeGarbageSource=function(t){},t.prototype.addPotentialGarbageKey=function(t){},t.prototype.collectGarbage=function(t){return dn.resolve(ve())},t}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout"}(pr||(pr={}));var Nr,_r=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(w.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueue(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),Or=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw p("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),g(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=_r.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){g(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){return this.delayedOperations.findIndex(function(e){return e.timerId===t})>=0},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){g(t===pr.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==pr.All&&i.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);g(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),xr=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){this.cancel();var e=this.currentBaseMs+this.jitterDelayMs();this.currentBaseMs>0&&d("ExponentialBackoff","Backing off for "+e+" ms (base delay: "+this.currentBaseMs+" ms)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,e,t),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}();!function(t){t[t.Initial=0]="Initial",t[t.Auth=1]="Auth",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t[t.Stopped=5]="Stopped"}(Nr||(Nr={}));var Dr=1e3,Rr=6e4,Pr=1.5,Mr=function(){function t(t,e,n,r,i){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.inactivityTimerPromise=null,this.stream=null,this.listener=null,this.backoff=new xr(t,e,Dr,Pr,Rr),this.state=Nr.Initial}return t.prototype.isStarted=function(){return this.state===Nr.Backoff||this.state===Nr.Auth||this.state===Nr.Open},t.prototype.isOpen=function(){return this.state===Nr.Open},t.prototype.start=function(t){this.state!==Nr.Error?(g(this.state===Nr.Initial,"Already started"),this.listener=t,this.auth()):this.performBackoff(t)},t.prototype.stop=function(){this.isStarted()&&this.close(Nr.Stopped)},t.prototype.inhibitBackoff=function(){g(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Nr.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.inactivityTimerPromise&&(this.inactivityTimerPromise=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.isOpen()?[2,this.close(Nr.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.inactivityTimerPromise&&(this.inactivityTimerPromise.cancel(),this.inactivityTimerPromise=null)},t.prototype.close=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){return g(t===Nr.Error||Lt(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),t!==Nr.Error?this.backoff.reset():e&&e.code===w.RESOURCE_EXHAUSTED&&(p(e.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,n=this.listener,this.listener=null,t!==Nr.Stopped?[2,n.onClose(e)]:[2]})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;g(this.state===Nr.Initial,"Must be in initial state to auth"),this.state=Nr.Auth,this.credentialsProvider.getToken(!1).then(function(e){t.startStream(e)},function(e){t.queue.enqueue(function(){return s.__awaiter(t,void 0,void 0,function(){var t;return s.__generator(this,function(n){return this.state!==Nr.Stopped?(t=new E(w.UNKNOWN,"Fetching auth token failed: "+e.message),[2,this.handleStreamClose(t)]):[2]})})})})},t.prototype.startStream=function(t){var e=this;if(this.state!==Nr.Stopped){g(this.state===Nr.Auth,"Trying to start stream in a non-auth state");var n=function(t,n){e.queue.enqueue(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){return this.stream===t?[2,n()]:[2]})})})};if(null!==this.listener){var r=this.startRpc(t);this.stream=r,this.stream.onOpen(function(){n(r,function(){return g(e.state===Nr.Auth,"Expected stream to be in state auth, but was "+e.state),e.state=Nr.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(r,function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(r,function(){return e.onMessage(t)})})}}},t.prototype.performBackoff=function(t){var e=this;g(this.state===Nr.Error,"Should only perform backoff in an error case"),this.state=Nr.Backoff,this.backoff.backoffAndRun(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){return this.state===Nr.Stopped?[2]:(this.state=Nr.Initial,this.start(t),g(this.isStarted(),"PersistentStream should have started"),[2])})})})},t.prototype.handleStreamClose=function(t){return g(this.isStarted(),"Can't handle server close on non-started stream"),d("PersistentStream","close with error: "+t),this.stream=null,this.close(Nr.Error,t)},t}(),Lr=function(t){function e(e,n,r,i){var o=t.call(this,e,pr.ListenStreamConnectionBackoff,pr.ListenStreamIdle,n,r)||this;return o.serializer=i,o}return s.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(Mr),Fr=function(t){function e(e,n,r,i){var o=t.call(this,e,pr.WriteStreamConnectionBackoff,pr.WriteStreamIdle,n,r)||this;return o.serializer=i,o.handshakeComplete_=!1,o}return s.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(e){this.handshakeComplete_=!1,t.prototype.start.call(this,e)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(g(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return g(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){g(this.isOpen(),"Writing handshake requires an opened stream"),g(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;g(this.isOpen(),"Writing mutations requires an opened stream"),g(this.handshakeComplete_,"Handshake must be complete before writing mutations"),g(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(Mr),jr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(){return new Fr(this.queue,this.connection,this.credentials,this.serializer)},t.prototype.newPersistentWatchStream=function(){return new Lr(this.queue,this.connection,this.credentials,this.serializer)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=fe();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);g(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken(!1).then(function(r){return n.connection.invokeRPC(t,e,r)})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken(!1).then(function(r){return n.connection.invokeStreamingRPC(t,e,r)})},t}(),Br=function(){function t(t){this.datastore=t,this.readVersions=ye(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e=t.version;t instanceof ht&&(e=Qt.forDeletedDoc());var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new E(w.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){return e.recordVersion(t)}),t})},t.prototype.write=function(t){if(this.committed)throw new E(w.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?ee.updateTime(e):ee.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(Qt.forDeletedDoc()))throw new E(w.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?ee.updateTime(e):ee.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new ae(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Qt.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),Ur=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=Ze.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Ze.Unknown),g(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(pr.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,g(t.state===Ze.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(Ze.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===Ze.Online?(this.setAndBroadcast(Ze.Unknown),g(0===this.watchStreamFailures,"watchStreamFailures must be 0"),g(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=2&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 2 times. Most recent error: "+t.toString()),this.setAndBroadcast(Ze.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===Ze.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(p(e),this.shouldWarnClientIsOffline=!1):d("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),Vr=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.pendingWrites=[],this.lastBatchSeen=In,this.listenTargets={},this.pendingTargetResponses={},this.accumulatedWatchChanges=[],this.watchStream=null,this.writeStream=null,this.onlineStateTracker=new Ur(n,r)}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.isNetworkEnabled=function(){return g(null==this.watchStream==(null==this.writeStream),"WatchStream and WriteStream should both be null or non-null"),null!=this.watchStream},t.prototype.enableNetwork=function(){var t=this;return this.isNetworkEnabled()?Promise.resolve():(this.watchStream=this.datastore.newPersistentWatchStream(),this.writeStream=this.datastore.newPersistentWriteStream(),this.localStore.getLastStreamToken().then(function(e){return t.writeStream.lastStreamToken=e,t.shouldStartWatchStream()?t.startWatchStream():t.onlineStateTracker.set(Ze.Unknown),t.fillWritePipeline()}))},t.prototype.disableNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.disableNetworkInternal(),this.onlineStateTracker.set(Ze.Offline),[2]})})},t.prototype.disableNetworkInternal=function(){this.isNetworkEnabled()&&(this.watchStream.stop(),this.writeStream.stop(),this.cleanUpWatchStreamState(),this.cleanUpWriteStreamState(),this.writeStream=null,this.watchStream=null)},t.prototype.shutdown=function(){return d("RemoteStore","RemoteStore shutting down."),this.disableNetworkInternal(),this.onlineStateTracker.set(Ze.Unknown),Promise.resolve()},t.prototype.listen=function(t){g(!S(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.isNetworkEnabled()&&this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){g(S(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.isNetworkEnabled()&&this.watchStream.isOpen()&&(this.sendUnwatchRequest(t),C(this.listenTargets)&&this.watchStream.markIdle())},t.prototype.sendWatchRequest=function(t){this.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.recordPendingTargetRequest=function(t){this.pendingTargetResponses[t]=(this.pendingTargetResponses[t]||0)+1},t.prototype.startWatchStream=function(){g(this.shouldStartWatchStream(),"startWriteStream() called when shouldStartWatchStream() is false."),this.watchStream.start({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.isNetworkEnabled()&&!this.watchStream.isStarted()&&!C(this.listenTargets)},t.prototype.cleanUpWatchStreamState=function(){this.accumulatedWatchChanges=[],this.pendingTargetResponses={}},t.prototype.onWatchStreamOpen=function(){return s.__awaiter(this,void 0,void 0,function(){var t=this;return s.__generator(this,function(e){return I(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return g(this.isNetworkEnabled(),"onWatchStreamClose() should only be called when the network is enabled"),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(t&&this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(Ze.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){return this.onlineStateTracker.set(Ze.Online),t instanceof Ce&&t.state===Ee.Removed&&t.cause?[2,this.handleTargetError(t)]:(this.accumulatedWatchChanges.push(t),!e.isEqual(Qt.MIN)&&e.compareTo(this.localStore.getLastRemoteSnapshotVersion())>=0?(n=this.accumulatedWatchChanges,this.accumulatedWatchChanges=[],[2,this.handleWatchChangeBatch(e,n)]):[2])})})},t.prototype.handleWatchChangeBatch=function(t,e){var n=this,r=new Ne(t,this.listenTargets,this.pendingTargetResponses);r.addChanges(e);var i=r.createRemoteEvent();this.pendingTargetResponses=r.pendingTargetResponses;var o=[];return I(r.existenceFilters,function(e,r){var a=n.listenTargets[e];if(a){var s=a.query;if(s.isDocumentQuery())if(0===r.count){var u=new ct(s.path),c=new ht(u,t);i.addDocumentUpdate(c)}else g(1===r.count,"Single document existence filter with count: "+r.count);else{var l=n.localStore.remoteDocumentKeys(e).then(function(t){if(i.targetChanges[e]){var o=i.targetChanges[e].mapping;null!==o&&(o instanceof ke?t=o.applyToKeySet(t):(g(o instanceof Se,"Expected either reset or update mapping but got something else: "+o),t=o.documents))}if(t.size!==r.count){i.handleExistenceFilterMismatch(e);var u=new Yt(s,e,a.purpose);n.listenTargets[e]=u,n.sendUnwatchRequest(e);var c=new Yt(s,e,Ft.ExistenceFilterMismatch);n.sendWatchRequest(c)}});o.push(l)}}}),Promise.all(o).then(function(){return I(i.targetChanges,function(t,e){if(e.resumeToken.length>0){var r=n.listenTargets[t];r&&(n.listenTargets[t]=r.update({resumeToken:e.resumeToken,snapshotVersion:e.snapshotVersion}))}}),n.syncEngine.applyRemoteEvent(i)})},t.prototype.handleTargetError=function(t){var e=this;g(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){return S(this.listenTargets,t)?(delete this.listenTargets[t],[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.cleanUpWriteStreamState=function(){this.lastBatchSeen=In,d("RemoteStore","Stopping write stream with "+this.pendingWrites.length+" pending writes"),this.pendingWrites=[]},t.prototype.fillWritePipeline=function(){return s.__awaiter(this,void 0,void 0,function(){var t=this;return s.__generator(this,function(e){return this.canWriteMutations()?[2,this.localStore.nextMutationBatch(this.lastBatchSeen).then(function(e){if(null!==e)return t.commit(e),t.fillWritePipeline();0===t.pendingWrites.length&&t.writeStream.markIdle()})]:[2]})})},t.prototype.canWriteMutations=function(){return this.isNetworkEnabled()&&this.pendingWrites.length<10},t.prototype.outstandingWrites=function(){return this.pendingWrites.length},t.prototype.commit=function(t){g(this.canWriteMutations(),"commit called when batches can't be written"),this.lastBatchSeen=t.batchId,this.pendingWrites.push(t),this.shouldStartWriteStream()?this.startWriteStream():this.isNetworkEnabled()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.isNetworkEnabled()&&!this.writeStream.isStarted()&&this.pendingWrites.length>0},t.prototype.startWriteStream=function(){g(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})},t.prototype.onWriteStreamOpen=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.pendingWrites;e<n.length;e++){var r=n[e];t.writeStream.writeMutations(r.mutations)}})},t.prototype.onMutationResult=function(t,e){var n=this;g(this.pendingWrites.length>0,"Got result for empty pending writes");var r=this.pendingWrites.shift(),i=Cn.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return s.__awaiter(this,void 0,void 0,function(){var e=this;return s.__generator(this,function(n){return g(this.isNetworkEnabled(),"onWriteStreamClose() should only be called when the network is enabled"),t&&this.pendingWrites.length>0?(g(!!t,"We have pending writes, but the write stream closed without an error"),[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]):[2]})})},t.prototype.handleHandshakeError=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return ue(t.code)||t.code===w.ABORTED?(d("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=b(),[2,this.localStore.setLastStreamToken(b())]):[2]})})},t.prototype.handleWriteError=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n=this;return s.__generator(this,function(r){return ue(t.code)?(e=this.pendingWrites.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2]})})},t.prototype.createTransaction=function(){return new Br(this.datastore)},t.prototype.handleUserChange=function(t){if(d("RemoteStore","RemoteStore changing users: uid=",t.uid),this.isNetworkEnabled())return this.disableNetworkInternal(),this.onlineStateTracker.set(Ze.Unknown),this.enableNetwork()},t}(),qr=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r}return t.prototype.start=function(t){var e=this,n=new Qn,r=new Qn,i=!1;return this.credentials.setUserChangeListener(function(o){i?e.asyncQueue.enqueue(function(){return e.handleUserChange(o)}):(i=!0,e.initializePersistence(t,r).then(function(){return e.initializeRest(o)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueue(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.remoteStore.enableNetwork()})},t.prototype.initializePersistence=function(t,e){var n=this;return t?this.startIndexedDbPersistence().then(e.resolve).catch(function(t){return e.reject(t),n.canFallback(t)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),n.startMemoryPersistence()):Promise.reject(t)}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof E?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code},t.prototype.startIndexedDbPersistence=function(){this.garbageCollector=new Cr;var t=vr.buildStoragePrefix(this.databaseInfo),e=new Ve(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=new vr(t,e),this.persistence.start()},t.prototype.startMemoryPersistence=function(){return this.garbageCollector=new pn,this.persistence=new Ir,this.persistence.start()},t.prototype.initializeRest=function(t){var e=this;return this.platform.loadConnection(this.databaseInfo).then(function(n){e.localStore=new Er(e.persistence,t,e.garbageCollector);var r=e.platform.newSerializer(e.databaseInfo.databaseId),i=new jr(e.asyncQueue,n,e.credentials,r);return e.remoteStore=new Vr(e.localStore,i,e.asyncQueue,function(t){e.syncEngine.applyOnlineStateChange(t),e.eventMgr.applyOnlineStateChange(t)}),e.syncEngine=new kn(e.localStore,e.remoteStore,t),e.remoteStore.syncEngine=e.syncEngine,e.eventMgr=new hn(e.syncEngine),e.localStore.start()}).then(function(){return e.remoteStore.start()})},t.prototype.handleUserChange=function(t){return this.asyncQueue.verifyOperationInProgress(),d("FirestoreClient","User Changed: "+t.uid),this.syncEngine.handleUserChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.remoteStore.disableNetwork()})},t.prototype.shutdown=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.credentials.removeUserChangeListener(),e.remoteStore.shutdown()}).then(function(){return e.persistence.shutdown(t&&t.purgePersistenceWithDataLoss)})},t.prototype.listen=function(t,e,n){var r=this,i=new fn(t,e,n);return this.asyncQueue.enqueue(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueue(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof lt)return t;throw new E(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=ve(),r=new Tn(t,n),i=r.computeDocChanges(e);return r.applyChanges(i).snapshot})},t.prototype.write=function(t){var e=this,n=new Qn;return this.asyncQueue.enqueue(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),Hr=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Kr=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Wr=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}},Gr=function(){function t(){this.userListener=null}return t.prototype.getToken=function(t){return Promise.resolve(null)},t.prototype.setUserChangeListener=function(t){g(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,t(Kr.UNAUTHENTICATED)},t.prototype.removeUserChangeListener=function(){g(null!==this.userListener,"removeUserChangeListener() when no listener registered"),this.userListener=null},t}(),zr=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.userCounter=0,this.userListener=null,this.tokenListener=function(){var t=e.getUser();e.currentUser&&t.isEqual(e.currentUser)||(e.currentUser=t,e.userCounter++,e.userListener&&e.userListener(e.currentUser))},this.userCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(t){var e=this;g(null!=this.tokenListener,"getToken cannot be called after listener removed.");var n=this.userCounter;return this.app.INTERNAL.getToken(t).then(function(t){if(e.userCounter!==n)throw new E(w.ABORTED,"getToken aborted due to uid change.");return t?(g("string"==typeof t.accessToken,"Invalid tokenData returned from getToken():"+t),new Wr(t.accessToken,e.currentUser)):null})},t.prototype.setUserChangeListener=function(t){g(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeUserChangeListener=function(){g(null!=this.tokenListener,"removeUserChangeListener() called twice"),g(null!==this.userListener,"removeUserChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.userListener=null},t.prototype.getUser=function(){"function"!=typeof this.app.INTERNAL.getUid&&y("This version of the Firestore SDK requires at least version 3.7.0 of firebase.js.");var t=this.app.INTERNAL.getUid();return g(null===t||"string"==typeof t,"Received invalid UID: "+t),new Kr(t)},t}(),Qr=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Kr.FIRST_PARTY,g(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),Xr=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,g(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(t){return Promise.resolve(new Qr(this.gapi,this.sessionIndex))},t.prototype.setUserChangeListener=function(t){t(Kr.FIRST_PARTY)},t.prototype.removeUserChangeListener=function(){},t}();function Yr(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Jr,$r=function(){function t(t){this.methodName=t}return t.delete=function(){return Zr.instance},t.serverTimestamp=function(){return ti.instance},t._arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O("FieldValue.arrayUnion",arguments,1),new ei(t)},t._arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O("FieldValue.arrayRemove",arguments,1),new ni(t)},t.prototype.isEqual=function(t){return this===t},t}(),Zr=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return s.__extends(e,t),e.instance=new e,e}($r),ti=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return s.__extends(e,t),e.instance=new e,e}($r),ei=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return s.__extends(e,t),e}($r),ni=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return s.__extends(e,t),e}($r),ri=T($r,"Use FieldValue.<field>() instead."),ii=/^__.*__$/,oi=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new ie(t,this.data,this.fieldMask,e)):n.push(new re(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new oe(t,this.fieldTransforms)),n},t}(),ai=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new ie(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new oe(t,this.fieldTransforms)),n},t}();function si(t){switch(t){case Jr.Set:case Jr.MergeSet:case Jr.Update:return!0;case Jr.Argument:return!1;default:throw y("Unexpected case for UserDataSource: "+t)}}!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument"}(Jr||(Jr={}));var ui=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new E(w.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(si(this.dataSource)&&ii.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),ci=function(t,e){this.databaseId=t,this.key=e},li=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new ui(Jr.Set,t,ut.EMPTY_PATH);fi("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new oi(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new ui(Jr.MergeSet,t,ut.EMPTY_PATH);fi("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var s=[],u=0,c=n;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof nn?h=l:"string"==typeof l?h=pi(t,l):y("Expected stringOrFieldPath to be a string or a FieldPath"),!a.contains(h))throw new E(w.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s.push(h)}i=new Jt(s),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=new Jt(r.fieldMask),o=r.fieldTransforms;return new oi(a,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new ui(Jr.Update,t,ut.EMPTY_PATH);fi("Data must be an object, but it was:",r,e);var i=[],o=Ot.EMPTY;A(e,function(e,a){var s=pi(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof Zr)i.push(s);else{var c=n.parseData(a,u);null!=c&&(i.push(s),o=o.set(s,c))}});var a=new Jt(i);return new ai(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new ui(Jr.Update,t,ut.EMPTY_PATH),o=[di(t,e)],a=[n];if(r.length%2!=0)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(di(t,r[s])),a.push(r[s+1]);var u=[],c=Ot.EMPTY;for(s=0;s<o.length;++s){var l=o[s],h=i.childContextForFieldPath(l),f=this.runPreConverter(a[s],h);if(f instanceof Zr)u.push(l);else{var d=this.parseData(f,h);null!=d&&(u.push(l),c=c.set(l,d))}}var p=new Jt(u);return new ai(c,p,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new ui(Jr.Argument,t,ut.EMPTY_PATH),r=this.parseData(e,n);return g(null!=r,"Parsed data should not be null."),g(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=mi(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(hi(t=this.runPreConverter(t,e)))return fi("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof $r)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new ft(G);return A(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new Ot(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=o[i],s=this.parseData(a,e.childContextForArray(r));null==s&&(s=vt.INSTANCE),n.push(s),r++}return new xt(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!si(e.dataSource))throw e.createError(t.methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t.methodName+"() is not currently supported inside arrays");if(t instanceof Zr){if(e.dataSource!==Jr.MergeSet)throw e.dataSource===Jr.Update?(g(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof ti)e.fieldTransforms.push(new $t(e.path,Oe.instance));else if(t instanceof ei){var n=this.parseArrayTransformElements(t.methodName,t._elements),r=new xe(n);e.fieldTransforms.push(new $t(e.path,r))}else if(t instanceof ni){n=this.parseArrayTransformElements(t.methodName,t._elements);var i=new De(n);e.fieldTransforms.push(new $t(e.path,i))}else y("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return vt.INSTANCE;if("number"==typeof t)return function(t){return Mt(t)&&t<=Pt&&t>=Rt}(t)?new Tt(t):new St(t);if("boolean"==typeof t)return bt.of(t);if("string"==typeof t)return new kt(t);if(t instanceof Date)return new It(et.fromDate(t));if(t instanceof et)return new It(new et(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof tt)return new _t(t);if(t instanceof $)return new Ct(t);if(t instanceof ci)return new Nt(t.databaseId,t.key);throw e.createError("Unsupported field value: "+B(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new ui(Jr.Argument,t,ut.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function hi(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof et||t instanceof tt||t instanceof $||t instanceof ci||t instanceof $r)}function fi(t,e,n){if(!hi(n)||!j(n)){var r=B(n);throw"an object"===r?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function di(t,e){if(e instanceof nn)return e._internalPath;if("string"==typeof e)return pi(t,e);throw new E(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function pi(t,e){try{return function(t){if(t.search(rn)>=0)throw new E(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(nn.bind.apply(nn,[void 0].concat(t.split("."))))}catch(e){throw new E(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(e){var n=mi(e);throw new E(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function mi(t){return t instanceof Error?t.message:t.toString()}var yi="firestore.googleapis.com",gi=!0,vi=!1,bi=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new E(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yi,this.ssl=gi}else P("settings","string","host",t.host),this.host=t.host,M("settings","boolean","ssl",t.ssl),this.ssl=k(t.ssl,gi);V("settings",t,["host","ssl","credentials","timestampsInSnapshots"]),M("settings","object","credentials",t.credentials),this.credentials=t.credentials,M("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),this.timestampsInSnapshots=k(t.timestampsInSnapshots,vi)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials},t}(),wi=function(){},Ei=function(){function t(e){var n=this;this._queue=new Or,this.INTERNAL={delete:function(t){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(e){return this._firestoreClient?[2,this._firestoreClient.shutdown(t)]:[2]})})}};var r=new wi;if("object"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new zr(i)}else{var o=e;if(!o.projectId)throw new E(w.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new it(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Gr}r.settings=new bi({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(_("Firestore.settings",arguments,1),D("Firestore.settings","object",1,t),S(t,"persistence"))throw new E(w.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new bi(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new E(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Gr;switch(t.type){case"gapi":return new Xr(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new E(w.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(){if(this._firestoreClient)throw new E(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(!0)},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(!1),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;g(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),this._config.settings.timestampsInSnapshots||p("\nThe behavior for Date objects stored in Firestore is going to change\nAND YOUR APP MAY BREAK.\nTo hide this warning and ensure your app does not break, you need to add the\nfollowing code to your app before calling any other Cloud Firestore methods:\n\n  const firestore = firebase.firestore();\n  const settings = {/* your settings... */ timestampsInSnapshots: true};\n  firestore.settings(settings);\n\nWith this change, timestamps stored in Cloud Firestore will be read back as\nFirebase Timestamp objects instead of as system Date objects. So you will also\nneed to update code expecting a Date to instead expect a Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at');\n  const date = timestamp.toDate();\n\nPlease audit all existing usages of Date when you enable the new behavior. In a\nfuture release, the behavior will change to the new behavior, so if you do not\nfollow these steps, YOUR APP MAY BREAK."),g(!this._firestoreClient,"configureClient() called multiple times");var n=new nt(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new li(function(t){if(t instanceof ki){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new E(w.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new ci(e._config.databaseId,t._key)}return t}),this._firestoreClient=new qr(v.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!S(e,"projectId")){if(S(e,"firestoreId"))throw new E(w.INVALID_ARGUMENT,'"firestoreId" is now specified as "projectId" in firebase.initializeApp.');throw new E(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.')}if(S(e,"firestoreOptions"))throw new E(w.INVALID_ARGUMENT,'"firestoreOptions" values are now specified with Firestore.settings()');var n=e.projectId;if(!n||"string"!=typeof n)throw new E(w.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new it(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new E(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(_("Firestore.collection",arguments,1),D("Firestore.collection","string",1,t),!t)throw new E(w.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new Oi(at.fromString(t),this)},t.prototype.doc=function(t){if(_("Firestore.doc",arguments,1),D("Firestore.doc","string",1,t),!t)throw new E(w.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),ki.forPath(at.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return _("Firestore.runTransaction",arguments,1),D("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new Ti(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new Si(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(h()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return y("Unknown log level: "+h())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(_("Firestore.setLogLevel",arguments,1),D("Firestore.setLogLevel","string",1,t),t){case"debug":f(i.DEBUG);break;case"error":f(i.ERROR);break;case"silent":f(i.SILENT);break;default:throw new E(w.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),Ti=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;_("Transaction.get",arguments,1);var n=Ri("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return y("Mismatch in docs returned from document lookup.");var r=t[0];return new Ai(e._firestore,n._key,r instanceof ht?null:r,!1)})},t.prototype.set=function(t,e,n){x("Transaction.set",arguments,2,3);var r=Ri("Transaction.set",t,this._firestore),i=(n=xi("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof nn?(O("Transaction.update",arguments,3),r=Ri("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(_("Transaction.update",arguments,2),r=Ri("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){_("Transaction.delete",arguments,1);var e=Ri("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),Si=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){x("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Ri("WriteBatch.set",t,this._firestore),i=(n=xi("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,ee.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof nn?(O("WriteBatch.update",arguments,3),r=Ri("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(_("WriteBatch.update",arguments,2),r=Ri("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,ee.exists(!0))),this},t.prototype.delete=function(t){_("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Ri("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new ae(e._key,ee.NONE)),this},t.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new E(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),ki=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new E(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new ct(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Oi(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(_("DocumentReference.collection",arguments,1),D("DocumentReference.collection","string",1,t),!t)throw new E(w.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=at.fromString(t);return new Oi(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){x("DocumentReference.set",arguments,1,2);var n=(e=xi("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,ee.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof nn?(O("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(_("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,ee.exists(!0)))},t.prototype.delete=function(){return _("DocumentReference.delete",arguments,0),this._firestoreClient.write([new ae(this._key,ee.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];x("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Yr(t[i])||(V("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),M("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Yr(t[i])?n=t[i]:(D("DocumentReference.onSnapshot","function",i,t[i]),R("DocumentReference.onSnapshot","function",i+1,t[i+1]),R("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Hr({next:function(t){if(e.next){g(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Ai(n.firestore,n._key,r,t.fromCache))}},error:r}),o=this._firestoreClient.listen(jt.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return V("DocumentReference.get",t,["source"]),t&&L("DocumentReference.get",0,"source",t.source,["default","server","cache"]),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new Ai(e.firestore,e._key,t,!0))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new E(w.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new E(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),Ii=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ai=function(){function t(t,e,n,r){this._firestore=t,this._key=e,this._document=n,this._fromCache=r}return t.prototype.data=function(t){return x("DocumentSnapshot.data",arguments,0,1),t=Di("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,yt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(x("DocumentSnapshot.get",arguments,1,2),e=Di("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(di("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,yt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ki(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ii(null!==this._document&&this._document.hasLocalMutations,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Ot)return this.convertObject(t,e);if(t instanceof xt)return this.convertArray(t,e);if(t instanceof Nt){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||p("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new ki(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),Ci=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return s.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return g("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Ai),Ni=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var i;_("Query.where",arguments,3),D("Query.where","string",2,n),U("Query.where",3,r);var o=di("Query.where",e),a=Bt.fromString(n);if(o.isKeyField()){if(a===Bt.ARRAY_CONTAINS)throw new E(w.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(-1!==r.indexOf("/"))throw new E(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new E(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var s=this._query.path.child(new at([r]));g(s.length%2==0,"Path should be a document key"),i=new Nt(this.firestore._databaseId,new ct(s))}else{if(!(r instanceof ki))throw new E(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+B(r)+".");var u=r;i=new Nt(this.firestore._databaseId,u._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var c=function(t,e,n){if(n.isEqual(vt.INSTANCE)){if(e!==Bt.EQUAL)throw new E(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Vt(t)}if(n.isEqual(St.NAN)){if(e!==Bt.EQUAL)throw new E(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new qt(t)}return new Ut(t,e,n)}(o,a,i);return this.validateNewFilter(c),new t(this._query.addFilter(c),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(x("Query.orderBy",arguments,1,2),R("Query.orderBy","string",2,n),void 0===n||"asc"===n)r=Ht.ASCENDING;else{if("desc"!==n)throw new E(w.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Ht.DESCENDING}if(null!==this._query.startAt)throw new E(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new E(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=di("Query.orderBy",e),o=new Wt(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(_("Query.limit",arguments,1),D("Query.limit","number",1,e),e<=0)throw new E(w.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(U(t,1,e),e instanceof Ai){if(n.length>0)throw new E(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new E(w.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Nt(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(void 0===s){var u=a.field.canonicalString();throw new E(w.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Kt(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new E(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new E(w.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(-1!==a.indexOf("/"))throw new E(w.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+t+"()");var s=new ct(this._query.path.child(a));i.push(new Nt(this.firestore._databaseId,s))}else{var u=this.firestore._dataConverter.parseQueryValue(t,a);i.push(u)}}return new Kt(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];x("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Yr(t[i])||(V("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),M("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Yr(t[i])?n=t[i]:(D("Query.onSnapshot","function",i,t[i]),R("Query.onSnapshot","function",i+1,t[i+1]),R("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Hr({next:function(t){e.next&&e.next(new _i(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return x("Query.get",arguments,0,1),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new _i(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new E(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Ut)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new E(w.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===Bt.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new E(w.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new E(w.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),_i=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Ii(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;x("QuerySnapshot.forEach",arguments,1,2),D("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Ni(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){V("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),t&&M("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges);var e=t&&t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new E(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new Ci(t,e.doc.key,e.doc,n.fromCache);return g(e.type===tn.Added,"Invalid event type for first snapshot"),g(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==tn.Metadata}).map(function(e){var r=new Ci(t,e.doc.key,e.doc,n.fromCache),i=-1,a=-1;return e.type!==tn.Added&&(g((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==tn.Removed&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case tn.Added:return"added";case tn.Modified:case tn.Metadata:return"modified";case tn.Removed:return"removed";default:return y("Unknown change type: "+t)}}(e.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new Ci(this._firestore,t.key,t,this.metadata.fromCache)},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(_i.prototype.docChanges,t,{get:function(){return function(){throw new E(w.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}});var Oi=function(t){function e(e,n){var r=t.call(this,jt.atPath(e),n)||this;if(e.length%2!=1)throw new E(w.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return s.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new ki(new ct(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(x("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=W.newId()),D("CollectionReference.doc","string",1,t),""===t)throw new E(w.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=at.fromString(t);return ki.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){_("CollectionReference.add",arguments,1),D("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(Ni);function xi(t,e){if(void 0===e)return{merge:!1};if(V(t,e,["merge","mergeFields"]),M(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+B(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+n+", but the value at index "+o+" was: "+B(r[o]))}(t,e,n,r,i)}(t,"mergeFields","a string or a FieldPath",e.mergeFields,function(t){return"string"==typeof t||t instanceof nn}),void 0!==e.mergeFields&&void 0!==e.merge)throw new E(w.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Di(t,e){return void 0===e?{}:(V(t,e,["serverTimestamps"]),L(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Ri(t,e,n){if(e instanceof ki){if(e.firestore!==n)throw new E(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw q(t,"DocumentReference",1,e)}var Pi=T(Ei,"Use firebase.firestore() instead."),Mi=T(Ti,"Use firebase.firestore().runTransaction() instead."),Li=T(Si,"Use firebase.firestore().batch() instead."),Fi=T(ki,"Use firebase.firestore().doc() instead."),ji=T(Ai),Bi=T(Ci),Ui=T(Ni),Vi=T(_i),qi=T(Oi,"Use firebase.firestore().collection() instead."),Hi={Firestore:Pi,GeoPoint:tt,Timestamp:et,Blob:Z,Transaction:Mi,WriteBatch:Li,DocumentReference:Fi,DocumentSnapshot:ji,Query:Ui,QueryDocumentSnapshot:Bi,QuerySnapshot:Vi,CollectionReference:qi,FieldPath:nn,FieldValue:ri,setLogLevel:Ei.setLogLevel};function Ki(t){t.INTERNAL.registerService("firestore",function(t){return new Ei(t)},N(Hi))}Ki(o),e.registerFirestore=Ki},function(t,e,n){"use strict";n(334)},function(t,e,n){(function(t){(function(){var t,e=n(253).default,r=r||{},i=this;function o(t){return"string"==typeof t}function a(t){return"boolean"==typeof t}function s(){}function u(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function c(t){return null===t}function l(t){return"array"==u(t)}function h(t){var e=u(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==u(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function v(t,e,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:g).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.lb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.cd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function T(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function S(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function k(t){if(Error.captureStackTrace)Error.captureStackTrace(this,k);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function I(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");k.call(this,n+t[r])}function A(t,e){throw new I("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function C(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function N(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function _(){this.b=this.a=null}E(k,Error),k.prototype.name="CustomError",E(I,k),I.prototype.name="AssertionError",C.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var O=new C(function(){return new D},function(t){t.reset()});function x(){var t=pt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function D(){this.next=this.b=this.a=null}_.prototype.add=function(t,e){var n=O.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},D.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},D.prototype.reset=function(){this.next=this.b=this.a=null};var R=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(o(t))return o(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},P=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=o(t)?t.split(""):t,a=0;a<r;a++)a in i&&e.call(n,i[a],a,t)},M=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=o(t)?t.split(""):t,a=0;a<n;a++)a in i&&(r[a]=e.call(void 0,i[a],a,t));return r},L=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=o(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function F(t,e){return 0<=R(t,e)}function j(t,e){var n;return(n=0<=(e=R(t,e)))&&Array.prototype.splice.call(t,e,1),n}function B(t,e){!function(t,e){var n=t.length,r=o(t)?t.split(""):t;for(--n;0<=n;--n)n in r&&e.call(void 0,r[n],n,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1).length})}function U(t){return Array.prototype.concat.apply([],arguments)}function V(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function q(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}var H=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function K(t){return $.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(G,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Q,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(X,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(Y,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(J,"&#0;")),t):t}var W,G=/&/g,z=/</g,Q=/>/g,X=/"/g,Y=/'/g,J=/\x00/g,$=/[\x00&<>"']/;function Z(t,e){return-1!=t.indexOf(e)}function tt(t,e){return t<e?-1:t>e?1:0}t:{var et=i.navigator;if(et){var nt=et.userAgent;if(nt){W=nt;break t}}W=""}function rt(t){return Z(W,t)}function it(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ot(t){for(var e in t)return!1;return!0}function at(t){var e,n={};for(e in t)n[e]=t[e];return n}var st,ut,ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ct.length;o++)n=ct[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ht(t){i.setTimeout(function(){throw t},0)}function ft(t,e){ut||function(){if(i.Promise&&i.Promise.resolve){var t=i.Promise.resolve(void 0);ut=function(){t.then(mt)}}else ut=function(){var t=mt;!f(i.setImmediate)||i.Window&&i.Window.prototype&&!rt("Edge")&&i.Window.prototype.setImmediate==i.setImmediate?(st||(st=function(){var t=i.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!rt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=v(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!rt("Trident")&&!rt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).tb;n.tb=null,t()}},function(t){r.next={tb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){i.setTimeout(t,0)}}()),st(t)):i.setImmediate(t)}}(),dt||(ut(),dt=!0),pt.add(t,e)}var dt=!1,pt=new _;function mt(){for(var t;t=x();){try{t.a.call(t.b)}catch(t){ht(t)}N(O,t)}dt=!1}function yt(t,e){if(this.a=gt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=s)try{var n=this;t.call(e,function(t){Nt(n,vt,t)},function(t){if(!(t instanceof Mt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Nt(n,bt,t)})}catch(t){Nt(this,bt,t)}}var gt=0,vt=2,bt=3;function wt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}wt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Et=new C(function(){return new wt},function(t){t.reset()});function Tt(t,e,n){var r=Et.get();return r.g=t,r.b=e,r.f=n,r}function St(t){if(t instanceof yt)return t;var e=new yt(s);return Nt(e,vt,t),e}function kt(t){return new yt(function(e,n){n(t)})}function It(t,e,n){_t(t,e,n,null)||ft(b(e,t))}function At(t,e){t.b||t.a!=vt&&t.a!=bt||Ot(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ct(t,e,n,r){var i=Tt(null,null,null);return i.a=new yt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Mt?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,At(t,i),i.a}function Nt(t,e,n){t.a==gt&&(t===n&&(e=bt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,_t(n,t.Lc,t.Mc,t)||(t.i=n,t.a=e,t.c=null,Ot(t),e!=bt||n instanceof Mt||function(t,e){t.g=!0,ft(function(){t.g&&Pt.call(null,e)})}(t,n)))}function _t(t,e,n,r){if(t instanceof yt)return At(t,Tt(e||s,n||null,r)),!0;if(S(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Ot(t){t.h||(t.h=!0,ft(t.Ub,t))}function xt(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Dt(t,e,n,r){if(n==bt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Rt(e,n,r);else try{e.c?e.g.call(e.f):Rt(e,n,r)}catch(t){Pt.call(null,t)}N(Et,e)}function Rt(t,e,n){e==vt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}yt.prototype.then=function(t,e,n){return Ct(this,f(t)?t:null,f(e)?e:null,n)},T(yt),(t=yt.prototype).ia=function(t,e){return(t=Tt(t,t,e)).c=!0,At(this,t),this},t.s=function(t,e){return Ct(this,null,t,e)},t.cancel=function(t){this.a==gt&&ft(function(){!function t(e,n){if(e.a==gt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==gt&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):xt(r),Dt(r,o,bt,n)))}e.c=null}else Nt(e,bt,n)}(this,new Mt(t))},this)},t.Lc=function(t){this.a=gt,Nt(this,vt,t)},t.Mc=function(t){this.a=gt,Nt(this,bt,t)},t.Ub=function(){for(var t;t=xt(this);)Dt(this,t,this.a,this.i);this.h=!1};var Pt=ht;function Mt(t){k.call(this,t)}function Lt(){0!=Ft&&(jt[this[p]||(this[p]=++m)]=this),this.pa=this.pa,this.ja=this.ja}E(Mt,k),Mt.prototype.name="cancel";var Ft=0,jt={};function Bt(t){if(!t.pa&&(t.pa=!0,t.ua(),0!=Ft)){var e=t[p]||(t[p]=++m);if(0!=Ft&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete jt[e]}}function Ut(t){return Ut[" "](t),t}Lt.prototype.pa=!1,Lt.prototype.ua=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Ut[" "]=s;var Vt,qt,Ht=rt("Opera"),Kt=rt("Trident")||rt("MSIE"),Wt=rt("Edge"),Gt=Wt||Kt,zt=rt("Gecko")&&!(Z(W.toLowerCase(),"webkit")&&!rt("Edge"))&&!(rt("Trident")||rt("MSIE"))&&!rt("Edge"),Qt=Z(W.toLowerCase(),"webkit")&&!rt("Edge");function Xt(){var t=i.document;return t?t.documentMode:void 0}t:{var Yt="",Jt=(qt=W,zt?/rv:([^\);]+)(\)|;)/.exec(qt):Wt?/Edge\/([\d\.]+)/.exec(qt):Kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(qt):Qt?/WebKit\/(\S+)/.exec(qt):Ht?/(?:Version)[ \/]?(\S+)/.exec(qt):void 0);if(Jt&&(Yt=Jt?Jt[1]:""),Kt){var $t=Xt();if(null!=$t&&$t>parseFloat(Yt)){Vt=String($t);break t}}Vt=Yt}var Zt,te={};function ee(t){return function(t,e){var n=te;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=H(String(Vt)).split("."),r=H(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=tt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||tt(0==a[2].length,0==s[2].length)||tt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var ne=i.document;Zt=ne&&Kt?Xt()||("CSS1Compat"==ne.compatMode?parseInt(Vt,10):5):void 0;var re=Object.freeze||function(t){return t},ie=!Kt||9<=Number(Zt),oe=Kt&&!ee("9"),ae=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return i.addEventListener("test",s,e),i.removeEventListener("test",s,e),t}();function se(t,e){this.type=t,this.b=this.target=e,this.Gb=!0}function ue(t,e){if(se.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(zt){t:{try{Ut(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=o(t.pointerType)?t.pointerType:ce[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}se.prototype.preventDefault=function(){this.Gb=!1},E(ue,se);var ce=re({2:"touch",3:"pen",4:"mouse"});ue.prototype.preventDefault=function(){ue.lb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,oe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},ue.prototype.f=function(){return this.a};var le="closure_listenable_"+(1e6*Math.random()|0),he=0;function fe(t){t.na=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function de(t){this.src=t,this.a={},this.b=0}function pe(t,e){var n=e.type;n in t.a&&j(t.a[n],e)&&(fe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function me(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.na&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}de.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=me(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new function(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++he,this.na=this.Ia=!1}(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var ye="closure_lm_"+(1e6*Math.random()|0),ge={};function ve(t,e,n,r,i){if(r&&r.once)we(t,e,n,r,i);else if(l(e))for(var o=0;o<e.length;o++)ve(t,e[o],n,r,i);else n=_e(n),t&&t[le]?xe(t,e,n,d(r)?!!r.capture:!!r,i):be(t,e,n,!1,r,i)}function be(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i,s=Ce(t);if(s||(t[ye]=s=new de(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=Ae,e=ie?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ae||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Se(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function we(t,e,n,r,i){if(l(e))for(var o=0;o<e.length;o++)we(t,e[o],n,r,i);else n=_e(n),t&&t[le]?De(t,e,n,d(r)?!!r.capture:!!r,i):be(t,e,n,!0,r,i)}function Ee(t,e,n,r,i){if(l(e))for(var o=0;o<e.length;o++)Ee(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=_e(n),t&&t[le]?(t=t.m,(e=String(e).toString())in t.a&&-1<(n=me(o=t.a[e],n,r,i))&&(fe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Ce(t))&&(e=t.a[e.toString()],t=-1,e&&(t=me(e,n,r,i)),(n=-1<t?e[t]:null)&&Te(n))}function Te(t){if("number"!=typeof t&&t&&!t.na){var e=t.src;if(e&&e[le])pe(e.m,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Se(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ce(e))?(pe(n,t),0==n.b&&(n.src=null,e[ye]=null)):fe(t)}}}function Se(t){return t in ge?ge[t]:ge[t]="on"+t}function ke(t,e,n,r){var i=!0;if((t=Ce(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.na&&(o=Ie(o,r),i=i&&!1!==o)}return i}function Ie(t,e){var n=t.listener,r=t.La||t.src;return t.Ia&&Te(t),n.call(r,e)}function Ae(t,e){if(t.na)return!0;if(!ie){if(!e)t:{e=["window","event"];for(var n=i,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new ue(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=e.b;o;o=o.parentNode)r.push(o);for(t=t.type,o=r.length-1;0<=o;o--){e.b=r[o];var a=ke(r[o],t,!0,e);n=n&&a}for(o=0;o<r.length;o++)e.b=r[o],a=ke(r[o],t,!1,e),n=n&&a}return n}return Ie(t,new ue(e,this))}function Ce(t){return(t=t[ye])instanceof de?t:null}var Ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(t){return f(t)?t:(t[Ne]||(t[Ne]=function(e){return t.handleEvent(e)}),t[Ne])}function Oe(){Lt.call(this),this.m=new de(this),this.Nb=this,this.Ua=null}function xe(t,e,n,r,i){t.m.add(String(e),n,!1,r,i)}function De(t,e,n,r,i){t.m.add(String(e),n,!0,r,i)}function Re(t,e,n,r){if(!(e=t.m.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.na&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&pe(t.m,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Gb}function Pe(t,e,n){if(f(t))n&&(t=v(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:i.setTimeout(t,e||0)}function Me(t){var e=null;return new yt(function(n,r){-1==(e=Pe(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw i.clearTimeout(e),t})}function Le(t){if(t.S&&"function"==typeof t.S)return t.S();if(o(t))return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Fe(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(h(t)||o(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function je(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof je)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Be(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ue(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ue(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ue(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(Oe,Lt),Oe.prototype[le]=!0,Oe.prototype.addEventListener=function(t,e,n,r){ve(this,t,e,n,r)},Oe.prototype.removeEventListener=function(t,e,n,r){Ee(this,t,e,n,r)},Oe.prototype.dispatchEvent=function(t){var e,n=this.Ua;if(n)for(e=[];n;n=n.Ua)e.push(n);n=this.Nb;var r=t.type||t;if(o(t))t=new se(t,n);else if(t instanceof se)t.target=t.target||n;else{var i=t;lt(t=new se(r,n),i)}if(i=!0,e)for(var a=e.length-1;0<=a;a--){var s=t.b=e[a];i=Re(s,r,!0,t)&&i}if(i=Re(s=t.b=n,r,!0,t)&&i,i=Re(s,r,!1,t)&&i,e)for(a=0;a<e.length;a++)i=Re(s=t.b=e[a],r,!1,t)&&i;return i},Oe.prototype.ua=function(){if(Oe.lb.ua.call(this),this.m){var t,e=this.m;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)fe(n[r]);delete e.a[t],e.b--}}this.Ua=null},(t=je.prototype).S=function(){Be(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return Be(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Ue(this.b,t)?this.b[t]:e},t.set=function(t,e){Ue(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ve=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qe(t,e){if(this.b=this.m=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof qe){this.f=void 0!==e?e:t.f,He(this,t.c),this.m=t.m,this.b=t.b,Ke(this,t.i),this.g=t.g,e=t.a;var n=new on;n.c=e.c,e.a&&(n.a=new je(e.a),n.b=e.b),We(this,n),this.h=t.h}else t&&(n=String(t).match(Ve))?(this.f=!!e,He(this,n[1]||"",!0),this.m=Ye(n[2]||""),this.b=Ye(n[3]||"",!0),Ke(this,n[4]),this.g=Ye(n[5]||"",!0),We(this,n[6]||"",!0),this.h=Ye(n[7]||"")):(this.f=!!e,this.a=new on(null,this.f))}function He(t,e,n){t.c=n?Ye(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Ke(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function We(t,e,n){e instanceof on?(t.a=e,function(t,e){e&&!t.f&&(an(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(un(this,e),ln(this,n,t))},t)),t.f=e}(t.a,t.f)):(n||(e=Je(e,nn)),t.a=new on(e,t.f))}function Ge(t,e,n){t.a.set(e,n)}function ze(t,e){return t.a.get(e)}function Qe(t){return t instanceof qe?new qe(t):new qe(t,void 0)}function Xe(t,e){var n=new qe(null,void 0);return He(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function Ye(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Je(t,e,n){return o(t)?(t=encodeURI(t).replace(e,$e),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $e(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}qe.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Je(e,Ze,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.m)&&t.push(Je(e,Ze,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Je(n,"/"==n.charAt(0)?en:tn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Je(n,rn)),t.join("")};var Ze=/[#\/\?@]/g,tn=/[#\?:]/g,en=/[#\?]/g,nn=/[#\?@]/g,rn=/#/g;function on(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function an(t){t.a||(t.a=new je,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function sn(t){var e=Fe(t);if(void 0===e)throw Error("Keys are undefined");var n=new on(null,void 0);t=Le(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];l(o)?ln(n,i,o):n.add(i,o)}return n}function un(t,e){an(t),e=hn(t,e),Ue(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ue((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Be(t)))}function cn(t,e){return an(t),e=hn(t,e),Ue(t.a.b,e)}function ln(t,e,n){un(t,e),0<n.length&&(t.c=null,t.a.set(hn(t,e),V(n)),t.b+=n.length)}function hn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=on.prototype).add=function(t,e){an(this),this.c=null,t=hn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){an(this),this.a.forEach(function(n,r){P(n,function(n){t.call(e,n,r,this)},this)},this)},t.U=function(){an(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.S=function(t){an(this);var e=[];if(o(t))cn(this,t)&&(e=U(e,this.a.get(hn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=U(e,t[n])}return e},t.set=function(t,e){return an(this),this.c=null,cn(this,t=hn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return 0<(t=t?this.S(t):[]).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var fn=!Kt||9<=Number(Zt);function dn(){this.a="",this.b=mn}function pn(t){return t instanceof dn&&t.constructor===dn&&t.b===mn?t.a:(A("expected object of type Const, got '"+t+"'"),"type_error:Const")}dn.prototype.ma=!0,dn.prototype.la=function(){return this.a},dn.prototype.toString=function(){return"Const{"+this.a+"}"};var mn={};function yn(t){var e=new dn;return e.a=t,e}function gn(){this.a="",this.b=Tn}function vn(t){return t instanceof gn&&t.constructor===gn&&t.b===Tn?t.a:(A("expected object of type TrustedResourceUrl, got '"+t+"' of type "+u(t)),"type_error:TrustedResourceUrl")}function bn(t,e){var n=pn(t);if(!En.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new gn;return e.a=t,e}(t=n.replace(wn,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof dn?pn(t):encodeURIComponent(String(t))}))}yn(""),gn.prototype.ma=!0,gn.prototype.la=function(){return this.a},gn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var wn=/%{(\w+)}/g,En=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,Tn={};function Sn(){this.a="",this.b=Cn}function kn(t){return t instanceof Sn&&t.constructor===Sn&&t.b===Cn?t.a:(A("expected object of type SafeUrl, got '"+t+"' of type "+u(t)),"type_error:SafeUrl")}Sn.prototype.ma=!0,Sn.prototype.la=function(){return this.a},Sn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var In=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function An(t){return t instanceof Sn?t:(t=t.ma?t.la():String(t),In.test(t)||(t="about:invalid#zClosurez"),Nn(t))}var Cn={};function Nn(t){var e=new Sn;return e.a=t,e}function _n(){this.a="",this.b=On}Nn("about:blank"),_n.prototype.ma=!0,_n.prototype.la=function(){return this.a},_n.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var On={};function xn(t){var e=new _n;return e.a=t,e}function Dn(t){var e=document;return o(t)?e.getElementById(t):t}function Rn(t,e){it(e,function(e,n){e&&e.ma&&(e=e.la()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Pn.hasOwnProperty(n)?t.setAttribute(Pn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}xn("<!DOCTYPE html>"),xn(""),xn("<br>");var Pn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Mn(t){if(t&&"number"==typeof t.length){if(d(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function Ln(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(l(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Bn(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Bn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new function(){},t,e),e.join("")}var Fn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},jn=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Bn(t,e){e.push('"',t.replace(jn,function(t){var e=Fn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Fn[t]=e),e}),'"')}function Un(){var t=ir();return Kt&&!!Zt&&11==Zt||/Edge\/\d+/.test(t)}function Vn(){return i.window&&i.window.location.href||self&&self.location&&self.location.href||""}function qn(t,e){e=e||i.window;var n="about:blank";t&&(n=kn(An(t))),e.location.href=n}function Hn(t){return!!((t=(t||ir()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Kn(t){t=t||i.window;try{t.close()}catch(t){}}function Wn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=ir().toLowerCase(),r&&(e.target=r,Z(n,"crios/")&&(e.target="_blank")),er(ir())==Zn&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Sn?n:An(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((rt("iPhone")&&!rt("iPod")&&!rt("iPad")||rt("iPad")||rt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),e instanceof Sn||e instanceof Sn||(e=e.ma?e.la():String(e),In.test(e)||(e="about:invalid#zClosurez"),e=Nn(e)),a.href=kn(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=kn(e),a&&(Gt&&Z(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,yn("b/12014412, meta tag with sanitized URL"),t=xn(t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+K(t)+'">'),a.document.write(function(t){return t instanceof _n&&t.constructor===_n&&t.b===On?t.a:(A("expected object of type SafeHtml, got '"+t+"' of type "+u(t)),"type_error:SafeHtml")}(t)),a.document.close())):(a=r.open(kn(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var Gn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;function zn(){var t=null;return new yt(function(e){"complete"==i.document.readyState?e():(t=function(){e()},we(window,"load",t))}).s(function(e){throw Ee(window,"load",t),e})}function Qn(t){return t=t||ir(),!("file:"!==cr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xn(){var t=i.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Yn(){return"object"!=typeof i.window&&"function"==typeof i.importScripts}function Jn(){return e.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.INTERNAL.hasOwnProperty("node")?"Node":Yn()?"Worker":"Browser"}function $n(){var t=Jn();return"ReactNative"===t||"Node"===t}var Zn="Firefox",tr="Chrome";function er(t){var e=t.toLowerCase();return Z(e,"opera/")||Z(e,"opr/")||Z(e,"opios/")?"Opera":Z(e,"iemobile")?"IEMobile":Z(e,"msie")||Z(e,"trident/")?"IE":Z(e,"edge/")?"Edge":Z(e,"firefox/")?Zn:Z(e,"silk/")?"Silk":Z(e,"blackberry")?"Blackberry":Z(e,"webos")?"Webos":!Z(e,"safari/")||Z(e,"chrome/")||Z(e,"crios/")||Z(e,"android")?!Z(e,"chrome/")&&!Z(e,"crios/")||Z(e,"edge/")?Z(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":tr:"Safari"}var nr={Sc:"FirebaseCore-web",Uc:"FirebaseUI-web"};function rr(t,e){e=e||[];var n,r=[],i={};for(n in nr)i[nr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Jn())?r=er(i=ir()):"Worker"===r&&(r=er(i=ir())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function ir(){return i.navigator&&i.navigator.userAgent||""}function or(t,e){t=t.split("."),e=e||i;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function ar(){try{var t=i.localStorage,e=pr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Un()||!!i.indexedDB}catch(t){return Yn()&&!!i.indexedDB}return!1}function sr(){return(ur()||"chrome-extension:"===cr()||Qn())&&!$n()&&ar()&&!Yn()}function ur(){return"http:"===cr()||"https:"===cr()}function cr(){return i.location&&i.location.protocol||null}function lr(t){return!Hn(t=t||ir())&&er(t)!=Zn}function hr(t){return void 0===t?null:Ln(t)}function fr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function dr(t){if(null!==t)return JSON.parse(t)}function pr(t){return t||Math.floor(1e9*Math.random()).toString()}function mr(t){return"Safari"!=er(t=t||ir())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function yr(){var t=i.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function gr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=ir(),e=Jn(),this.b=Hn(t)||"ReactNative"===e}function vr(){var t=i.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function wr(){return!(!or("fireauth.oauthhelper",i)&&!or("fireauth.iframe",i))}gr.prototype.get=function(){var t=i.navigator;return!t||"boolean"!=typeof t.onLine||!ur()&&"chrome-extension:"!==cr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Er,Tr={};function Sr(t){Tr[t]||(Tr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var kr={};Object.defineProperty(kr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(kr,"abcd",{configurable:!0,enumerable:!0,value:2}),Er=2==kr.abcd}catch(qt){Er=!1}function Ir(t,e,n){Er?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Ar(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ir(t,n,e[n])}function Cr(t){var e={};return Ar(e,t),e}function Nr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Ir(e,n,Nr(t[n]));return e}function _r(t,e){this.code=xr+t,this.message=e||Dr[t]||""}function Or(t){var e=t&&t.code;return e?new _r(e.substring(xr.length),t.message):null}E(_r,Error),_r.prototype.D=function(){return{code:this.code,message:this.message}},_r.prototype.toJSON=function(){return this.D()};var xr="auth/",Dr={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Rr(t){var e=t[Fr];if(void 0===e)throw new _r("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new _r("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Pr];if(n&&"object"==typeof n){e=n[Ur];var r=n[jr];if(n=n[Br],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new _r("argument-error",jr+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new _r("argument-error",Br+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new _r("argument-error",Ur+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new _r("missing-android-pkg-name")}}else if(void 0!==n)throw new _r("argument-error",Pr+" property must be a non null object when specified.");if(this.f=null,(e=t[Lr])&&"object"==typeof e){if("string"==typeof(e=e[Vr])&&e.length)this.f=e;else if(void 0!==e)throw new _r("argument-error",Vr+" property must be a non empty string when specified.")}else if(void 0!==e)throw new _r("argument-error",Lr+" property must be a non null object when specified.");if(void 0!==(t=t[Mr])&&"boolean"!=typeof t)throw new _r("argument-error",Mr+" property must be a boolean when specified.");this.c=!!t}var Pr="android",Mr="handleCodeInApp",Lr="iOS",Fr="url",jr="installApp",Br="minimumVersion",Ur="packageName",Vr="bundleId";function qr(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e)null===e[n]&&delete e[n];return e}var Hr=null,Kr=null;function Wr(t){this.c=t.sub,w(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Gr(t){return(t=zr(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Wr(t):null}function zr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Kr[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Hr){Hr={},Kr={};for(var t=0;65>t;t++)Hr[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Kr[Hr[t]]=t,62<=t&&(Kr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(t){}return null}Wr.prototype.f=function(){return this.b};var Qr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Xr=["client_id","response_type","scope","redirect_uri","state"],Yr={Tc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",eb:Xr},Vc:{Ma:null,Ba:500,Aa:620,Na:"github.com",eb:Xr},Wc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",eb:Xr},bd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",eb:Qr}};function Jr(t){for(var e in Yr)if(Yr[e].Na==t)return Yr[e];return null}function $r(t){var e={};e["facebook.com"]=ri,e["google.com"]=oi,e["github.com"]=ii,e["twitter.com"]=ai;var n=t&&t[ti];try{if(n)return e[n]?new e[n](t):new ni(t);if(void 0!==t[Zr])return new ei(t)}catch(t){}return null}var Zr="idToken",ti="providerId";function ei(t){var e=t[ti];if(!e&&t[Zr]){var n=Gr(t[Zr]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Ir(this,"providerId",e),Ir(this,"isNewUser",n)}function ni(t){ei.call(this,t),Ir(this,"profile",Nr((t=dr(t.rawUserInfo||"{}"))||{}))}function ri(t){if(ni.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ii(t){if(ni.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ir(this,"username",this.profile&&this.profile.login||null)}function oi(t){if(ni.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ai(t){if(ni.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ir(this,"username",t.screenName||null)}function si(t){var e=Qe(t),n=ze(e,"link"),r=ze(Qe(n),"link");return ze(Qe(e=ze(e,"deep_link_id")),"link")||e||r||n||t}function ui(t,e){return t.then(function(t){if(t[qo]){var n=Gr(t[qo]);if(!n||e!=n.c)throw new _r("user-mismatch");return t}throw new _r("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==xr+"user-not-found"?new _r("user-mismatch"):t})}function ci(t,e,n){if(e.idToken||e.accessToken)e.idToken&&Ir(this,"idToken",e.idToken),e.accessToken&&Ir(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new _r("internal-error","failed to construct a credential");Ir(this,"accessToken",e.oauthToken),Ir(this,"secret",e.oauthTokenSecret)}Ir(this,"providerId",t),Ir(this,"signInMethod",n)}function li(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:sn(e).toString(),requestUri:"http://localhost"}}function hi(t,e){this.Ac=e||[],Ar(this,{providerId:t,isOAuthProvider:!0}),this.vb={},this.$a=(Jr(t)||{}).Ma||null,this.Ya=null}function fi(t){hi.call(this,t,Xr),this.a=[]}function di(){fi.call(this,"facebook.com")}function pi(t){if(!t)throw new _r("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new di).credential(null,e)}function mi(){fi.call(this,"github.com")}function yi(t){if(!t)throw new _r("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new mi).credential(null,e)}function gi(){fi.call(this,"google.com"),this.ta("profile")}function vi(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new gi).credential(n,e)}function bi(){hi.call(this,"twitter.com",Qr)}function wi(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new _r("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ci("twitter.com",n,"twitter.com")}function Ei(t,e,n){this.a=t,this.b=e,Ir(this,"providerId","password"),Ir(this,"signInMethod",n===Ti.EMAIL_LINK_SIGN_IN_METHOD?Ti.EMAIL_LINK_SIGN_IN_METHOD:Ti.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ti(){Ar(this,{providerId:"password",isOAuthProvider:!1})}function Si(t,e){if(!(e=ki(e)))throw new _r("argument-error","Invalid email link!");return new Ei(t,e,Ti.EMAIL_LINK_SIGN_IN_METHOD)}function ki(t){var e=ze((t=new function(t){this.a=Qe(t)}(t=si(t))).a,"oobCode")||null;return"signIn"===(ze(t.a,"mode")||null)&&e?e:null}function Ii(t){if(!(t.Sa&&t.Ra||t.Fa&&t.$))throw new _r("internal-error");this.a=t,Ir(this,"providerId","phone"),Ir(this,"signInMethod","phone")}function Ai(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Sa,code:t.a.Ra}}function Ci(t){try{this.a=t||e.auth()}catch(t){throw new _r("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ar(this,{providerId:"phone",isOAuthProvider:!1})}function Ni(t,e){if(!t)throw new _r("missing-verification-id");if(!e)throw new _r("missing-verification-code");return new Ii({Sa:t,Ra:e})}function _i(t){if(t.temporaryProof&&t.phoneNumber)return new Ii({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return vi(t,n);case"facebook.com":return pi(n);case"github.com":return yi(n);case"twitter.com":return wi(n,r);default:return new fi(e).credential(t,n)}}catch(t){return null}}function Oi(t){if(!t.isOAuthProvider)throw new _r("invalid-oauth-provider")}function xi(t,e,n,r,i){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new _r("invalid-auth-event");if(this.f&&this.a)throw new _r("invalid-auth-event");if(this.f&&!this.g)throw new _r("invalid-auth-event")}function Di(t){return(t=t||{}).type?new xi(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Or(t.error)):null}function Ri(){this.b=null,this.a=[]}E(ni,ei),E(ri,ni),E(ii,ni),E(oi,ni),E(ai,ni),ci.prototype.ya=function(t){return oa(t,li(this))},ci.prototype.c=function(t,e){var n=li(this);return n.idToken=e,aa(t,n)},ci.prototype.f=function(t,e){return ui(sa(t,li(this)),e)},ci.prototype.D=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},hi.prototype.Da=function(t){return this.vb=at(t),this},E(fi,hi),fi.prototype.ta=function(t){return F(this.a,t)||this.a.push(t),this},fi.prototype.Ab=function(){return V(this.a)},fi.prototype.credential=function(t,e){if(!t&&!e)throw new _r("argument-error","credential failed: must provide the ID token and/or the access token.");return new ci(this.providerId,{idToken:t||null,accessToken:e||null},this.providerId)},E(di,fi),Ir(di,"PROVIDER_ID","facebook.com"),Ir(di,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(mi,fi),Ir(mi,"PROVIDER_ID","github.com"),Ir(mi,"GITHUB_SIGN_IN_METHOD","github.com"),E(gi,fi),Ir(gi,"PROVIDER_ID","google.com"),Ir(gi,"GOOGLE_SIGN_IN_METHOD","google.com"),E(bi,hi),Ir(bi,"PROVIDER_ID","twitter.com"),Ir(bi,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ei.prototype.ya=function(t){return this.signInMethod==Ti.EMAIL_LINK_SIGN_IN_METHOD?La(t,ma,{email:this.a,oobCode:this.b}):La(t,Da,{email:this.a,password:this.b})},Ei.prototype.c=function(t,e){return this.signInMethod==Ti.EMAIL_LINK_SIGN_IN_METHOD?La(t,ya,{idToken:e,email:this.a,oobCode:this.b}):La(t,Aa,{idToken:e,email:this.a,password:this.b})},Ei.prototype.f=function(t,e){return ui(this.ya(t),e)},Ei.prototype.D=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},Ar(Ti,{PROVIDER_ID:"password"}),Ar(Ti,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ar(Ti,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ii.prototype.ya=function(t){return t.Ta(Ai(this))},Ii.prototype.c=function(t,e){var n=Ai(this);return n.idToken=e,La(t,Pa,n)},Ii.prototype.f=function(t,e){var n=Ai(this);return n.operation="REAUTH",ui(t=La(t,Ma,n),e)},Ii.prototype.D=function(){var t={providerId:"phone"};return this.a.Sa&&(t.verificationId=this.a.Sa),this.a.Ra&&(t.verificationCode=this.a.Ra),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},Ci.prototype.Ta=function(t,e){var n=this.a.b;return St(e.verify()).then(function(r){if(!o(r))throw new _r("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return La(n,ka,e)}(0,{phoneNumber:t,recaptchaToken:r}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new _r("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Ar(Ci,{PROVIDER_ID:"phone"}),Ar(Ci,{PHONE_SIGN_IN_METHOD:"phone"}),xi.prototype.D=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.D()}};var Pi=null;function Mi(t){var e="unauthorized-domain",n=void 0,r=Qe(t);t=r.b,"chrome-extension"==(r=r.c)?n=q("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=q("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",_r.call(this,e,n)}function Li(t,e,n){_r.call(this,t,n),(t=e||{}).wb&&Ir(this,"email",t.wb),t.$&&Ir(this,"phoneNumber",t.$),t.credential&&Ir(this,"credential",t.credential)}function Fi(t){if(t.code){var e=t.code||"";0==e.indexOf(xr)&&(e=e.substring(xr.length));var n={credential:_i(t)};if(t.email)n.wb=t.email;else{if(!t.phoneNumber)return new _r(e,t.message||void 0);n.$=t.phoneNumber}return new Li(e,n,t.message)}return null}Ri.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=or("universalLinks.subscribe",i))&&t(null,this.b))},Ri.prototype.unsubscribe=function(t){B(this.a,function(e){return e==t})},E(Mi,_r),E(Li,_r),Li.prototype.D=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.D();return e&&lt(t,e),t},Li.prototype.toJSON=function(){return this.D()};var ji,Bi=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Ui(){}function Vi(t){return t.c||(t.c=t.b())}function qi(){}function Hi(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ki(){}function Wi(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=v(this.bc,this),this.a.onerror=v(this.Bb,this),this.a.onprogress=v(this.cc,this),this.a.ontimeout=v(this.fc,this)}function Gi(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function zi(t,e,n){this.reset(t,e,n,void 0,void 0)}function Qi(t){this.f=t,this.b=this.c=this.a=null}function Xi(t,e){this.name=t,this.value=e}Ui.prototype.c=null,E(qi,Ui),qi.prototype.a=function(){var t=Hi(this);return t?new ActiveXObject(t):new XMLHttpRequest},qi.prototype.b=function(){var t={};return Hi(this)&&(t[0]=!0,t[1]=!0),t},ji=new qi,E(Ki,Ui),Ki.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Wi;throw Error("Unsupported browser")},Ki.prototype.b=function(){return{}},(t=Wi.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.bc=function(){this.status=200,this.responseText=this.a.responseText,Gi(this,4)},t.Bb=function(){this.status=500,this.responseText="",Gi(this,4)},t.fc=function(){this.Bb()},t.cc=function(){this.status=200,Gi(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},zi.prototype.a=null,zi.prototype.reset=function(t,e,n,r,i){r||w(),delete this.a},Xi.prototype.toString=function(){return this.name};var Yi=new Xi("SEVERE",1e3),Ji=new Xi("WARNING",900),$i=new Xi("CONFIG",700),Zi=new Xi("FINE",500);Qi.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(A("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new zi(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var to={},eo=null;function no(t){var e;if(eo||(eo=new Qi(""),to[""]=eo,eo.c=$i),!(e=to[t])){e=new Qi(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=no(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,to[t]=e}return e}function ro(t,e){t&&t.log(Zi,e,void 0)}function io(t){this.f=t}function oo(t){Oe.call(this),this.i=t,this.readyState=ao,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=no("goog.net.FetchXmlHttp")}E(io,Ui),io.prototype.a=function(){return new oo(this.f)},io.prototype.b=function(t){return function(){return t}}({}),E(oo,Oe);var ao=0;function so(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function uo(t){Oe.call(this),this.headers=new je,this.C=t||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=co,this.v=this.O=!1}(t=oo.prototype).open=function(t,e){if(this.readyState!=ao)throw this.abort(),Error("Error reopening a connection");this.h=t,this.c=e,this.readyState=1,so(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.i.fetch(new Request(this.c,e)).then(this.ec.bind(this),this.Cb.bind(this))},t.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,so(this)),this.readyState=ao},t.ec=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,so(this)),this.a&&(this.readyState=3,so(this),this.a&&t.text().then(this.dc.bind(this,t),this.Cb.bind(this))))},t.dc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,so(this))},t.Cb=function(t){var e=this.f;e&&e.log(Ji,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,so(this))},t.setRequestHeader=function(t,e){this.g.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(Ji,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(Ji,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},E(uo,Oe);var co="";uo.prototype.b=no("goog.net.XhrIo");var lo=/^https?$/i,ho=["POST","PUT"];function fo(t,e,n,r,a){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.N=n,t.G=!1,t.c=!0,t.a=t.C?t.C.a():ji.a(),t.w=t.C?Vi(t.C):Vi(ji),t.a.onreadystatechange=v(t.Fb,t);try{ro(t.b,To(t,"Opening Xhr")),t.I=!0,t.a.open(n,String(e),!0),t.I=!1}catch(e){return ro(t.b,To(t,"Error opening Xhr: "+e.message)),void mo(t,e)}e=r||"";var s=new je(t.headers);a&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||o(t))P(t,e,void 0);else for(var n=Fe(t),r=Le(t),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],n&&n[a],t)}(a,function(t,e){s.set(e,t)}),a=function(t){t:{for(var e=po,n=t.length,r=o(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:o(t)?t.charAt(e):t[e]}(s.U()),r=i.FormData&&e instanceof i.FormData,!F(ho,n)||a||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{bo(t),0<t.g&&(t.v=function(t){return Kt&&ee(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ro(t.b,To(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=v(t.Ga,t)):t.u=Pe(t.Ga,t.g,t)),ro(t.b,To(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ro(t.b,To(t,"Send error: "+e.message)),mo(t,e)}}function po(t){return"content-type"==t.toLowerCase()}function mo(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,yo(t),vo(t)}function yo(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function go(t){if(t.c&&void 0!==r)if(t.w[1]&&4==wo(t)&&2==Eo(t))ro(t.b,To(t,"Local request error detected and ignored"));else if(t.i&&4==wo(t))Pe(t.Fb,0,t);else if(t.dispatchEvent("readystatechange"),4==wo(t)){ro(t.b,To(t,"Request complete")),t.c=!1;try{var e,n=Eo(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(e=o)){var a;if(a=0===n){var s=String(t.l).match(Ve)[1]||null;if(!s&&i.self&&i.self.location){var u=i.self.location.protocol;s=u.substr(0,u.length-1)}a=!lo.test(s?s.toLowerCase():"")}e=a}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<wo(t)?t.a.statusText:""}catch(e){ro(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Eo(t)+"]",yo(t)}}finally{vo(t)}}}function vo(t,e){if(t.a){bo(t);var n=t.a,r=t.w[0]?s:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Yi,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function bo(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(i.clearTimeout(t.u),t.u=null)}function wo(t){return t.a?t.a.readyState:0}function Eo(t){try{return 2<wo(t)?t.a.status:-1}catch(t){return-1}}function To(t,e){return e+" ["+t.N+" "+t.l+" "+Eo(t)+"]"}function So(t,e){this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.l=this.w=this.i=!1,this.h=0,this.b=null,this.m=0}function ko(t,e,n){t.a=!0,t.c=n,t.f=!e,No(t)}function Io(t){if(t.a){if(!t.l)throw new _o(t);t.l=!1}}function Ao(t,e,n,r){t.g.push([e,n,r]),t.a&&No(t)}function Co(t){return L(t.g,function(t){return f(t[1])})}function No(t){if(t.h&&t.a&&Co(t)){var e=t.h,n=Do[e];n&&(i.clearTimeout(n.a),delete Do[e]),t.h=0}t.b&&(t.b.m--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var o=t.g.shift(),a=o[0],s=o[1];if(o=o[2],a=t.f?s:a)try{var u=a.call(o||t.u,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(S(e)||"function"==typeof i.Promise&&e instanceof i.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Co(t)||(n=!0)}}t.c=e,r&&(u=v(t.o,t,!0),r=v(t.o,t,!1),e instanceof So?(Ao(e,u,r),e.w=!0):e.then(u,r)),n&&(e=new xo(e),Do[e.a]=e,t.h=e.a)}function _o(){k.call(this)}function Oo(){k.call(this)}function xo(t){this.a=i.setTimeout(v(this.c,this),0),this.b=t}(t=uo.prototype).Ga=function(){void 0!==r&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ro(this.b,To(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ro(this.b,To(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),vo(this))},t.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),vo(this,!0)),uo.lb.ua.call(this)},t.Fb=function(){this.pa||(this.I||this.i||this.f?go(this):this.tc())},t.tc=function(){go(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case co:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Yi,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(t){return ro(this.b,"Can not get response: "+t.message),null}},So.prototype.cancel=function(t){if(this.a)this.c instanceof So&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.m--,0>=e.m&&e.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(t=new Oo(this),Io(this),ko(this,!1,t))}},So.prototype.o=function(t,e){this.i=!1,ko(this,t,e)},So.prototype.C=function(){Io(this),ko(this,!0,null)},So.prototype.then=function(t,e,n){var r,i,o=new yt(function(t,e){r=t,i=e});return Ao(this,r,function(t){t instanceof Oo?o.cancel():i(t)}),o.then(t,e,n)},T(So),E(_o,k),_o.prototype.message="Deferred has already fired",_o.prototype.name="AlreadyCalledError",E(Oo,k),Oo.prototype.message="Deferred was canceled",Oo.prototype.name="CanceledError",xo.prototype.c=function(){throw delete Do[this.a],this.b};var Do={};function Ro(t){var e={},n=e.document||document,r=vn(t),i=document.createElement("SCRIPT"),o={Hb:i,Ga:void 0},a=new So(Po,o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){Mo(i,!0);var t=new jo(Fo,"Timeout reached for loading script "+r);Io(a),ko(a,!1,t)},u),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Mo(i,e.dd||!1,s),a.C())},i.onerror=function(){Mo(i,!0,s);var t=new jo(Lo,"Error while loading script "+r);Io(a),ko(a,!1,t)},lt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Rn(i,o),i.src=vn(t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Po(){if(this&&this.Hb){var t=this.Hb;t&&"SCRIPT"==t.tagName&&Mo(t,!0,this.Ga)}}function Mo(t,e,n){null!=n&&i.clearTimeout(n),t.onload=s,t.onerror=s,t.onreadystatechange=s,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Lo=0,Fo=1;function jo(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),k.call(this,n),this.code=t}function Bo(t){this.f=t}function Uo(t,n,r){if(this.b=t,t=n||{},this.i=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ho,this.f=at(t.secureTokenHeaders||Ko),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||Wo,this.a=at(t.firebaseHeaders||Go),r&&(this.a["X-Client-Version"]=r,this.f["X-Client-Version"]=r),r="Node"==Jn(),!(r=i.XMLHttpRequest||r&&e.INTERNAL.node&&e.INTERNAL.node.XMLHttpRequest)&&!Yn())throw new _r("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,Yn()?this.c=new io(self):$n()?this.c=new Bo(r):this.c=new Ki}E(jo,k),E(Bo,Ui),Bo.prototype.a=function(){return new this.f},Bo.prototype.b=function(){return{}};var Vo,qo="idToken",Ho=new gr(3e4,6e4),Ko={"Content-Type":"application/x-www-form-urlencoded"},Wo=new gr(3e4,6e4),Go={"Content-Type":"application/json"};function zo(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Qo(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function Xo(t,e,n,r,o,a,s){(function(){var t=ir();return!((t=er(t)!=tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Kt&&Zt&&!(9<Zt))})()||Yn()?t=v(t.o,t):(Vo||(Vo=new yt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{i[Jo]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=bn(Yo,{onload:Jo});!function(t,e){Ao(Ro(n),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=v(t.l,t)),t(e,n,r,o,a,s)}Uo.prototype.o=function(t,e,n,r,o,a){if(Yn()&&(void 0===i.fetch||void 0===i.Headers||void 0===i.Request))throw new _r("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new uo(this.c);if(a){s.g=Math.max(0,a);var u=setTimeout(function(){s.dispatchEvent("timeout")},a)}xe(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ro(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)}),De(s,"ready",function(){u&&clearTimeout(u),Bt(this)}),De(s,"timeout",function(){u&&clearTimeout(u),Bt(this),e&&e(null)}),fo(s,t,n,r,o)};var Yo=yn("https://apis.google.com/js/client.js?onload=%{onload}"),Jo="__fcb"+Math.floor(1e6*Math.random()).toString();function $o(t){if(!Bi.test(t.email))throw new _r("invalid-email")}function Zo(t){"email"in t&&$o(t)}function ta(t){if(!t[qo])throw new _r("internal-error")}function ea(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new _r("internal-error")}else{if(!t.sessionInfo)throw new _r("missing-verification-id");if(!t.code)throw new _r("missing-verification-code")}}Uo.prototype.l=function(t,e,n,r,i){var o=this;Vo.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Uo.prototype.Pa=function(){return La(this,Ca,{})},Uo.prototype.mb=function(t,e){return La(this,Ia,{idToken:t,email:e})},Uo.prototype.nb=function(t,e){return La(this,Aa,{idToken:t,password:e})};var na={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ra(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new _r("internal-error")}function ia(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Fi(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Fi(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Fi(t)):t.errorMessage&&(e=Fa(t.errorMessage)),e)throw e;if(!t[qo])throw new _r("internal-error")}function oa(t,e){return e.returnIdpCredential=!0,La(t,Na,e)}function aa(t,e){return e.returnIdpCredential=!0,La(t,Oa,e)}function sa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,La(t,_a,e)}function ua(t){if(!t.oobCode)throw new _r("invalid-action-code")}(t=Uo.prototype).ob=function(t,e){var n={idToken:t},r=[];return it(na,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),La(this,Ia,n)},t.hb=function(t,e){return lt(t={requestType:"PASSWORD_RESET",email:t},e),La(this,wa,t)},t.ib=function(t,e){return lt(t={requestType:"EMAIL_SIGNIN",email:t},e),La(this,va,t)},t.gb=function(t,e){return lt(t={requestType:"VERIFY_EMAIL",idToken:t},e),La(this,ba,t)},t.Ta=function(t){return La(this,Ra,t)},t.Xa=function(t,e){return La(this,Sa,{oobCode:t,newPassword:e})},t.Ja=function(t){return La(this,la,{oobCode:t})},t.Va=function(t){return La(this,ca,{oobCode:t})};var ca={endpoint:"setAccountInfo",B:ua,da:"email"},la={endpoint:"resetPassword",B:ua,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new _r("internal-error")}},ha={endpoint:"signupNewUser",B:function(t){if($o(t),!t.password)throw new _r("weak-password")},J:ta,R:!0},fa={endpoint:"createAuthUri"},da={endpoint:"deleteAccount",T:["idToken"]},pa={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(t){if(!l(t.deleteProvider))throw new _r("internal-error")}},ma={endpoint:"emailLinkSignin",T:["email","oobCode"],B:$o,J:ta,R:!0},ya={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:$o,J:ta,R:!0},ga={endpoint:"getAccountInfo"},va={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new _r("internal-error");$o(t)},da:"email"},ba={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new _r("internal-error")},da:"email"},wa={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new _r("internal-error");$o(t)},da:"email"},Ea={rb:!0,endpoint:"getProjectConfig",Eb:"GET"},Ta={rb:!0,endpoint:"getRecaptchaParam",Eb:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new _r("internal-error")}},Sa={endpoint:"resetPassword",B:ua,da:"email"},ka={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Ia={endpoint:"setAccountInfo",T:["idToken"],B:Zo,R:!0},Aa={endpoint:"setAccountInfo",T:["idToken"],B:function(t){if(Zo(t),!t.password)throw new _r("weak-password")},J:ta,R:!0},Ca={endpoint:"signupNewUser",J:ta,R:!0},Na={endpoint:"verifyAssertion",B:ra,J:ia,R:!0},_a={endpoint:"verifyAssertion",B:ra,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new _r("user-not-found");if(t.errorMessage)throw Fa(t.errorMessage);if(!t[qo])throw new _r("internal-error")},R:!0},Oa={endpoint:"verifyAssertion",B:function(t){if(ra(t),!t.idToken)throw new _r("internal-error")},J:ia,R:!0},xa={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new _r("invalid-custom-token")},J:ta,R:!0},Da={endpoint:"verifyPassword",B:function(t){if($o(t),!t.password)throw new _r("wrong-password")},J:ta,R:!0},Ra={endpoint:"verifyPhoneNumber",B:ea,J:ta},Pa={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new _r("internal-error");ea(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Fi(t);ta(t)}},Ma={Tb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ea,J:ta};function La(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.T))return kt(new _r("internal-error"));var r,i=e.Eb||"POST";return St(n).then(e.B).then(function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,r,i,o){var a=Qe(t.g+e);Ge(a,"key",t.b),o&&Ge(a,"cb",w().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&Ge(a,u,r[u]);return new yt(function(e,o){Xo(t,a.toString(),function(t){t?t.error?o(ja(t,i||{})):e(t):o(new _r("network-request-failed"))},n,s?void 0:Ln(fr(r)),t.a,t.h.get())})}(t,e.endpoint,i,n,e.Tb,e.rb||!1)}).then(function(t){return r=t}).then(e.J).then(function(){if(!e.da)return r;if(!(e.da in r))throw new _r("internal-error");return r[e.da]})}function Fa(t){return ja({error:{errors:[{message:t}],code:400,message:t}})}function ja(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new _r(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",lt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new _r(r[i],e);return!e&&t&&(e=hr(t)),new _r("internal-error",e)}var Ba,Ua={Yc:{Za:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",fb:"https://securetoken.googleapis.com/v1/token",id:"p"},$c:{Za:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",fb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ad:{Za:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",fb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Va(t){for(var e in Ua)if(Ua[e].id===t)return{firebaseEndpoint:(t=Ua[e]).Za,secureTokenEndpoint:t.fb};return null}function qa(t){this.b=t,this.a=null,this.bb=function(t){return(za||(za=new yt(function(t,e){function n(){yr(),or("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){yr(),e(Error("Network Error"))},timeout:Wa.get()})}if(or("gapi.iframes.Iframe"))t();else if(or("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();i[r]=function(){or("gapi.load")?n():e(Error("Network Error"))},St(Ro(r=bn(Ka,{onload:r}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw za=null,t}))).then(function(){return new yt(function(e,n){or("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},Ga.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}Ba=Va("__EID__")?"__EID__":void 0;var Ha,Ka=yn("https://apis.google.com/js/api.js?onload=%{onload}"),Wa=new gr(3e4,6e4),Ga=new gr(5e3,15e3),za=null;function Qa(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Xe(this.i,"/__/auth/iframe"),Ge(this.a,"apiKey",this.g),Ge(this.a,"appName",this.h),this.b=null,this.c=[]}function Xa(t,e,n,r,i){this.o=t,this.l=e,this.c=n,this.m=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function Ya(t){try{return e.app(t).auth().xa()}catch(t){return[]}}function Ja(t,e,n,r,i){this.l=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.m=this.a=null}function $a(t){var e=Vn();return function(t){return La(t,Ea,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Qe(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Qe(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Gn.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Mi(Vn())})}function Za(t){return t.m?t.m:(t.m=zn().then(function(){if(!t.u){var e=t.c,n=t.h,r=Ya(t.b),i=new Qa(t.l,t.f,t.b);i.f=e,i.b=n,i.c=V(r||[]),t.u=i.toString()}t.i=new qa(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.bb.then(function(){t.a.register("authEvent",e,or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Di(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",St(n)}return n.status="ERROR",St(n)})}(t)}),t.m)}function ts(t){return t.o||(t.v=t.c?rr(t.c,Ya(t.b)):null,t.o=new Uo(t.f,Va(t.h),t.v)),t.o}function es(t,e,n,r,i,o,a,s,u,c){return(t=new Xa(t,e,n,r,i)).i=o,t.g=a,t.h=s,t.b=at(u||null),t.f=c,t.toString()}function ns(t){if(this.a=t||e.INTERNAL.reactNative&&e.INTERNAL.reactNative.AsyncStorage,!this.a)throw new _r("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function rs(){if(!os())throw new _r("web-storage-unsupported");this.f={},this.a=[],this.b=0,this.g=i.indexedDB,this.type="indexedDB"}function is(t){return t.h||(t.h=function t(e){return new yt(function(n,r){var i=e.g.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(t){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new yt(function(e,n){var r=t.g.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(e).then(function(){return t(e)}).then(function(t){n(t)}).s(function(t){r(t)})}})}(t)),t.h}function os(){try{return!!i.indexedDB}catch(t){return!1}}function as(t){return t.objectStore("firebaseLocalStorage")}function ss(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function us(t){return new yt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function cs(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=St().then(function(){return os()?(Ha||(Ha=new rs),(n=Ha).set("__sak","!").then(function(){return n.get("__sak")}).then(function(t){if("!"!==t)throw Error("indexedDB not supported!");return n.P("__sak")}).then(function(){return n}).s(function(){return e.c})):e.c}).then(function(t){return e.type=t.type,t.Y(function(t){P(e.a,function(e){e(t)})}),t})}function ls(){this.a={},this.type="inMemory"}function hs(){if(!function(){var t="Node"==Jn();if(!(t=fs()||t&&e.INTERNAL.node&&e.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Jn())throw new _r("internal-error","The LocalStorage compatibility library was not found.");throw new _r("web-storage-unsupported")}this.a=fs()||e.INTERNAL.node.localStorage,this.type="localStorage"}function fs(){try{var t=i.localStorage,e=pr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function ds(){this.type="nullStorage"}function ps(){if(!function(){var t="Node"==Jn();if(!(t=ms()||t&&e.INTERNAL.node&&e.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Jn())throw new _r("internal-error","The SessionStorage compatibility library was not found.");throw new _r("web-storage-unsupported")}this.a=ms()||e.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ms(){try{var t=i.sessionStorage,e=pr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}Qa.prototype.toString=function(){return this.f?Ge(this.a,"v",this.f):un(this.a.a,"v"),this.b?Ge(this.a,"eid",this.b):un(this.a.a,"eid"),this.c.length?Ge(this.a,"fw",this.c.join(",")):un(this.a.a,"fw"),this.a.toString()},Xa.prototype.toString=function(){var t=Xe(this.o,"/__/auth/handler");if(Ge(t,"apiKey",this.l),Ge(t,"appName",this.c),Ge(t,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=e.app(this.c).auth().ea()}catch(t){r=null}for(var i in n.Ya=r,Ge(t,"providerId",this.a.providerId),r=fr((n=this.a).vb))r[i]=r[i].toString();i=n.Ac,r=at(r);for(var o=0;o<i.length;o++){var a=i[o];a in r&&delete r[a]}n.$a&&n.Ya&&!r[n.$a]&&(r[n.$a]=n.Ya),ot(r)||Ge(t,"customParameters",hr(r))}if("function"==typeof this.a.Ab&&(n=this.a.Ab()).length&&Ge(t,"scopes",n.join(",")),this.i?Ge(t,"redirectUrl",this.i):un(t.a,"redirectUrl"),this.g?Ge(t,"eventId",this.g):un(t.a,"eventId"),this.h?Ge(t,"v",this.h):un(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!ze(t,s)&&Ge(t,s,this.b[s]);return this.f?Ge(t,"eid",this.f):un(t.a,"eid"),(s=Ya(this.c)).length&&Ge(t,"fw",s.join(",")),t.toString()},(t=Ja.prototype).Ea=function(t,e,n){var r=new _r("popup-closed-by-user"),i=new _r("web-storage-unsupported"),o=this,a=!1;return this.ga().then(function(){(function(t){var e={type:"webStorageSupport"};return Za(t).then(function(){return function(t,e){return t.bb.then(function(){return new yt(function(n){t.a.send(e.type,e,n,or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&Kn(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return function(t){return new yt(function(e){return function n(){Me(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Me(n).then(function(){e(r)})})},t.Ib=function(){var t=ir();return!lr(t)&&!mr(t)},t.Db=function(){return!1},t.zb=function(t,e,n,r,i,o,a){if(!t)return kt(new _r("popup-blocked"));if(a&&!lr())return this.ga().s(function(e){Kn(t),i(e)}),r(),St();this.a||(this.a=$a(ts(this)));var s=this;return this.a.then(function(){var e=s.ga().s(function(e){throw Kn(t),i(e),e});return r(),e}).then(function(){Oi(n),a||qn(es(s.l,s.f,s.b,e,n,null,o,s.c,void 0,s.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},t.Ca=function(t,e,n){this.a||(this.a=$a(ts(this)));var r=this;return this.a.then(function(){Oi(e),qn(es(r.l,r.f,r.b,t,e,Vn(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ga=function(){var t=this;return Za(this).then(function(){return t.i.bb}).s(function(){throw t.a=null,new _r("network-request-failed")})},t.Mb=function(){return!0},t.va=function(t){this.g.push(t)},t.Ka=function(t){B(this.g,function(e){return e==t})},(t=ns.prototype).get=function(t){return St(this.a.getItem(t)).then(function(t){return t&&dr(t)})},t.set=function(t,e){return St(this.a.setItem(t,hr(e)))},t.P=function(t){return St(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){},(t=rs.prototype).set=function(t,e){var n,r=!1,i=this;return is(this).then(function(e){return us((e=as(ss(n=e,!0))).get(t))}).then(function(o){var a=as(ss(n,!0));return o?(o.value=e,us(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,us(a.add(o)))}).then(function(){i.f[t]=e}).ia(function(){r&&i.b--})},t.get=function(t){return is(this).then(function(e){return us(as(ss(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,n=this;return is(this).then(function(r){return e=!0,n.b++,us(as(ss(r,!0)).delete(t))}).then(function(){delete n.f[t]}).ia(function(){e&&n.b--})},t.Kc=function(){var t=this;return is(this).then(function(t){var e=as(ss(t,!1));return e.getAll?us(e.getAll()):new yt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.f,n),t.f=n}return r})},t.Y=function(t){0==this.a.length&&function(t){t.c&&t.c.cancel("STOP_EVENT"),function e(){return t.c=Me(800).then(v(t.Kc,t)).then(function(e){0<e.length&&P(t.a,function(t){t(e)})}).then(e).s(function(t){"STOP_EVENT"!=t.message&&e()}),t.c}()}(this),this.a.push(t)},t.ca=function(t){B(this.a,function(e){return e==t}),0==this.a.length&&this.c&&this.c.cancel("STOP_EVENT")},(t=cs.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){B(this.a,function(e){return e==t})},(t=ls.prototype).get=function(t){return St(this.a[t])},t.set=function(t,e){return this.a[t]=e,St()},t.P=function(t){return delete this.a[t],St()},t.Y=function(){},t.ca=function(){},(t=hs.prototype).get=function(t){var e=this;return St().then(function(){return dr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return St().then(function(){var r=hr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return St().then(function(){e.a.removeItem(t)})},t.Y=function(t){i.window&&ve(i.window,"storage",t)},t.ca=function(t){i.window&&Ee(i.window,"storage",t)},(t=ds.prototype).get=function(){return St(null)},t.set=function(){return St()},t.P=function(){return St()},t.Y=function(){},t.ca=function(){},(t=ps.prototype).get=function(t){var e=this;return St().then(function(){return dr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return St().then(function(){var r=hr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return St().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var ys,gs,vs={A:hs,Qa:ps},bs={A:hs,Qa:ps},ws={A:ns,Qa:ds},Es={A:hs,Qa:ds},Ts={Xc:"local",NONE:"none",Zc:"session"};function Ss(){var t=!(mr(ir())||!Xn()),e=lr(),n=ar();this.o=t,this.h=e,this.m=n,this.a={},ys||(ys=new function(){var t={};t.Browser=vs,t.Node=bs,t.ReactNative=ws,t.Worker=Es,this.a=t[Jn()]}),t=ys;try{this.g=!Un()&&wr()||!i.indexedDB?new t.a.A:new cs(Yn()?new ls:new t.a.A)}catch(t){this.g=new ls,this.h=!0}try{this.i=new t.a.Qa}catch(t){this.i=new ls}this.l=new ls,this.f=v(this.Lb,this),this.b={}}function ks(){return gs||(gs=new Ss),gs}function Is(t,e){switch(e){case"session":return t.i;case"none":return t.l;default:return t.g}}function As(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Cs(t,e,n){return n=As(e,n),"local"==e.A&&(t.b[n]=null),Is(t,e.A).P(n)}function Ns(t){t.c&&(clearInterval(t.c),t.c=null)}(t=Ss.prototype).get=function(t,e){return Is(this,t.A).get(As(t,e))},t.set=function(t,e,n){var r=As(t,n),i=this,o=Is(this,t.A);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.A&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=As(t,e),this.m&&(this.b[t]=i.localStorage.getItem(t)),ot(this.a)&&(Is(this,"local").Y(this.f),this.h||(Un()||!wr())&&i.indexedDB||!this.m||function(t){Ns(t),t.c=setInterval(function(){for(var e in t.a){var n=i.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new ue({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Lb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=As(t,e),this.a[t]&&(B(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),ot(this.a)&&(Is(this,"local").ca(this.f),Ns(this))},t.Lb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var o=i.localStorage.getItem(n);o!==r&&(this.b[n]=o,this.Wa(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Is(this,"local").ca(this.f):Ns(this),this.o)if(n=i.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?i.localStorage.setItem(e,r):i.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var a=this;n=function(){void 0===t.a.a&&a.b[e]===i.localStorage.getItem(e)||(a.b[e]=i.localStorage.getItem(e),a.Wa(e))},Kt&&Zt&&10==Zt&&i.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else P(t,v(this.Wa,this))},t.Wa=function(t){this.a[t]&&P(this.a[t],function(t){t()})};var _s,Os={name:"authEvent",A:"local"};function xs(t,e){this.b=-1,this.b=Ds,this.f=i.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.m=i.Int32Array?new Int32Array(64):Array(64),void 0!==_s||(_s=i.Int32Array?new Int32Array(Bs):Bs),this.reset()}E(xs,function(){this.b=-1});for(var Ds=64,Rs=Ds-1,Ps=[],Ms=0;Ms<Rs;Ms++)Ps[Ms]=0;var Ls=U(128,Ps);function Fs(t){for(var e=t.f,n=t.m,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|_s[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function js(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(o(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Fs(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var a=e[r++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[i++]=a,i==t.b&&(Fs(t),i=0)}}t.c=i,t.g+=n}xs.prototype.reset=function(){this.g=this.c=0,this.a=i.Int32Array?new Int32Array(this.h):V(this.h)};var Bs=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Us(){xs.call(this,8,Vs)}E(Us,xs);var Vs=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function qs(t,e,n,r,i){this.l=t,this.i=e,this.m=n,this.o=r||null,this.u=i||null,this.h=e+":"+n,this.v=new function(){this.a=ks()},this.g=new function(t){this.a=t,this.b=ks()}(this.h),this.f=null,this.b=[],this.a=this.c=null}function Hs(t){return new _r("invalid-cordova-configuration",t)}function Ks(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Ws(t){return t.f||(t.f=t.ga().then(function(){return new yt(function(e){t.va(function n(r){return e(r),t.Ka(n),!1}),function(t){function e(e){r=!0,o&&o.cancel(),Gs(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=si(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=dr(ze(o=Qe(i),"firebaseError")||null))?Or(o):null)?new xi(r.b,r.c,null,null,o):new xi(r.b,r.c,i,r.g)),i=o||n}Ks(t,i)})}var n=new xi("unknown",null,null,null,new _r("no-auth-event")),r=!1,o=Me(500).then(function(){return Gs(t).then(function(){r||Ks(t,n)})}),a=i.handleOpenURL;i.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(or("BuildInfo.packageName",i).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(t){console.error(t)}},Pi||(Pi=new Ri),Pi.subscribe(e)}(t)})})),t.f}function Gs(t){var e=null;return function(t){return t.b.get(Os,t.a).then(function(t){return Di(t)})}(t.g).then(function(n){return e=n,Cs((n=t.g).b,Os,n.a)}).then(function(){return e})}(t=qs.prototype).ga=function(){return this.za?this.za:this.za=(Qn(void 0)?zn().then(function(){return new yt(function(t,e){var n=i.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):kt(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof or("universalLinks.subscribe",i))throw Hs("cordova-universal-links-plugin is not installed");if(void 0===or("BuildInfo.packageName",i))throw Hs("cordova-plugin-buildinfo is not installed");if("function"!=typeof or("cordova.plugins.browsertab.openUrl",i))throw Hs("cordova-plugin-browsertab is not installed");if("function"!=typeof or("cordova.InAppBrowser.open",i))throw Hs("cordova-plugin-inappbrowser is not installed")},function(){throw new _r("cordova-not-ready")})},t.Ea=function(t,e){return e(new _r("operation-not-supported-in-this-environment")),St()},t.zb=function(){return kt(new _r("operation-not-supported-in-this-environment"))},t.Mb=function(){return!1},t.Ib=function(){return!0},t.Db=function(){return!0},t.Ca=function(t,e,n){if(this.c)return kt(new _r("redirect-operation-pending"));var r=this,o=i.document,a=null,s=null,u=null,c=null;return this.c=St().then(function(){return Oi(e),Ws(r)}).then(function(){return function(t,e,n,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new xi(e,r,null,o,new _r("no-auth-event")),s=or("BuildInfo.packageName",i);if("string"!=typeof s)throw new _r("invalid-cordova-configuration");var u=or("BuildInfo.displayName",i),c={};if(ir().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!ir().toLowerCase().match(/android/))return kt(new _r("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=function(t){var e=new Us;js(e,t),t=[];var n=8*e.g;56>e.c?js(e,Ls,56-e.c):js(e,Ls,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Fs(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return M(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),c.sessionId=o;var l=es(t.l,t.i,t.m,e,n,null,r,t.o,c,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(Os,a.D(),e)}).then(function(){var e=or("cordova.plugins.browsertab.isAvailable",i);if("function"!=typeof e)throw new _r("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=or("cordova.plugins.browsertab.openUrl",i)))throw new _r("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=or("cordova.InAppBrowser.open",i)))throw new _r("invalid-cordova-configuration");e=!(!(e=ir()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=n(l,e?"_blank":"_system","location=yes")}})})}(r,t,e,n)}).then(function(){return new yt(function(t,e){s=function(){var e=or("cordova.plugins.browsertab.close",i);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.va(s),u=function(){a||(a=Me(2e3).then(function(){e(new _r("redirect-cancelled-by-user"))}))},c=function(){vr()&&u()},o.addEventListener("resume",u,!1),ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).s(function(t){return Gs(r).then(function(){throw t})})}).ia(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&r.Ka(s),r.c=null})},t.va=function(t){this.b.push(t),Ws(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new xi("unknown",null,null,null,new _r("no-auth-event")),t(e))})},t.Ka=function(t){B(this.b,function(e){return e==t})};var zs={name:"pendingRedirect",A:"session"};function Qs(t){return Cs(t.b,zs,t.a)}function Xs(t,e,n){this.v=t,this.m=e,this.l=n,this.h=[],this.f=!1,this.i=v(this.o,this),this.c=new ou,this.u=new cu,this.g=new function(t){this.a=t,this.b=ks()}(this.m+":"+this.l),this.b={},this.b.unknown=this.c,this.b.signInViaRedirect=this.c,this.b.linkViaRedirect=this.c,this.b.reauthViaRedirect=this.c,this.b.signInViaPopup=this.u,this.b.linkViaPopup=this.u,this.b.reauthViaPopup=this.u,this.a=Ys(this.v,this.m,this.l,Ba)}function Ys(t,n,r,i){var o=e.SDK_VERSION||null;return Qn()?new qs(t,n,r,o,i):new Ja(t,n,r,o,i)}function Js(t){t.f||(t.f=!0,t.a.va(t.i));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function $s(t){t.a.Ib()&&Js(t).s(function(e){var n=new xi("unknown",null,null,null,new _r("operation-not-supported-in-this-environment"));nu(e)&&t.o(n)}),t.a.Db()||au(t.c)}Xs.prototype.reset=function(){this.f=!1,this.a.Ka(this.i),this.a=Ys(this.v,this.m,this.l)},Xs.prototype.subscribe=function(t){if(F(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(zs,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?Qs(e.g).then(function(){Js(e).s(function(t){var n=new xi("unknown",null,null,null,new _r("operation-not-supported-in-this-environment"));nu(t)&&e.o(n)})}):$s(e)}).s(function(){$s(e)})}},Xs.prototype.unsubscribe=function(t){B(this.h,function(e){return e==t})},Xs.prototype.o=function(t){if(!t)throw new _r("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.sb(t.b,t.c)){(e=this.b[t.b])&&e.h(t,r),e=!0;break}}return au(this.c),e};var Zs=new gr(2e3,1e4),tu=new gr(3e4,6e4);function eu(t,e,n,r,i,o){return t.a.zb(e,n,r,function(){t.f||(t.f=!0,t.a.va(t.i))},function(){t.reset()},i,o)}function nu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}Xs.prototype.fa=function(){return this.c.fa()},Xs.prototype.Ca=function(t,e,n){var r,i=this;return function(t){return t.b.set(zs,"pending",t.a)}(this.g).then(function(){return i.a.Ca(t,e,n).s(function(t){if(nu(t))throw new _r("operation-not-supported-in-this-environment");return r=t,Qs(i.g).then(function(){throw r})}).then(function(){return i.a.Mb()?new yt(function(){}):Qs(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},Xs.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,function(n){t.ha(e,null,n,r)},Zs.get())};var ru={};function iu(t,e,n){var r=e+":"+n;return ru[r]||(ru[r]=new Xs(t,e,n)),ru[r]}function ou(){this.b=null,this.f=[],this.c=[],this.a=null,this.g=!1}function au(t){t.g||(t.g=!0,uu(t,!1,null,null))}function su(t,e){if(t.b=function(){return St(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function uu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return kt(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):su(t,n):su(t,{user:null}),t.f=[],t.c=[]}function cu(){}function lu(){this.pb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.pb},set:function(t){this.pb=t},enumerable:!1})}function hu(t,e){this.a=e,Ir(this,"verificationId",t)}function fu(t,e,n,r){return new Ci(t).Ta(e,n).then(function(t){return new hu(t,r)})}function du(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function pu(t){this.f=t,this.b=this.a=null,this.c=0}function mu(t,e){var n=e[qo],r=e.refreshToken;e=yu(e.expiresIn),t.b=n,t.c=e,t.a=r}function yu(t){return w()+1e3*parseInt(t,10)}function gu(t,e){this.a=t||null,this.b=e||null,Ar(this,{lastSignInTime:br(e||null),creationTime:br(t||null)})}function vu(t,e){for(var n in se.call(this,t),e)this[n]=e[n]}function bu(t,n,r){this.G=[],this.l=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=e.SDK_VERSION?rr(e.SDK_VERSION):null,this.b=new Uo(this.l,Va(Ba),t),this.h=new pu(this.b),Au(this,n[qo]),mu(this.h,n),Ir(this,"refreshToken",this.h.a),_u(this,r||{}),Oe.call(this),this.I=!1,this.u&&sr()&&(this.a=iu(this.u,this.l,this.o)),this.N=[],this.i=null,this.w=function(t){return new du(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-w()-3e5;return 0<e?e:0})}(this),this.V=v(this.Ha,this);var i=this;this.ka=null,this.sa=function(t){i.oa(t.g)},this.X=null,this.O=[],this.ra=function(t){Eu(i,t.c)},this.W=null}function wu(t,e){t.X&&Ee(t.X,"languageCodeChanged",t.sa),(t.X=e)&&ve(e,"languageCodeChanged",t.sa)}function Eu(t,n){t.O=n,Qo(t.b,e.SDK_VERSION?rr(e.SDK_VERSION,t.O):null)}function Tu(t,e){t.W&&Ee(t.W,"frameworkChanged",t.ra),(t.W=e)&&ve(e,"frameworkChanged",t.ra)}function Su(t){try{return e.app(t.o).auth()}catch(e){throw new _r("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function ku(t){t.C||t.w.b||(t.w.start(),Ee(t,"tokenChanged",t.V),ve(t,"tokenChanged",t.V))}function Iu(t){Ee(t,"tokenChanged",t.V),t.w.stop()}function Au(t,e){t.qa=e,Ir(t,"_lat",e)}function Cu(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return function(t){return new yt(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Zb:!0,value:o}:{Zb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)It(t[o],b(i,o,!0),b(i,o,!1));else e(r)})}(e).then(function(){return t})}function Nu(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function _u(t,e){Ar(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new gu(e.createdAt,e.lastLoginAt),providerData:[]})}function Ou(){}function xu(t){return St().then(function(){if(t.C)throw new _r("app-deleted")})}function Du(t){return M(t.providerData,function(t){return t.providerId})}function Ru(t,e){e&&(Pu(t,e.providerId),t.providerData.push(e))}function Pu(t,e){B(t.providerData,function(t){return t.providerId==e})}function Mu(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ir(t,e,n)}function Lu(t,e){t!=e&&(Ar(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),e.metadata?Ir(t,"metadata",function(t){return new gu(t.a,t.b)}(e.metadata)):Ir(t,"metadata",new gu),P(e.providerData,function(e){Ru(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Ir(t,"refreshToken",t.h.a))}function Fu(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return La(t.b,ga,{idToken:e}).then(v(t.uc,t))}(t,e).then(function(){return n||Mu(t,"isAnonymous",!1),e})})}function ju(t,e){e[qo]&&t.qa!=e[qo]&&(mu(t.h,e),t.dispatchEvent(new vu("tokenChanged")),Au(t,e[qo]),Mu(t,"refreshToken",t.h.a))}function Bu(t,e){return Fu(t).then(function(){if(F(Du(t),e))return Cu(t).then(function(){throw new _r("provider-already-linked")})})}function Uu(t,e,n){return Cr({user:t,credential:_i(e),additionalUserInfo:e=$r(e),operationType:n})}function Vu(t,e){return ju(t,e),t.reload().then(function(){return t})}function qu(t,n,r,i,o){if(!sr())return kt(new _r("operation-not-supported-in-this-environment"));if(t.i&&!o)return kt(t.i);var a=Jr(r.providerId),s=pr(t.uid+":::"),u=null;(!lr()||Xn())&&t.u&&r.isOAuthProvider&&(u=es(t.u,t.l,t.o,n,r,null,s,e.SDK_VERSION||null));var c=Wn(u,a&&a.Ba,a&&a.Aa);return i=i().then(function(){if(Ku(t),!o)return t.F().then(function(){})}).then(function(){return eu(t.a,c,n,r,s,!!u)}).then(function(){return new yt(function(e,r){t.ha(n,null,new _r("cancelled-popup-request"),t.g||null),t.f=e,t.v=r,t.g=s,t.c=t.a.Ea(t,n,c,s)})}).then(function(t){return c&&Kn(c),t?Cr(t):null}).s(function(t){throw c&&Kn(c),t}),Wu(t,i,o)}function Hu(t,e,n,r,i){if(!sr())return kt(new _r("operation-not-supported-in-this-environment"));if(t.i&&!i)return kt(t.i);var o=null,a=pr(t.uid+":::");return r=r().then(function(){if(Ku(t),!i)return t.F().then(function(){})}).then(function(){return t.aa=a,Cu(t)}).then(function(e){return t.ba&&(e=(e=t.ba).b.set(zu,t.D(),e.a)),e}).then(function(){return t.a.Ca(e,n,a)}).s(function(e){if(o=e,t.ba)return Qu(t.ba);throw o}).then(function(){if(o)throw o}),Wu(t,r,i)}function Ku(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new _r("internal-error");throw new _r("auth-domain-config-required")}}function Wu(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),kt(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new vu("userInvalidated")),t.i=e),e})}(t,e,n);return t.G.push(r),r.ia(function(){j(t.G,r)}),r}function Gu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[qo]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-w())/1e3;var r=new bu(e,n,t);return t.providerData&&P(t.providerData,function(t){t&&Ru(r,Cr(t))}),t.redirectEventId&&(r.aa=t.redirectEventId),r}ou.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ou.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,r=t.c,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;"unknown"!=n||i||o?t.a?(uu(this,!0,null,t.a),St()):e.wa(n,r)?function(t,e,n){n=n.wa(e.b,e.c);var r=e.f,i=e.g,o=!!e.b.match(/Redirect$/);n(r,i).then(function(e){uu(t,o,e,null)}).s(function(e){uu(t,o,null,e)})}(this,t,e):kt(new _r("invalid-auth-event")):(uu(this,!1,null,null),St())}else kt(new _r("invalid-auth-event"))},ou.prototype.fa=function(){var t=this;return new yt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new _r("timeout");t.a&&t.a.cancel(),t.a=Me(tu.get()).then(function(){t.b||uu(t,!0,null,e)})}(t))})},cu.prototype.h=function(t,e){if(t){var n=t.b,r=t.c;t.a?(e.ha(t.b,null,t.a,t.c),St()):e.wa(n,r)?function(t,e){var n=t.c,r=t.b;e.wa(r,n)(t.f,t.g).then(function(t){e.ha(r,t,null,n)}).s(function(t){e.ha(r,null,t,n)})}(t,e):kt(new _r("invalid-auth-event"))}else kt(new _r("invalid-auth-event"))},hu.prototype.confirm=function(t){return t=Ni(this.verificationId,t),this.a(t)},du.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Me(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return t=i.document,e=null,vr()||!t?St():new yt(function(n){e=function(){vr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},du.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},pu.prototype.D=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},pu.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?kt(new _r("user-token-expired")):t||!this.b||w()>this.c-3e4?this.a?function(t,e){return function(t,e){return new yt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Xo(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(ja(t)):t.access_token&&t.refresh_token?n(t):r(new _r("internal-error")):r(new _r("network-request-failed"))},"POST",sn(e).toString(),t.f,t.m.get()):r(new _r("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=yu(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):St(null):St({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},gu.prototype.D=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(vu,se),E(bu,Oe),bu.prototype.oa=function(t){this.ka=t,zo(this.b,t)},bu.prototype.ea=function(){return this.ka},bu.prototype.xa=function(){return V(this.O)},bu.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Ir(bu.prototype,"providerId","firebase"),(t=bu.prototype).reload=function(){var t=this;return Wu(this,xu(this).then(function(){return Fu(t).then(function(){return Cu(t)}).then(Ou)}))},t.ac=function(t){return this.F(t).then(function(t){return new function(t){var e=zr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new _r("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ar(this,{token:t,expirationTime:br(1e3*e.exp),authTime:br(1e3*e.auth_time),issuedAtTime:br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}(t)})},t.F=function(t){var e=this;return Wu(this,xu(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new _r("internal-error");return t.accessToken!=e.qa&&(Au(e,t.accessToken),e.dispatchEvent(new vu("tokenChanged"))),Mu(e,"refreshToken",t.refreshToken),t.accessToken}))},t.uc=function(t){if(!(t=t.users)||!t.length)throw new _r("internal-error");_u(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?M(t,function(t){return new function(t,e,n,r,i,o){Ar(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Ru(this,e[n]);Mu(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.cb=function(t){var e=this,n=null;return Wu(this,t.f(this.b,this.uid).then(function(t){return ju(e,t),n=Uu(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.vc=function(t){return Sr("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.cb(t).then(function(){})},t.ab=function(t){var e=this,n=null;return Wu(this,Bu(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.c(e.b,n)}).then(function(t){return n=Uu(e,t,"link"),Vu(e,t)}).then(function(){return n}))},t.mc=function(t){return Sr("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.ab(t).then(function(t){return t.user})},t.nc=function(t,e){var n=this;return Wu(this,Bu(this,"phone").then(function(){return fu(Su(n),t,e,v(n.ab,n))}))},t.wc=function(t,e){var n=this;return Wu(this,St().then(function(){return fu(Su(n),t,e,v(n.cb,n))}),!0)},t.mb=function(t){var e=this;return Wu(this,this.F().then(function(n){return e.b.mb(n,t)}).then(function(t){return ju(e,t),e.reload()}))},t.Pc=function(t){var e=this;return Wu(this,this.F().then(function(n){return t.c(e.b,n)}).then(function(t){return ju(e,t),e.reload()}))},t.nb=function(t){var e=this;return Wu(this,this.F().then(function(n){return e.b.nb(n,t)}).then(function(t){return ju(e,t),e.reload()}))},t.ob=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return xu(this);var e=this;return Wu(this,this.F().then(function(n){return e.b.ob(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return ju(e,t),Mu(e,"displayName",t.displayName||null),Mu(e,"photoURL",t.photoUrl||null),P(e.providerData,function(t){"password"===t.providerId&&(Ir(t,"displayName",e.displayName),Ir(t,"photoURL",e.photoURL))}),Cu(e)}).then(Ou))},t.Nc=function(t){var e=this;return Wu(this,Fu(this).then(function(n){return F(Du(e),t)?function(t,e,n){return La(t,pa,{idToken:e,deleteProvider:n})}(e.b,n,[t]).then(function(t){var n={};return P(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),P(Du(e),function(t){n[t]||Pu(e,t)}),n[Ci.PROVIDER_ID]||Ir(e,"phoneNumber",null),Cu(e)}):Cu(e).then(function(){throw new _r("no-such-provider")})}))},t.delete=function(){var t=this;return Wu(this,this.F().then(function(e){return La(t.b,da,{idToken:e})}).then(function(){t.dispatchEvent(new vu("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");wu(t,null),Tu(t,null),t.G=[],t.C=!0,Iu(t),Ir(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.sb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?v(this.xb,this):"reauthViaPopup"==t&&e==(this.g||null)?v(this.yb,this):"linkViaRedirect"==t&&(this.aa||null)==e?v(this.xb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?v(this.yb,this):null},t.oc=function(t){var e=this;return qu(this,"linkViaPopup",t,function(){return Bu(e,t.providerId).then(function(){return Cu(e)})},!1)},t.xc=function(t){return qu(this,"reauthViaPopup",t,function(){return St()},!0)},t.pc=function(t){var e=this;return Hu(this,"linkViaRedirect",t,function(){return Bu(e,t.providerId)},!1)},t.yc=function(t){return Hu(this,"reauthViaRedirect",t,function(){return St()},!0)},t.xb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return Wu(this,this.F().then(function(r){return aa(n.b,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=Uu(n,t,"link"),Vu(n,t)}).then(function(){return r}))},t.yb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return Wu(this,St().then(function(){return ui(sa(n.b,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=Uu(n,t,"reauthenticate"),ju(n,t),n.i=null,n.reload()}).then(function(){return r}),!0)},t.gb=function(t){var e=this,n=null;return Wu(this,this.F().then(function(e){return n=e,void 0===t||ot(t)?{}:qr(new Rr(t))}).then(function(t){return e.b.gb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.D()},t.D=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.o,authDomain:this.u,stsTokenManager:this.h.D(),redirectEventId:this.aa||null};return this.metadata&&lt(t,this.metadata.D()),P(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var zu={name:"redirectUser",A:"session"};function Qu(t){return Cs(t.b,zu,t.a)}function Xu(t){this.a=t,this.b=ks(),this.c=null,this.f=function(t){var e=$u("local"),n=$u("session"),r=$u("none");return function(t,e,n){var r=As(e,n),o=Is(t,e.A);return t.get(e,n).then(function(a){var s=null;try{s=dr(i.localStorage.getItem(r))}catch(t){}if(s&&!a)return i.localStorage.removeItem(r),t.set(e,s,n);s&&a&&"localStorage"!=o.type&&i.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Ju,t.a).then(function(t){return t?$u(t):e})})})}).then(function(e){return t.c=e,Yu(t,e.A)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener($u("local"),this.a,v(this.g,this))}function Yu(t,e){var n,r=[];for(n in Ts)Ts[n]!==e&&r.push(Cs(t.b,$u(Ts[n]),t.a));return r.push(Cs(t.b,Ju,t.a)),function(t){return new yt(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)It(t[s],b(o,s),a);else e(i)})}(r)}Xu.prototype.g=function(){var t=this,e=$u("local");nc(this,function(){return St().then(function(){return t.c&&"local"!=t.c.A?t.b.get(e,t.a):null}).then(function(n){if(n)return Yu(t,"local").then(function(){t.c=e})})})};var Ju={name:"persistence",A:"session"};function $u(t){return{name:"authUser",A:t}}function Zu(t,e){return nc(t,function(){return t.b.set(t.c,e.D(),t.a)})}function tc(t){return nc(t,function(){return Cs(t.b,t.c,t.a)})}function ec(t,e){return nc(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Gu(t||{})})})}function nc(t,e){return t.f=t.f.then(e,e),t.f}function rc(t){if(this.l=!1,Ir(this,"settings",new lu),Ir(this,"app",t),!lc(this).options||!lc(this).options.apiKey)throw new _r("invalid-api-key");t=e.SDK_VERSION?rr(e.SDK_VERSION):null,this.b=new Uo(lc(this).options&&lc(this).options.apiKey,Va(Ba),t),this.N=[],this.o=[],this.I=[],this.Pb=e.INTERNAL.createSubscribe(v(this.ic,this)),this.O=void 0,this.Qb=e.INTERNAL.createSubscribe(v(this.jc,this)),uc(this,null),this.h=new Xu(lc(this).options.apiKey+":"+lc(this).name),this.w=new function(t){this.a=t,this.b=ks()}(lc(this).options.apiKey+":"+lc(this).name),this.V=pc(this,function(t){var e=lc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(zu,t.a).then(function(t){return t&&e&&(t.authDomain=e),Gu(t||{})})}(t.w,lc(t).options.authDomain).then(function(e){return(t.C=e)&&(e.ba=t.w),Qu(t.w)});return pc(t,e)}(t).then(function(){return ec(t.h,e)}).then(function(e){return e?(e.ba=t.w,t.C&&(t.C.aa||null)==(e.aa||null)?e:e.reload().then(function(){return Zu(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:tc(t.h)})):null}).then(function(e){uc(t,e||null)});return pc(t,n)}(this)),this.i=pc(this,function(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.l)return t.ka()}).s(function(){}).then(function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener($u("local"),e.a,t.ka)}})}(this)),this.X=!1,this.ka=v(this.Jc,this),this.Ha=v(this.Z,this),this.qa=v(this.Yb,this),this.ra=v(this.gc,this),this.sa=v(this.hc,this),function(t){var e=lc(t).options.authDomain,n=lc(t).options.apiKey;e&&sr()&&(t.Ob=t.V.then(function(){if(!t.l){if(t.a=iu(e,n,lc(t).name),t.a.subscribe(t),hc(t)&&Nu(hc(t)),t.C){Nu(t.C);var r=t.C;r.oa(t.ea()),wu(r,t),Eu(r=t.C,t.G),Tu(r,t),t.C=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=v(this.delete,this),this.INTERNAL.logFramework=v(this.qc,this),this.u=0,Oe.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.oa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function ic(t){se.call(this,"languageCodeChanged"),this.g=t}function oc(t){se.call(this,"frameworkChanged"),this.c=t}function ac(t){return t.Ob||kt(new _r("auth-domain-config-required"))}function sc(t,e){var n={};return n.apiKey=lc(t).options.apiKey,n.authDomain=lc(t).options.authDomain,n.appName=lc(t).name,t.V.then(function(){return function(t,e,n,r){var i=new bu(t,e);return n&&(i.ba=n),r&&Eu(i,r),i.reload().then(function(){return i})}(n,e,t.w,t.xa())}).then(function(e){return hc(t)&&e.uid==hc(t).uid?(Lu(hc(t),e),t.Z(e)):(uc(t,e),Nu(e),t.Z(e))}).then(function(){dc(t)})}function uc(t,e){hc(t)&&(function(t,e){B(t.N,function(t){return t==e})}(hc(t),t.Ha),Ee(hc(t),"tokenChanged",t.qa),Ee(hc(t),"userDeleted",t.ra),Ee(hc(t),"userInvalidated",t.sa),Iu(hc(t))),e&&(e.N.push(t.Ha),ve(e,"tokenChanged",t.qa),ve(e,"userDeleted",t.ra),ve(e,"userInvalidated",t.sa),0<t.u&&ku(e)),Ir(t,"currentUser",e),e&&(e.oa(t.ea()),wu(e,t),Eu(e,t.G),Tu(e,t))}function cc(t,e){var n=null,r=null;return pc(t,e.then(function(e){return n=_i(e),r=$r(e),sc(t,e)}).then(function(){return Cr({user:hc(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function lc(t){return t.app}function hc(t){return t.currentUser}function fc(t){return hc(t)&&hc(t)._lat||null}function dc(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](fc(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](fc(t))}}function pc(t,e){return t.N.push(e),e.ia(function(){j(t.N,e)}),e}function mc(){}function yc(){this.a={},this.b=1e12}Xu.prototype.jb=function(t){var e=null,n=this;return function(t){var e=new _r("invalid-persistence-type"),n=new _r("unsupported-persistence-type");t:{for(r in Ts)if(Ts[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Jn()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!ar()&&"none"!==t)throw n}}(t),nc(this,function(){return t!=n.c.A?n.b.get(n.c,n.a).then(function(r){return e=r,Yu(n,t)}).then(function(){if(n.c=$u(t),e)return n.b.set(n.c,e,n.a)}):St()})},E(rc,Oe),E(ic,se),E(oc,se),(t=rc.prototype).jb=function(t){return pc(this,t=this.h.jb(t))},t.oa=function(t){this.W===t||this.l||(this.W=t,zo(this.b,this.W),this.dispatchEvent(new ic(this.ea())))},t.ea=function(){return this.W},t.Qc=function(){var t=i.navigator;this.oa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.qc=function(t){this.G.push(t),Qo(this.b,e.SDK_VERSION?rr(e.SDK_VERSION,this.G):null),this.dispatchEvent(new oc(this.G))},t.xa=function(){return V(this.G)},t.toJSON=function(){return{apiKey:lc(this).options.apiKey,authDomain:lc(this).options.authDomain,appName:lc(this).name,currentUser:hc(this)&&hc(this).D()}},t.sb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?v(this.Xb,this):null},t.Xb=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var r=null,i=null,o=oa(n.b,t).then(function(t){return r=_i(t),i=$r(t),t});return pc(this,t=n.V.then(function(){return o}).then(function(t){return sc(n,t)}).then(function(){return Cr({user:hc(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}))},t.Hc=function(t){if(!sr())return kt(new _r("operation-not-supported-in-this-environment"));var n=this,r=Jr(t.providerId),i=pr(),o=null;(!lr()||Xn())&&lc(this).options.authDomain&&t.isOAuthProvider&&(o=es(lc(this).options.authDomain,lc(this).options.apiKey,lc(this).name,"signInViaPopup",t,null,i,e.SDK_VERSION||null));var a=Wn(o,r&&r.Ba,r&&r.Aa);return pc(this,r=ac(this).then(function(e){return eu(e,a,"signInViaPopup",t,i,!!o)}).then(function(){return new yt(function(t,e){n.ha("signInViaPopup",null,new _r("cancelled-popup-request"),n.g),n.f=t,n.v=e,n.g=i,n.c=n.a.Ea(n,"signInViaPopup",a,i)})}).then(function(t){return a&&Kn(a),t?Cr(t):null}).s(function(t){throw a&&Kn(a),t}))},t.Ic=function(t){if(!sr())return kt(new _r("operation-not-supported-in-this-environment"));var e=this;return pc(this,ac(this).then(function(){return nc(t=e.h,function(){return t.b.set(Ju,t.c.A,t.a)});var t}).then(function(){return e.a.Ca("signInViaRedirect",t)}))},t.fa=function(){if(!sr())return kt(new _r("operation-not-supported-in-this-environment"));var t=this;return pc(this,ac(this).then(function(){return t.a.fa()}).then(function(t){return t?Cr(t):null}))},t.Oc=function(t){if(!t)return kt(new _r("null-user"));var e=this,n={};n.apiKey=lc(this).options.apiKey,n.authDomain=lc(this).options.authDomain,n.appName=lc(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.u,appName:t.o};var i=t.h,o={};return o[qo]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-w())/1e3,e=new bu(e,o),n&&(e.ba=n),r&&Eu(e,r),Lu(e,t),e}(t,n,e.w,e.xa());return pc(this,this.i.then(function(){if(lc(e).options.apiKey!=t.l)return r.reload()}).then(function(){return hc(e)&&t.uid==hc(e).uid?(Lu(hc(e),t),e.Z(t)):(uc(e,r),Nu(r),e.Z(r))}).then(function(){dc(e)}))},t.kb=function(){var t=this;return pc(this,this.i.then(function(){return hc(t)?(uc(t,null),tc(t.h).then(function(){dc(t)})):St()}))},t.Jc=function(){var t=this;return ec(this.h,lc(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=hc(t)&&e){n=hc(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Lu(hc(t),e),hc(t).F();(hc(t)||e)&&(uc(t,e),e&&(Nu(e),e.ba=t.w),t.a&&t.a.subscribe(t),dc(t))}})},t.Z=function(t){return Zu(this.h,t)},t.Yb=function(){dc(this),this.Z(hc(this))},t.gc=function(){this.kb()},t.hc=function(){this.kb()},t.ic=function(t){var e=this;this.addAuthTokenListener(function(){t.next(hc(e))})},t.jc=function(t){var e=this;!function(t,e){t.I.push(e),pc(t,t.i.then(function(){!t.l&&F(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(fc(t)))}))}(this,function(){t.next(hc(e))})},t.sc=function(t,n,r){var i=this;return this.X&&e.Promise.resolve().then(function(){f(t)?t(hc(i)):f(t.next)&&t.next(hc(i))}),this.Pb(t,n,r)},t.rc=function(t,n,r){var i=this;return this.X&&e.Promise.resolve().then(function(){i.O=i.getUid(),f(t)?t(hc(i)):f(t.next)&&t.next(hc(i))}),this.Qb(t,n,r)},t.$b=function(t){var e=this;return pc(this,this.i.then(function(){return hc(e)?hc(e).F(t).then(function(t){return{accessToken:t}}):null}))},t.Jb=function(t){var e=this;return this.i.then(function(){return cc(e,La(e.b,xa,{token:t}))}).then(function(t){var n=t.user;return Mu(n,"isAnonymous",!1),e.Z(n),t})},t.Bc=function(t){return Sr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Jb(t)},t.Cc=function(t,e){return Sr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Kb(t,e)},t.Kb=function(t,e){var n=this;return this.i.then(function(){return cc(n,La(n.b,Da,{email:t,password:e}))})},t.ub=function(t,e){var n=this;return this.i.then(function(){return cc(n,La(n.b,ha,{email:t,password:e}))})},t.Sb=function(t,e){return Sr("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.ub(t,e)},t.Ec=function(t){return Sr("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Oa(t).then(function(t){return t.user})},t.Oa=function(t){var e=this;return this.i.then(function(){return cc(e,t.ya(e.b))})},t.Pa=function(){var t=this;return this.i.then(function(){var e=hc(t);return e&&e.isAnonymous?Cr({user:e,credential:null,additionalUserInfo:Cr({providerId:null,isNewUser:!1}),operationType:"signIn"}):cc(t,t.b.Pa()).then(function(e){var n=e.user;return Mu(n,"isAnonymous",!0),t.Z(n),e})})},t.Dc=function(){return Sr("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Pa()},t.getUid=function(){return hc(this)&&hc(this).uid||null},t.Rb=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&hc(this)&&ku(hc(this))},t.zc=function(t){var e=this;P(this.o,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&hc(this)&&Iu(hc(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.o.push(t),pc(this,this.i.then(function(){e.l||F(e.o,t)&&t(fc(e))}))},t.removeAuthTokenListener=function(t){B(this.o,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener($u("local"),t.a,this.ka),this.a&&this.a.unsubscribe(this),e.Promise.resolve()},t.Vb=function(t){return Sr("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),pc(this,function(t,e){return La(t,fa,{identifier:e,continueUri:ur()?Vn():"http://localhost"}).then(function(t){return t.allProviders||[]})}(this.b,t))},t.Wb=function(t){return pc(this,function(t,e){return La(t,fa,{identifier:e,continueUri:ur()?Vn():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.kc=function(t){return!!ki(t)},t.ib=function(t,e){var n=this;return pc(this,St().then(function(){var t=new Rr(e);if(!t.c)throw new _r("argument-error",Mr+" must be true when sending sign in link to email");return qr(t)}).then(function(e){return n.b.ib(t,e)}).then(function(){}))},t.Rc=function(t){return this.Ja(t).then(function(t){return t.data.email})},t.Xa=function(t,e){return pc(this,this.b.Xa(t,e).then(function(){}))},t.Ja=function(t){return pc(this,this.b.Ja(t).then(function(t){return new function(t){var e={},n=t.email,r=t.newEmail;if(!(t=t.requestType)||"EMAIL_SIGNIN"!=t&&!n)throw Error("Invalid provider user info!");e.fromEmail=r||null,e.email=n||null,Ir(this,"operation",t),Ir(this,"data",Nr(e))}(t)}))},t.Va=function(t){return pc(this,this.b.Va(t).then(function(){}))},t.hb=function(t,e){var n=this;return pc(this,St().then(function(){return void 0===e||ot(e)?{}:qr(new Rr(e))}).then(function(e){return n.b.hb(t,e)}).then(function(){}))},t.Gc=function(t,e){return pc(this,fu(this,t,e,v(this.Oa,this)))},t.Fc=function(t,e){var n=this;return pc(this,St().then(function(){var r=Si(t,e||Vn());return n.Oa(r)}))},mc.prototype.render=function(){},mc.prototype.reset=function(){},mc.prototype.getResponse=function(){},mc.prototype.execute=function(){};var gc=null;function vc(t,e){return(e=bc(e))&&t.a[e]||null}function bc(t){return(t=void 0===t?1e12:t)?t.toString():null}function wc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Dn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ve(this.f,"click",this.i)}function Ec(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Tc(){}yc.prototype.render=function(t,e){return this.a[this.b.toString()]=new wc(t,e),this.b++},yc.prototype.reset=function(t){var e=vc(this,t);t=bc(t),e&&t&&(e.delete(),delete this.a[t])},yc.prototype.getResponse=function(t){return(t=vc(this,t))?t.getResponse():null},yc.prototype.execute=function(t){(t=vc(this,t))&&t.execute()},wc.prototype.getResponse=function(){return Ec(this),this.b},wc.prototype.execute=function(){Ec(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))},wc.prototype.delete=function(){Ec(this),this.g=!0,clearTimeout(this.a),this.a=null,Ee(this.f,"click",this.i)},Tc.prototype.g=function(){return gc||(gc=new yc),St(gc)},Tc.prototype.c=function(){};var Sc=null;function kc(){this.b=i.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ic=yn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ac=new gr(3e4,6e4);kc.prototype.g=function(t){var e=this;return new yt(function(n,r){var o=setTimeout(function(){r(new _r("network-request-failed"))},Ac.get());!i.grecaptcha||t!==e.f&&!e.b?(i[e.a]=function(){if(i.grecaptcha){e.f=t;var a=i.grecaptcha.render;i.grecaptcha.render=function(t,n){return t=a(t,n),e.b++,t},clearTimeout(o),n(i.grecaptcha)}else clearTimeout(o),r(new _r("internal-error"));delete i[e.a]},St(Ro(bn(Ic,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(o),r(new _r("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(o),n(i.grecaptcha))})},kc.prototype.c=function(){this.b--};var Cc=null;function Nc(t,e,n,r,o,a,s){if(Ir(this,"type","recaptcha"),this.c=this.f=null,this.C=!1,this.l=e,this.g=null,s?(Sc||(Sc=new Tc),s=Sc):(Cc||(Cc=new kc),s=Cc),this.o=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[xc])throw new _r("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Dc],!i.document)throw new _r("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Dn(e)||!this.i&&Dn(e).hasChildNodes())throw new _r("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Uo(t,a||null,o||null),this.v=r||function(){return null};var u=this;this.m=[];var c=this.a[_c];this.a[_c]=function(t){if(Rc(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=or(c,i);"function"==typeof e&&e(t)}};var l=this.a[Oc];this.a[Oc]=function(){if(Rc(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=or(l,i);"function"==typeof t&&t()}}}var _c="callback",Oc="expired-callback",xc="sitekey",Dc="size";function Rc(t,e){for(var n=0;n<t.m.length;n++)try{t.m[n](e)}catch(t){}}function Pc(t,e){return t.h.push(e),e.ia(function(){j(t.h,e)}),e}function Mc(t){if(t.C)throw new _r("internal-error","RecaptchaVerifier instance has been destroyed.")}function Lc(t,n,r){var i=!1;try{this.b=r||e.app()}catch(t){throw new _r("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new _r("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().xa()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}a=e.SDK_VERSION?rr(e.SDK_VERSION,a):null,Nc.call(this,r,t,n,function(){try{var t=o.b.auth().ea()}catch(e){t=null}return t},a,Va(Ba),i)}function Fc(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new _r("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=jc.length)throw new _r("internal-error","Argument validator received an unsupported number of arguments.");n=jc[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new _r("argument-error",t+" failed: "+r)}(t=Nc.prototype).za=function(){var t=this;return this.f?this.f:this.f=Pc(this,St().then(function(){if(ur()&&!Yn())return zn();throw new _r("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.o.g(t.v())}).then(function(e){return t.g=e,La(t.u,Ta,{})}).then(function(e){t.a[xc]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){Mc(this);var t=this;return Pc(this,this.za().then(function(){if(null===t.c){var e=t.l;if(!t.i){var n=Dn(e);e=function(t,e,n){var r=arguments,i=document,a=String(r[0]),s=r[1];if(!fn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',K(s.name),'"'),s.type){a.push(' type="',K(s.type),'"');var u={};lt(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=i.createElement(a),s&&(o(s)?a.className=s:l(s)?a.className=s.join(" "):Rn(a,s)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(o(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var a=n[i];!h(a)||d(a)&&0<a.nodeType?r(a):P(Mn(a)?V(a):a,r)}}(i,a,r),a}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Mc(this);var t=this;return Pc(this,this.render().then(function(e){return new yt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){B(t.m,function(t){return t==e})}(t,i),n(e))};t.m.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Mc(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Mc(this),this.C=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Dn(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}},E(Lc,Nc);var jc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Bc(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:o}}function Uc(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:a}}function Vc(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:d}}function qc(t,e){return{name:t||"",K:"a function",optional:!!e,M:f}}function Hc(t,e){return{name:t||"",K:"null",optional:!!e,M:c}}function Kc(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ya||!n)}}}function Wc(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&o(t.type)&&f(t.verify))}}}function Gc(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function zc(t,e){for(var n in e){var r=e[n].name;t[r]=Yc(r,t[n],e[n].j)}}function Qc(t,e){for(var n in e){var r=e[n].name;if(r!==n){var i=e[n].qb;Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){Fc(r,[i],[t],!0),this[n]=t},enumerable:!0})}}}function Xc(t,e,n,r){t[e]=Yc(e,n,r)}function Yc(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Fc(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}zc(rc.prototype,{Va:{name:"applyActionCode",j:[Bc("code")]},Ja:{name:"checkActionCode",j:[Bc("code")]},Xa:{name:"confirmPasswordReset",j:[Bc("code"),Bc("newPassword")]},ub:{name:"createUserWithEmailAndPassword",j:[Bc("email"),Bc("password")]},Sb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Bc("email"),Bc("password")]},Vb:{name:"fetchProvidersForEmail",j:[Bc("email")]},Wb:{name:"fetchSignInMethodsForEmail",j:[Bc("email")]},fa:{name:"getRedirectResult",j:[]},kc:{name:"isSignInWithEmailLink",j:[Bc("emailLink")]},rc:{name:"onAuthStateChanged",j:[Gc(Vc(),qc(),"nextOrObserver"),qc("opt_error",!0),qc("opt_completed",!0)]},sc:{name:"onIdTokenChanged",j:[Gc(Vc(),qc(),"nextOrObserver"),qc("opt_error",!0),qc("opt_completed",!0)]},hb:{name:"sendPasswordResetEmail",j:[Bc("email"),Gc(Vc("opt_actionCodeSettings",!0),Hc(null,!0),"opt_actionCodeSettings",!0)]},ib:{name:"sendSignInLinkToEmail",j:[Bc("email"),Vc("actionCodeSettings")]},jb:{name:"setPersistence",j:[Bc("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",j:[Kc()]},Pa:{name:"signInAnonymously",j:[]},Dc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Ec:{name:"signInWithCredential",j:[Kc()]},Jb:{name:"signInWithCustomToken",j:[Bc("token")]},Bc:{name:"signInAndRetrieveDataWithCustomToken",j:[Bc("token")]},Kb:{name:"signInWithEmailAndPassword",j:[Bc("email"),Bc("password")]},Fc:{name:"signInWithEmailLink",j:[Bc("email"),Bc("emailLink",!0)]},Cc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Bc("email"),Bc("password")]},Gc:{name:"signInWithPhoneNumber",j:[Bc("phoneNumber"),Wc()]},Hc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ic:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"updateCurrentUser",j:[Gc({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof bu)}},Hc(),"user")]},kb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Bc(null,!0)]},Qc:{name:"useDeviceLanguage",j:[]},Rc:{name:"verifyPasswordResetCode",j:[Bc("code")]}}),Qc(rc.prototype,{lc:{name:"languageCode",qb:Gc(Bc(),Hc(),"languageCode")}}),rc.Persistence=Ts,rc.Persistence.LOCAL="local",rc.Persistence.SESSION="session",rc.Persistence.NONE="none",zc(bu.prototype,{delete:{name:"delete",j:[]},ac:{name:"getIdTokenResult",j:[Uc("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[Uc("opt_forceRefresh",!0)]},ab:{name:"linkAndRetrieveDataWithCredential",j:[Kc()]},mc:{name:"linkWithCredential",j:[Kc()]},nc:{name:"linkWithPhoneNumber",j:[Bc("phoneNumber"),Wc()]},oc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},pc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Kc()]},vc:{name:"reauthenticateWithCredential",j:[Kc()]},wc:{name:"reauthenticateWithPhoneNumber",j:[Bc("phoneNumber"),Wc()]},xc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},yc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},gb:{name:"sendEmailVerification",j:[Gc(Vc("opt_actionCodeSettings",!0),Hc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Bc(null,!0)]},Nc:{name:"unlink",j:[Bc("provider")]},mb:{name:"updateEmail",j:[Bc("email")]},nb:{name:"updatePassword",j:[Bc("password")]},Pc:{name:"updatePhoneNumber",j:[Kc("phone")]},ob:{name:"updateProfile",j:[Vc("profile")]}}),zc(yc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),zc(mc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),zc(yt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Qc(lu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",qb:Uc("appVerificationDisabledForTesting")}}),zc(hu.prototype,{confirm:{name:"confirm",j:[Bc("verificationCode")]}}),Xc(Ti,"credential",function(t,e){return new Ei(t,e)},[Bc("email"),Bc("password")]),zc(di.prototype,{ta:{name:"addScope",j:[Bc("scope")]},Da:{name:"setCustomParameters",j:[Vc("customOAuthParameters")]}}),Xc(di,"credential",pi,[Gc(Bc(),Vc(),"token")]),Xc(Ti,"credentialWithLink",Si,[Bc("email"),Bc("emailLink")]),zc(mi.prototype,{ta:{name:"addScope",j:[Bc("scope")]},Da:{name:"setCustomParameters",j:[Vc("customOAuthParameters")]}}),Xc(mi,"credential",yi,[Gc(Bc(),Vc(),"token")]),zc(gi.prototype,{ta:{name:"addScope",j:[Bc("scope")]},Da:{name:"setCustomParameters",j:[Vc("customOAuthParameters")]}}),Xc(gi,"credential",vi,[Gc(Bc(),Gc(Vc(),Hc()),"idToken"),Gc(Bc(),Hc(),"accessToken",!0)]),zc(bi.prototype,{Da:{name:"setCustomParameters",j:[Vc("customOAuthParameters")]}}),Xc(bi,"credential",wi,[Gc(Bc(),Vc(),"token"),Bc("secret",!0)]),zc(fi.prototype,{ta:{name:"addScope",j:[Bc("scope")]},credential:{name:"credential",j:[Gc(Bc(),Hc(),"idToken",!0),Gc(Bc(),Hc(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[Vc("customOAuthParameters")]}}),Xc(Ci,"credential",Ni,[Bc("verificationId"),Bc("verificationCode")]),zc(Ci.prototype,{Ta:{name:"verifyPhoneNumber",j:[Bc("phoneNumber"),Wc()]}}),zc(_r.prototype,{toJSON:{name:"toJSON",j:[Bc(null,!0)]}}),zc(Li.prototype,{toJSON:{name:"toJSON",j:[Bc(null,!0)]}}),zc(Mi.prototype,{toJSON:{name:"toJSON",j:[Bc(null,!0)]}}),zc(Lc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===e||!e.INTERNAL||!e.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:rc,Error:_r};Xc(t,"EmailAuthProvider",Ti,[]),Xc(t,"FacebookAuthProvider",di,[]),Xc(t,"GithubAuthProvider",mi,[]),Xc(t,"GoogleAuthProvider",gi,[]),Xc(t,"TwitterAuthProvider",bi,[]),Xc(t,"OAuthProvider",fi,[Bc("providerId")]),Xc(t,"PhoneAuthProvider",Ci,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof rc)}}]),Xc(t,"RecaptchaVerifier",Lc,[Gc(Bc(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Vc("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof e.app.App)}}]),e.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:v((t=new rc(t)).getUid,t),getToken:v(t.$b,t),addAuthTokenListener:v(t.Rb,t),removeAuthTokenListener:v(t.zc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),e.INTERNAL.extendNamespace({User:bu})}()}).call(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(246))},function(t,e,n){"use strict";n(336)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(268),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!=s){var l=a<<4&240|s>>2;if(r.push(l),64!=u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),f=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},d="FirebaseError",p=Error.captureStackTrace,m=function(t,e){if(this.code=t,this.message=e,p)p(this,y.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=d,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}};m.prototype=Object.create(Error.prototype),m.prototype.constructor=m,m.prototype.name=d;var y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new m(i,n);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}();function g(t){return JSON.parse(t)}var v=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=g(c(o[0])||""),n=g(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}},b=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},w=function(t,e){return b(e,function(e,n){t[e]=n}),t},E=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},T=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},e}(function(){this.blockSize=-1}),S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function k(){}function I(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+(r+" argument ")}e.assert=o,e.assertionError=a,e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.CONSTANTS=i,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.patchProperty=function(t,e,n){t[e]=n},e.Deferred=h,e.getUA=f,e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.ErrorFactory=y,e.FirebaseError=m,e.patchCapture=function(t){var e=p;return p=t,e},e.jsonEval=g,e.stringify=function(t){return JSON.stringify(t)},e.decode=v,e.isAdmin=function(t){var e=v(t).claims;return"object"==typeof e&&!0===e.admin},e.issuedAtTime=function(t){var e=v(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.isValidFormat=function(t){var e=v(t),n=e.claims;return!!e.signature&&!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=v(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),i&&e&&n&&i>=e&&i<=n},e.clone=function(t){return w({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=w,e.findKey=E,e.findValue=function(t,e,n){var r=E(t,e,n);return r&&t[r]},e.forEach=b,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.querystring=function(t){var e=[];return b(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.Sha1=T,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.createSubscribe=function(t,e){var n=new S(t,e);return n.subscribe.bind(n)},e.errorPrefix=I,e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(I(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(I(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(I(t,e,r)+"must be a valid firebase namespace.")},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}},function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};l.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},l.prototype.delete=function(t){delete this.map[s(t)]},l.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},l.prototype.set=function(t,e){this.map[s(t)]=u(e)},l.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},l.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),c(t)},l.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},l.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),c(t)},e.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},m.call(y.prototype),m.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];v.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.Headers=l,t.Request=y,t.Response=v,t.fetch=function(t,n){return new Promise(function(r,i){var o=new y(t,n),a=new XMLHttpRequest;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new l,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new v(i,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function c(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(t){this.map={},t instanceof l?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function d(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t,e,n,r=h(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=f(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(t,e){var n,r,i=(e=e||{}).body;if(t instanceof y){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),o.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function g(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function v(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,a,s,u=1,c={},l=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){p(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}):t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},r=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(t){var e=h.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(p,0,t)},f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[u]=i,r(u),u++},f.clearImmediate=d}function d(t){delete c[t]}function p(t){if(l)setTimeout(p,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{d(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(246),n(257))},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(340),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(246))},function(t,e,n){"use strict";n.r(e),function(t,e){n(339);var r=setTimeout;function i(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,r)}else(1===t._state?s:u)(e.promise,t._value)})):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void l((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(e){u(t,e)}var r,i}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return a(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},o.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},o.all=function(t){return new o(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){o(t,e)},n)}r[t]=a,0==--i&&e(r)}catch(t){n(t)}}for(var a=0;a<r.length;a++)o(a,r[a])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){r(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();function f(t,e){return t(e={exports:{}},e.exports),e.exports}h.Promise||(h.Promise=o);var d=f(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),p=f(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)}),m=(p.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),y=function(t){if(!m(t))throw TypeError(t+" is not an object!");return t},g=function(t){try{return!!t()}catch(t){return!0}},v=!g(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),b=d.document,w=m(b)&&m(b.createElement),E=function(t){return w?b.createElement(t):{}},T=!v&&!g(function(){return 7!=Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a}),S=function(t,e){if(!m(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!m(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!m(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!m(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},k=Object.defineProperty,I={f:v?Object.defineProperty:function(t,e,n){if(y(t),e=S(e,!0),y(n),T)try{return k(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},A=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},C=v?function(t,e,n){return I.f(t,e,A(1,n))}:function(t,e,n){return t[e]=n,t},N={}.hasOwnProperty,_=function(t,e){return N.call(t,e)},O=0,x=Math.random(),D=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++O+x).toString(36))},R=f(function(t){var e=D("src"),n=Function.toString,r=(""+n).split("toString");p.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,i,o){var a="function"==typeof i;a&&(_(i,"name")||C(i,"name",n)),t[n]!==i&&(a&&(_(i,e)||C(i,e,t[n]?""+t[n]:r.join(String(n)))),t===d?t[n]=i:o?t[n]?t[n]=i:C(t,n,i):(delete t[n],C(t,n,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),P=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},M=function(t,e,n){var r,i,o,a,s=t&M.F,u=t&M.G,c=t&M.S,l=t&M.P,h=t&M.B,f=u?d:c?d[e]||(d[e]={}):(d[e]||{}).prototype,m=u?p:p[e]||(p[e]={}),y=m.prototype||(m.prototype={});for(r in u&&(n=e),n)o=((i=!s&&f&&void 0!==f[r])?f:n)[r],a=h&&i?P(o,d):l&&"function"==typeof o?P(Function.call,o):o,f&&R(f,r,o,t&M.U),m[r]!=o&&C(m,r,a),l&&y[r]!=o&&(y[r]=o)};d.core=p,M.F=1,M.G=2,M.S=4,M.P=8,M.B=16,M.W=32,M.U=64,M.R=128;var L=M,F={}.toString,j=function(t){return F.call(t).slice(8,-1)},B=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==j(t)?t.split(""):Object(t)},U=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},V=function(t){return Object(U(t))},q=Math.ceil,H=Math.floor,K=function(t){return isNaN(t=+t)?0:(t>0?H:q)(t)},W=Math.min,G=function(t){return t>0?W(K(t),9007199254740991):0},z=Array.isArray||function(t){return"Array"==j(t)},Q=d["__core-js_shared__"]||(d["__core-js_shared__"]={}),X=function(t){return Q[t]||(Q[t]={})},Y=f(function(t){var e=X("wks"),n=d.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:D)("Symbol."+t))}).store=e}),J=Y("species"),$=function(t,e){return new(function(t){var e;return z(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!z(e.prototype)||(e=void 0),m(e)&&null===(e=e[J])&&(e=void 0)),void 0===e?Array:e}(t))(e)},Z=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,a=6==t,s=5==t||a,u=e||$;return function(e,c,l){for(var h,f,d=V(e),p=B(d),m=P(c,l,3),y=G(p.length),g=0,v=n?u(e,y):r?u(e,0):void 0;y>g;g++)if((s||g in p)&&(f=m(h=p[g],g,d),t))if(n)v[g]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:v.push(h)}else if(o)return!1;return a?-1:i||o?o:v}},tt=Y("unscopables"),et=Array.prototype;void 0==et[tt]&&C(et,tt,{});var nt=function(t){et[tt][t]=!0},rt=Z(5),it=!0;"find"in[]&&Array(1).find(function(){it=!1}),L(L.P+L.F*it,"Array",{find:function(t){return rt(this,t,arguments.length>1?arguments[1]:void 0)}}),nt("find"),p.Array.find;var ot=Z(6),at=!0;"findIndex"in[]&&Array(1).findIndex(function(){at=!1}),L(L.P+L.F*at,"Array",{findIndex:function(t){return ot(this,t,arguments.length>1?arguments[1]:void 0)}}),nt("findIndex"),p.Array.findIndex;var st=function(t){return B(U(t))},ut=Math.max,ct=Math.min,lt=X("keys"),ht=function(t){return lt[t]||(lt[t]=D(t))},ft=(!1,function(t,e,n){var r=st(t),i=G(r.length),o=function(t,e){return(t=K(t))<0?ut(t+e,0):ct(t,e)}(n,i);for(0;i>o;o++)if(o in r&&r[o]===e)return o||0;return-1}),dt=ht("IE_PROTO"),pt=function(t,e){var n,r=st(t),i=0,o=[];for(n in r)n!=dt&&_(r,n)&&o.push(n);for(;e.length>i;)_(r,n=e[i++])&&(~ft(o,n)||o.push(n));return o},mt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),yt=Object.keys||function(t){return pt(t,mt)},gt={f:Object.getOwnPropertySymbols},vt={f:{}.propertyIsEnumerable},bt=Object.assign,wt=!bt||g(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=bt({},t)[n]||Object.keys(bt({},e)).join("")!=r})?function(t,e){for(var n=V(t),r=arguments.length,i=1,o=gt.f,a=vt.f;r>i;)for(var s,u=B(arguments[i++]),c=o?yt(u).concat(o(u)):yt(u),l=c.length,h=0;l>h;)a.call(u,s=c[h++])&&(n[s]=u[s]);return n}:bt;L(L.S+L.F,"Object",{assign:wt}),p.Object.assign;var Et=Y("match"),Tt=Y("match"),St="".startsWith;L(L.P+L.F*function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Tt]=!1,!"/./"[t](e)}catch(t){}}return!0}("startsWith"),"String",{startsWith:function(t){var e=function(t,e,n){if(m(r=e)&&(void 0!==(i=r[Et])?i:"RegExp"==j(r)))throw TypeError("String#"+n+" doesn't accept regex!");var r,i;return String(U(t))}(this,t,"startsWith"),n=G(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return St?St.call(e,r,n):e.slice(n,n+r.length)===r}}),p.String.startsWith,L(L.P,"String",{repeat:function(t){var e=String(U(this)),n="",r=K(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}}),p.String.repeat;var kt=f(function(t){var e=D("meta"),n=I.f,r=0,i=Object.isExtensible||function(){return!0},o=!g(function(){return i(Object.preventExtensions({}))}),a=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},s=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!m(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!_(t,e)){if(!i(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!_(t,e)){if(!i(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return o&&s.NEED&&i(t)&&!_(t,e)&&a(t),t}}}),It=(kt.KEY,kt.NEED,kt.fastKey,kt.getWeak,kt.onFreeze,I.f),At=Y("toStringTag"),Ct=function(t,e,n){t&&!_(t=n?t:t.prototype,At)&&It(t,At,{configurable:!0,value:e})},Nt={f:Y},_t=I.f,Ot=function(t){var e=p.Symbol||(p.Symbol=d.Symbol||{});"_"==t.charAt(0)||t in e||_t(e,t,{value:Nt.f(t)})},xt=v?Object.defineProperties:function(t,e){y(t);for(var n,r=yt(e),i=r.length,o=0;i>o;)I.f(t,n=r[o++],e[n]);return t},Dt=d.document,Rt=Dt&&Dt.documentElement,Pt=ht("IE_PROTO"),Mt=function(){},Lt=function(){var t,e=E("iframe"),n=mt.length;for(e.style.display="none",Rt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Lt=t.F;n--;)delete Lt.prototype[mt[n]];return Lt()},Ft=Object.create||function(t,e){var n;return null!==t?(Mt.prototype=y(t),n=new Mt,Mt.prototype=null,n[Pt]=t):n=Lt(),void 0===e?n:xt(n,e)},jt=mt.concat("length","prototype"),Bt={f:Object.getOwnPropertyNames||function(t){return pt(t,jt)}},Ut=Bt.f,Vt={}.toString,qt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ht={f:function(t){return qt&&"[object Window]"==Vt.call(t)?function(t){try{return Ut(t)}catch(t){return qt.slice()}}(t):Ut(st(t))}},Kt=Object.getOwnPropertyDescriptor,Wt={f:v?Kt:function(t,e){if(t=st(t),e=S(e,!0),T)try{return Kt(t,e)}catch(t){}if(_(t,e))return A(!vt.f.call(t,e),t[e])}},Gt=kt.KEY,zt=Wt.f,Qt=I.f,Xt=Ht.f,Yt=d.Symbol,Jt=d.JSON,$t=Jt&&Jt.stringify,Zt=Y("_hidden"),te=Y("toPrimitive"),ee={}.propertyIsEnumerable,ne=X("symbol-registry"),re=X("symbols"),ie=X("op-symbols"),oe=Object.prototype,ae="function"==typeof Yt,se=d.QObject,ue=!se||!se.prototype||!se.prototype.findChild,ce=v&&g(function(){return 7!=Ft(Qt({},"a",{get:function(){return Qt(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=zt(oe,e);r&&delete oe[e],Qt(t,e,n),r&&t!==oe&&Qt(oe,e,r)}:Qt,le=function(t){var e=re[t]=Ft(Yt.prototype);return e._k=t,e},he=ae&&"symbol"==typeof Yt.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Yt},fe=function(t,e,n){return t===oe&&fe(ie,e,n),y(t),e=S(e,!0),y(n),_(re,e)?(n.enumerable?(_(t,Zt)&&t[Zt][e]&&(t[Zt][e]=!1),n=Ft(n,{enumerable:A(0,!1)})):(_(t,Zt)||Qt(t,Zt,A(1,{})),t[Zt][e]=!0),ce(t,e,n)):Qt(t,e,n)},de=function(t,e){y(t);for(var n,r=function(t){var e=yt(t),n=gt.f;if(n)for(var r,i=n(t),o=vt.f,a=0;i.length>a;)o.call(t,r=i[a++])&&e.push(r);return e}(e=st(e)),i=0,o=r.length;o>i;)fe(t,n=r[i++],e[n]);return t},pe=function(t){var e=ee.call(this,t=S(t,!0));return!(this===oe&&_(re,t)&&!_(ie,t))&&(!(e||!_(this,t)||!_(re,t)||_(this,Zt)&&this[Zt][t])||e)},me=function(t,e){if(t=st(t),e=S(e,!0),t!==oe||!_(re,e)||_(ie,e)){var n=zt(t,e);return!n||!_(re,e)||_(t,Zt)&&t[Zt][e]||(n.enumerable=!0),n}},ye=function(t){for(var e,n=Xt(st(t)),r=[],i=0;n.length>i;)_(re,e=n[i++])||e==Zt||e==Gt||r.push(e);return r},ge=function(t){for(var e,n=t===oe,r=Xt(n?ie:st(t)),i=[],o=0;r.length>o;)!_(re,e=r[o++])||n&&!_(oe,e)||i.push(re[e]);return i};ae||(R((Yt=function(){if(this instanceof Yt)throw TypeError("Symbol is not a constructor!");var t=D(arguments.length>0?arguments[0]:void 0),e=function(n){this===oe&&e.call(ie,n),_(this,Zt)&&_(this[Zt],t)&&(this[Zt][t]=!1),ce(this,t,A(1,n))};return v&&ue&&ce(oe,t,{configurable:!0,set:e}),le(t)}).prototype,"toString",function(){return this._k}),Wt.f=me,I.f=fe,Bt.f=Ht.f=ye,vt.f=pe,gt.f=ge,v&&R(oe,"propertyIsEnumerable",pe,!0),Nt.f=function(t){return le(Y(t))}),L(L.G+L.W+L.F*!ae,{Symbol:Yt});for(var ve="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),be=0;ve.length>be;)Y(ve[be++]);for(var we=yt(Y.store),Ee=0;we.length>Ee;)Ot(we[Ee++]);L(L.S+L.F*!ae,"Symbol",{for:function(t){return _(ne,t+="")?ne[t]:ne[t]=Yt(t)},keyFor:function(t){if(!he(t))throw TypeError(t+" is not a symbol!");for(var e in ne)if(ne[e]===t)return e},useSetter:function(){ue=!0},useSimple:function(){ue=!1}}),L(L.S+L.F*!ae,"Object",{create:function(t,e){return void 0===e?Ft(t):de(Ft(t),e)},defineProperty:fe,defineProperties:de,getOwnPropertyDescriptor:me,getOwnPropertyNames:ye,getOwnPropertySymbols:ge}),Jt&&L(L.S+L.F*(!ae||g(function(){var t=Yt();return"[null]"!=$t([t])||"{}"!=$t({a:t})||"{}"!=$t(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(m(e)||void 0!==t)&&!he(t))return z(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!he(e))return e}),r[1]=e,$t.apply(Jt,r)}}),Yt.prototype[te]||C(Yt.prototype,te,Yt.prototype.valueOf),Ct(Yt,"Symbol"),Ct(Math,"Math",!0),Ct(d.JSON,"JSON",!0);var Te=Y("toStringTag"),Se="Arguments"==j(function(){return arguments}()),ke={};ke[Y("toStringTag")]="z",ke+""!="[object z]"&&R(Object.prototype,"toString",function(){return"[object "+(void 0===(t=this)?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Te))?n:Se?j(e):"Object"==(r=j(e))&&"function"==typeof e.callee?"Arguments":r)+"]";var t,e,n,r},!0),Ot("asyncIterator"),Ot("observable"),p.Symbol;var Ie={},Ae={};C(Ae,Y("iterator"),function(){return this});var Ce=ht("IE_PROTO"),Ne=Object.prototype,_e=Object.getPrototypeOf||function(t){return t=V(t),_(t,Ce)?t[Ce]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Ne:null},Oe=Y("iterator"),xe=!([].keys&&"next"in[].keys()),De=function(){return this},Re=function(t,e,n,r,i,o,a){!function(t,e,n){t.prototype=Ft(Ae,{next:A(1,n)}),Ct(t,e+" Iterator")}(n,e,r);var s,u,c,l=function(t){if(!xe&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",f="values"==i,d=!1,p=t.prototype,m=p[Oe]||p["@@iterator"]||i&&p[i],y=m||l(i),g=i?f?l("entries"):y:void 0,v="Array"==e&&p.entries||m;if(v&&(c=_e(v.call(new t)))!==Object.prototype&&c.next&&(Ct(c,h,!0),"function"!=typeof c[Oe]&&C(c,Oe,De)),f&&m&&"values"!==m.name&&(d=!0,y=function(){return m.call(this)}),(xe||d||!p[Oe])&&C(p,Oe,y),Ie[e]=y,Ie[h]=De,i)if(s={values:f?y:l("values"),keys:o?y:l("keys"),entries:g},a)for(u in s)u in p||R(p,u,s[u]);else L(L.P+L.F*(xe||d),e,s);return s},Pe=(!0,function(t,e){var n,r,i=String(U(t)),o=K(e),a=i.length;return o<0||o>=a?"":(n=i.charCodeAt(o))<55296||n>56319||o+1===a||(r=i.charCodeAt(o+1))<56320||r>57343?i.charAt(o):i.slice(o,o+2)});Re(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Pe(e,n),this._i+=t.length,{value:t,done:!1})});var Me=function(t,e){return{value:e,done:!!t}},Le=Re(Array,"Array",function(t,e){this._t=st(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Me(1)):Me(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Ie.Arguments=Ie.Array,nt("keys"),nt("values"),nt("entries");for(var Fe=Y("iterator"),je=Y("toStringTag"),Be=Ie.Array,Ue={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Ve=yt(Ue),qe=0;qe<Ve.length;qe++){var He,Ke=Ve[qe],We=Ue[Ke],Ge=d[Ke],ze=Ge&&Ge.prototype;if(ze&&(ze[Fe]||C(ze,Fe,Be),ze[je]||C(ze,je,Ke),Ie[Ke]=Be,We))for(He in Le)ze[He]||R(ze,He,Le[He],!0)}Nt.f("iterator")}.call(this,n(341).setImmediate,n(246))},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var r=n(270);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";var r=n(241);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";var r=n(241),i=n(347),o=n(271),a=n(254),s=n(346),u=n(345);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return c(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(c(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(241);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,n){"use strict";var r=n(241);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";function r(){this.message="String contains an invalid character"}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,i=String(t),o="",a=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.charAt(0|a)||(s="=",a%1);o+=s.charAt(63&e>>8-a%1*8)){if((n=i.charCodeAt(a+=.75))>255)throw new r;e=e<<8|n}return o}},function(t,e,n){"use strict";var r=n(241);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(241),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},function(t,e,n){"use strict";var r=n(241);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))}))}),o=a.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t}},function(t,e,n){"use strict";var r=n(272);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";var r=n(241);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(254),i=n(241),o=n(349),a=n(348);function s(t){this.defaults=t,this.interceptors={request:new o,response:new o}}s.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=s},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";var r=n(241),i=n(274),o=n(358),a=n(254);function s(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=s(a);u.Axios=o,u.create=function(t){return s(r.merge(a,t))},u.Cancel=n(270),u.CancelToken=n(344),u.isCancel=n(271),u.all=function(t){return Promise.all(t)},u.spread=n(343),t.exports=u,t.exports.default=u},function(t,e,n){t.exports=n(360)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=a(n(1)),o=a(n(278));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return i.default.createElement(o.default,r({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><path d="M12.938 4.967c-.518-.978-1.36-.974-1.876 0L3.938 18.425c-.518.978-.045 1.771 1.057 1.771h14.01c1.102 0 1.573-.797 1.057-1.771L12.938 4.967z" fill="currentColor"/><path d="M12 15a1 1 0 0 1-1-1V9a1 1 0 0 1 2 0v5a1 1 0 0 1-1 1m0 3a1 1 0 0 1 0-2 1 1 0 0 1 0 2" fill="inherit"/></g></svg>'},t))}},function(t,e,n){var r=n(276),i=n(275);t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[o+s]=a[s];return e||i(a)}},function(t,e,n){var r,i,o=n(276),a=n(275),s=0,u=0;t.exports=function(t,e,n){var c=e&&n||0,l=e||[],h=(t=t||{}).node||r,f=void 0!==t.clockseq?t.clockseq:i;if(null==h||null==f){var d=o();null==h&&(h=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==f&&(f=i=16383&(d[6]<<8|d[7]))}var p=void 0!==t.msecs?t.msecs:(new Date).getTime(),m=void 0!==t.nsecs?t.nsecs:u+1,y=p-s+(m-u)/1e4;if(y<0&&void 0===t.clockseq&&(f=f+1&16383),(y<0||p>s)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=m,i=f;var g=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var v=p/4294967296*1e4&268435455;l[c++]=v>>>8&255,l[c++]=255&v,l[c++]=v>>>24&15|16,l[c++]=v>>>16&255,l[c++]=f>>>8|128,l[c++]=255&f;for(var b=0;b<6;++b)l[c+b]=h[b];return e||a(l)}},function(t,e,n){var r=n(364),i=n(363),o=i;o.v1=r,o.v4=i,t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.size=e.IconWrapper=void 0;var r=v(n(255)),i=v(n(284)),o=v(n(247)),a=v(n(237)),s=v(n(48)),u=v(n(236)),c=v(n(81)),l=v(n(80)),h=(0,v(n(239)).default)(["\n  "," color: ",";\n  display: inline-block;\n  fill: ",";\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"],["\n  "," color: ",";\n  display: inline-block;\n  fill: ",";\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"]),f=n(1),d=v(f),p=v(n(238)),m=v(n(365)),y=n(244),g=n(277);function v(t){return t&&t.__esModule?t:{default:t}}var b=function(t){return t.size?"height: "+g.sizes[t.size]+"; width: "+g.sizes[t.size]+";":null},w=e.IconWrapper=p.default.span(h,b,function(t){return t.primaryColor||"currentColor"},function(t){return t.secondaryColor||y.colors.background},b),E=function(t){function e(){return(0,s.default)(this,e),(0,c.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t=this.props,n=t.glyph,r=t.dangerouslySetGlyph,i=t.onClick,o=t.primaryColor,a=t.secondaryColor,s=t.size;return r?d.default.createElement(w,{onClick:i,primaryColor:o,secondaryColor:a,size:s,"aria-label":this.props.label,dangerouslySetInnerHTML:{__html:e.insertDynamicGradientID(r)}}):d.default.createElement(w,{onClick:i,primaryColor:o,secondaryColor:a,size:s,"aria-label":this.props.label},n?d.default.createElement(n,{role:"presentation"}):null)}}],[{key:"insertDynamicGradientID",value:function(t){var e=(0,m.default)();return t.replace(/id="([^"]+)-idPlaceholder"/g,"id=$1-"+e).replace(/fill="url\(#([^"]+)-idPlaceholder\)"/g,'fill="url(#$1-'+e+')"')}}]),e}(f.Component);E.defaultProps={onClick:function(){}},e.default=E,e.size=(0,o.default)(g.sizes).reduce(function(t,e){return(0,i.default)(t,(0,r.default)({},e,e))},{})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(0,a(n(239)).default)(["\n  width: ",";\n  height: ",";\n  display: inline-block;\n  border-radius: 50%;\n  background-color: ",";\n  opacity: ",";\n"],["\n  width: ",";\n  height: ",";\n  display: inline-block;\n  border-radius: 50%;\n  background-color: ",";\n  opacity: ",";\n"]),i=a(n(238)),o=n(277);function a(t){return t&&t.__esModule?t:{default:t}}e.default=i.default.div(r,function(t){return o.sizes[t.size]},function(t){return o.sizes[t.size]},function(t){return t.color||"currentColor"},function(t){return"strong"===t.weight?.3:.15})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(237)),i=h(n(48)),o=h(n(236)),a=h(n(81)),s=h(n(80)),u=n(1),c=h(u),l=h(n(367));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){return(0,i.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,o.default)(e,[{key:"render",value:function(){return c.default.createElement(l.default,this.props)}}]),e}(u.Component);f.defaultProps={size:"medium",weight:"normal"},e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=a(n(1)),o=a(n(278));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return i.default.createElement(o.default,r({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><path d="M13.416 4.417a2.002 2.002 0 0 0-2.832 0l-6.168 6.167a2.002 2.002 0 0 0 0 2.833l6.168 6.167a2.002 2.002 0 0 0 2.832 0l6.168-6.167a2.002 2.002 0 0 0 0-2.833l-6.168-6.167z" fill="currentColor"/><path d="M12 14a1 1 0 0 1-1-1V8a1 1 0 0 1 2 0v5a1 1 0 0 1-1 1m0 3a1 1 0 0 1 0-2 1 1 0 0 1 0 2" fill="inherit"/></g></svg>'},t))}},function(t,e){t.exports={polyfill:function(){var t=window,e=t.document;function n(t){var e="focus"===t.type?"focusin":"focusout",n=new window.CustomEvent(e,{bubbles:!0,cancelable:!1});n.c1Generated=!0,t.target.dispatchEvent(n)}function r(t){t.c1Generated||(e.removeEventListener("focus",n,!0),e.removeEventListener("blur",n,!0),e.removeEventListener("focusin",r,!0),e.removeEventListener("focusout",r,!0)),setTimeout(function(){e.removeEventListener("focusin",r,!0),e.removeEventListener("focusout",r,!0)})}void 0===t.onfocusin&&(e.addEventListener("focus",n,!0),e.addEventListener("blur",n,!0),e.addEventListener("focusin",r,!0),e.addEventListener("focusout",r,!0))}}},function(t,e){t.exports=function(t,e){e=e||{};var n,r,i,o=t.ownerDocument||t,a=[],s=[],u=function(t){var e=[];return function(n){if(n===t.documentElement)return!1;var r=t.defaultView.getComputedStyle(n);return!!function n(r,i){if(r===t.documentElement)return!1;for(var o=0,a=e.length;o<a;o++)if(e[o][0]===r)return e[o][1];var s=!1;return"none"===(i=i||t.defaultView.getComputedStyle(r)).display?s=!0:r.parentNode&&(s=n(r.parentNode)),e.push([r,s]),s}(n,r)||"hidden"===r.visibility}}(o),c=["input","select","a[href]","textarea","button","[tabindex]"],l=t.querySelectorAll(c.join(","));if(e.includeContainer){var h=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;c.some(function(e){return h.call(t,e)})&&(l=Array.prototype.slice.apply(l)).unshift(t)}for(var f=0,d=l.length;f<d;f++)n=l[f],r=parseInt(n.getAttribute("tabindex"),10),(i=isNaN(r)?n.tabIndex:r)<0||"INPUT"===n.tagName&&"hidden"===n.type||n.disabled||u(n,o)||(0===i?a.push(n):s.push({index:f,tabIndex:i,node:n}));var p=s.sort(function(t,e){return t.tabIndex===e.tabIndex?t.index-e.index:t.tabIndex-e.tabIndex}).map(function(t){return t.node});return Array.prototype.push.apply(p,a),p}},function(t,e,n){"use strict";e.__esModule=!0,e.getChildMapping=function(t,e){var n=Object.create(null);return t&&r.Children.map(t,function(t){return t}).forEach(function(t){n[t.key]=function(t){return e&&(0,r.isValidElement)(t)?e(t):t}(t)}),n},e.mergeChildMappings=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var a=void 0,s={};for(var u in e){if(r[u])for(a=0;a<r[u].length;a++){var c=r[u][a];s[r[u][a]]=n(c)}s[u]=n(u)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s};var r=n(1)},function(t,e,n){"use strict";e.__esModule=!0;var r=s(n(0)),i=s(n(1)),o=n(49),a=s(n(279));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}r.default.bool.isRequired;var c=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=u(this,t.call.apply(t,[this].concat(o))),l.call(r),u(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.handleLifecycle=function(t,e,n){var r,a=this.props.children,s=i.default.Children.toArray(a)[e];s.props[t]&&(r=s.props)[t].apply(r,n),this.props[t]&&this.props[t]((0,o.findDOMNode)(this))},e.prototype.render=function(){var t=this.props,e=t.children,n=t.in,r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["children","in"]),o=i.default.Children.toArray(e),s=o[0],u=o[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,i.default.createElement(a.default,r,n?i.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):i.default.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},e}(i.default.Component),l=function(){var t=this;this.handleEnter=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},this.handleEntering=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},this.handleEntered=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},this.handleExit=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},this.handleExiting=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},this.handleExited=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)}};c.propTypes={},e.default=c,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.exports=function(t,e){t.classList?t.classList.remove(e):"string"==typeof t.className?t.className=r(t.className,e):t.setAttribute("class",r(t.className&&t.className.baseVal||"",e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t.classList?t.classList.add(e):(0,i.default)(t,e)||("string"==typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))};var r,i=(r=n(375))&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=l(n(376)),a=l(n(374)),s=l(n(1)),u=l(n(281)),c=n(280);function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=function(t,e){return t&&e&&e.split(" ").forEach(function(e){return(0,o.default)(t,e)})},d=function(t,e){return t&&e&&e.split(" ").forEach(function(e){return(0,a.default)(t,e)})},p=(r({},u.default.propTypes,{classNames:c.classNamesShape,onEnter:i.func,onEntering:i.func,onEntered:i.func,onExit:i.func,onExiting:i.func,onExited:i.func}),function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=h(this,t.call.apply(t,[this].concat(o))),r.onEnter=function(t,e){var n=r.getClassNames(e?"appear":"enter").className;r.removeClasses(t,"exit"),f(t,n),r.props.onEnter&&r.props.onEnter(t)},r.onEntering=function(t,e){var n=r.getClassNames(e?"appear":"enter").activeClassName;r.reflowAndAddClass(t,n),r.props.onEntering&&r.props.onEntering(t)},r.onEntered=function(t,e){var n=r.getClassNames("enter").doneClassName;r.removeClasses(t,e?"appear":"enter"),f(t,n),r.props.onEntered&&r.props.onEntered(t)},r.onExit=function(t){var e=r.getClassNames("exit").className;r.removeClasses(t,"appear"),r.removeClasses(t,"enter"),f(t,e),r.props.onExit&&r.props.onExit(t)},r.onExiting=function(t){var e=r.getClassNames("exit").activeClassName;r.reflowAndAddClass(t,e),r.props.onExiting&&r.props.onExiting(t)},r.onExited=function(t){var e=r.getClassNames("exit").doneClassName;r.removeClasses(t,"exit"),f(t,e),r.props.onExited&&r.props.onExited(t)},r.getClassNames=function(t){var e=r.props.classNames,n="string"!=typeof e?e[t]:e+"-"+t;return{className:n,activeClassName:"string"!=typeof e?e[t+"Active"]:n+"-active",doneClassName:"string"!=typeof e?e[t+"Done"]:n+"-done"}},h(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.removeClasses=function(t,e){var n=this.getClassNames(e),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&d(t,r),i&&d(t,i),o&&d(t,o)},e.prototype.reflowAndAddClass=function(t,e){t&&t.scrollTop,f(t,e)},e.prototype.render=function(){var t=r({},this.props);return delete t.classNames,s.default.createElement(u.default,r({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(s.default.Component));p.propTypes={},e.default=p,t.exports=e.default},function(t){t.exports={a:"@atlaskit/button",b:"8.0.0"}},function(t,e,n){var r=n(126),i=n(50);n(249)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(379),t.exports=n(19).Object.keys},function(t,e,n){var r=n(24),i=n(87).f;n(249)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){n(381);var r=n(19).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){t.exports={default:n(382),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(237)),i=o(n(383));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,n,o){null===e&&(e=Function.prototype);var a=(0,i.default)(e,n);if(void 0===a){var s=(0,r.default)(e);return null===s?void 0:t(s,n,o)}if("value"in a)return a.value;var u=a.get;return void 0!==u?u.call(o):void 0}},function(t,e,n){"use strict";var r=n(23),i=n(39);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){"use strict";var r=n(83),i=n(37),o=n(126),a=n(292),s=n(291),u=n(129),c=n(385),l=n(290);i(i.S+i.F*!n(285)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,h,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,y=void 0!==m,g=0,v=l(f);if(y&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==v||d==Array&&s(v))for(n=new d(e=u(f.length));e>g;g++)c(n,g,y?m(f[g],g):f[g]);else for(h=v.call(f),n=new d;!(i=h.next()).done;g++)c(n,g,y?a(h,m,[i.value,g],!0):i.value);return n.length=g,n}})},function(t,e,n){n(130),n(386),t.exports=n(19).Array.from},function(t,e,n){t.exports={default:n(387),__esModule:!0}},,function(t,e,n){"use strict";
/** @license React v16.4.0
 * react-is.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.timeout"):60113;function p(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case a:case u:case s:return t;default:switch(t=t&&t.$$typeof){case l:case f:case c:return t;default:return e}}case o:return e}}}e.typeOf=p,e.AsyncMode=h,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=f,e.Fragment=a,e.Profiler=u,e.Portal=o,e.StrictMode=s,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===h||t===u||t===s||t===d||"object"==typeof t&&null!==t&&(t.$$typeof===c||t.$$typeof===l||t.$$typeof===f)},e.isAsyncMode=function(t){return p(t)===h},e.isContextConsumer=function(t){return p(t)===l},e.isContextProvider=function(t){return p(t)===c},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return p(t)===f},e.isFragment=function(t){return p(t)===a},e.isProfiler=function(t){return p(t)===u},e.isPortal=function(t){return p(t)===o},e.isStrictMode=function(t){return p(t)===s}},function(t,e,n){"use strict";t.exports=n(390)},function(t,e,n){t.exports=function t(e){"use strict";var n=/^\0+/g,r=/[\0\r\f]/g,i=/: */g,o=/zoo|gra/,a=/([,: ])(transform)/g,s=/,+\s*(?![^(]*[)])/g,u=/ +\s*(?![^(]*[)])/g,c=/ *[\0] */g,l=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,f=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,d=/\W+/g,p=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,y=/:(read-only)/g,g=/\s+(?=[{\];=:>])/g,v=/([[}=:>])\s+/g,b=/(\{[^{]+?);(?=\})/g,w=/\s{2,}/g,E=/([^\(])(:+) */g,T=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,I=/-self|flex-/g,A=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,N="-webkit-",_="-moz-",O="-ms-",x=59,D=125,R=123,P=40,M=41,L=91,F=93,j=10,B=13,U=9,V=64,q=32,H=38,K=45,W=95,G=42,z=44,Q=58,X=39,Y=34,J=47,$=62,Z=43,tt=126,et=0,nt=12,rt=11,it=107,ot=109,at=115,st=112,ut=111,ct=169,lt=163,ht=100,ft=112,dt=1,pt=1,mt=0,yt=1,gt=1,vt=1,bt=0,wt=0,Et=0,Tt=[],St=[],kt=0,It=null,At=-2,Ct=-1,Nt=0,_t=1,Ot=2,xt=3,Dt=0,Rt=1,Pt="",Mt="",Lt="";function Ft(t,e,i,o,a){for(var s,u,l=0,h=0,f=0,d=0,g=0,v=0,b=0,w=0,T=0,k=0,I=0,A=0,C=0,W=0,bt=0,St=0,It=0,At=0,Ct=0,Bt=i.length,Kt=Bt-1,Wt="",Gt="",zt="",Qt="",Xt="",Yt="";bt<Bt;){if(b=i.charCodeAt(bt),bt===Kt&&h+d+f+l!==0&&(0!==h&&(b=h===J?j:J),d=f=l=0,Bt++,Kt++),h+d+f+l===0){if(bt===Kt&&(St>0&&(Gt=Gt.replace(r,"")),Gt.trim().length>0)){switch(b){case q:case U:case x:case B:case j:break;default:Gt+=i.charAt(bt)}b=x}if(1===It)switch(b){case R:case D:case x:case Y:case X:case P:case M:case z:It=0;case U:case B:case j:case q:break;default:for(It=0,Ct=bt,g=b,bt--,b=x;Ct<Bt;)switch(i.charCodeAt(Ct++)){case j:case B:case x:++bt,b=g,Ct=Bt;break;case Q:St>0&&(++bt,b=g);case R:Ct=Bt}}switch(b){case R:for(g=(Gt=Gt.trim()).charCodeAt(0),I=1,Ct=++bt;bt<Bt;){switch(b=i.charCodeAt(bt)){case R:I++;break;case D:I--}if(0===I)break;bt++}switch(zt=i.substring(Ct,bt),g===et&&(g=(Gt=Gt.replace(n,"").trim()).charCodeAt(0)),g){case V:switch(St>0&&(Gt=Gt.replace(r,"")),v=Gt.charCodeAt(1)){case ht:case ot:case at:case K:s=e;break;default:s=Tt}if(Ct=(zt=Ft(e,s,zt,v,a+1)).length,Et>0&&0===Ct&&(Ct=Gt.length),kt>0&&(s=jt(Tt,Gt,At),u=Ht(xt,zt,s,e,pt,dt,Ct,v,a,o),Gt=s.join(""),void 0!==u&&0===(Ct=(zt=u.trim()).length)&&(v=0,zt="")),Ct>0)switch(v){case at:Gt=Gt.replace(S,qt);case ht:case ot:case K:zt=Gt+"{"+zt+"}";break;case it:zt=(Gt=Gt.replace(p,"$1 $2"+(Rt>0?Pt:"")))+"{"+zt+"}",zt=1===gt||2===gt&&Vt("@"+zt,3)?"@"+N+zt+"@"+zt:"@"+zt;break;default:zt=Gt+zt,o===ft&&(Qt+=zt,zt="")}else zt="";break;default:zt=Ft(e,jt(e,Gt,At),zt,o,a+1)}Xt+=zt,A=0,It=0,W=0,St=0,At=0,C=0,Gt="",zt="",b=i.charCodeAt(++bt);break;case D:case x:if((Ct=(Gt=(St>0?Gt.replace(r,""):Gt).trim()).length)>1)switch(0===W&&((g=Gt.charCodeAt(0))===K||g>96&&g<123)&&(Ct=(Gt=Gt.replace(" ",":")).length),kt>0&&void 0!==(u=Ht(_t,Gt,e,t,pt,dt,Qt.length,o,a,o))&&0===(Ct=(Gt=u.trim()).length)&&(Gt="\0\0"),g=Gt.charCodeAt(0),v=Gt.charCodeAt(1),g+v){case et:break;case ct:case lt:Yt+=Gt+i.charAt(bt);break;default:if(Gt.charCodeAt(Ct-1)===Q)break;Qt+=Ut(Gt,g,v,Gt.charCodeAt(2))}A=0,It=0,W=0,St=0,At=0,Gt="",b=i.charCodeAt(++bt)}}switch(b){case B:case j:if(h+d+f+l+wt===0)switch(k){case M:case X:case Y:case V:case tt:case $:case G:case Z:case J:case K:case Q:case z:case x:case R:case D:break;default:W>0&&(It=1)}h===J?h=0:yt+A===0&&(St=1,Gt+="\0"),kt*Dt>0&&Ht(Nt,Gt,e,t,pt,dt,Qt.length,o,a,o),dt=1,pt++;break;case x:case D:if(h+d+f+l===0){dt++;break}default:switch(dt++,Wt=i.charAt(bt),b){case U:case q:if(d+l+h===0)switch(w){case z:case Q:case U:case q:Wt="";break;default:b!==q&&(Wt=" ")}break;case et:Wt="\\0";break;case nt:Wt="\\f";break;case rt:Wt="\\v";break;case H:d+h+l===0&&yt>0&&(At=1,St=1,Wt="\f"+Wt);break;case 108:if(d+h+l+mt===0&&W>0)switch(bt-W){case 2:w===st&&i.charCodeAt(bt-3)===Q&&(mt=w);case 8:T===ut&&(mt=T)}break;case Q:d+h+l===0&&(W=bt);break;case z:h+f+d+l===0&&(St=1,Wt+="\r");break;case Y:case X:0===h&&(d=d===b?0:0===d?b:d);break;case L:d+h+f===0&&l++;break;case F:d+h+f===0&&l--;break;case M:d+h+l===0&&f--;break;case P:if(d+h+l===0){if(0===A)switch(2*w+3*T){case 533:break;default:I=0,A=1}f++}break;case V:h+f+d+l+W+C===0&&(C=1);break;case G:case J:if(d+l+f>0)break;switch(h){case 0:switch(2*b+3*i.charCodeAt(bt+1)){case 235:h=J;break;case 220:Ct=bt,h=G}break;case G:b===J&&w===G&&(33===i.charCodeAt(Ct+2)&&(Qt+=i.substring(Ct,bt+1)),Wt="",h=0)}}if(0===h){if(yt+d+l+C===0&&o!==it&&b!==x)switch(b){case z:case tt:case $:case Z:case M:case P:if(0===A){switch(w){case U:case q:case j:case B:Wt+="\0";break;default:Wt="\0"+Wt+(b===z?"":"\0")}St=1}else switch(b){case P:A=++I;break;case M:0==(A=--I)&&(St=1,Wt+="\0")}break;case U:case q:switch(w){case et:case R:case D:case x:case z:case nt:case U:case q:case j:case B:break;default:0===A&&(St=1,Wt+="\0")}}Gt+=Wt,b!==q&&b!==U&&(k=b)}}T=w,w=b,bt++}if(Ct=Qt.length,Et>0&&0===Ct&&0===Xt.length&&0===e[0].length==0&&(o!==ot||1===e.length&&(yt>0?Mt:Lt)===e[0])&&(Ct=e.join(",").length+2),Ct>0){if(s=0===yt&&o!==it?function(t){for(var e,n,i=0,o=t.length,a=Array(o);i<o;++i){for(var s=t[i].split(c),u="",l=0,h=0,f=0,d=0,p=s.length;l<p;++l)if(!(0===(h=(n=s[l]).length)&&p>1)){if(f=u.charCodeAt(u.length-1),d=n.charCodeAt(0),e="",0!==l)switch(f){case G:case tt:case $:case Z:case q:case P:break;default:e=" "}switch(d){case H:n=e+Mt;case tt:case $:case Z:case q:case M:case P:break;case L:n=e+n+Mt;break;case Q:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(vt>0){n=e+n.substring(8,h-1);break}default:(l<1||s[l-1].length<1)&&(n=e+Mt+n)}break;case z:e="";default:n=h>1&&n.indexOf(":")>0?e+n.replace(E,"$1"+Mt+"$2"):e+n+Mt}u+=n}a[i]=u.replace(r,"").trim()}return a}(e):e,kt>0&&void 0!==(u=Ht(Ot,Qt,s,t,pt,dt,Ct,o,a,o))&&0===(Qt=u).length)return Yt+Qt+Xt;if(Qt=s.join(",")+"{"+Qt+"}",gt*mt!=0){switch(2!==gt||Vt(Qt,2)||(mt=0),mt){case ut:Qt=Qt.replace(y,":"+_+"$1")+Qt;break;case st:Qt=Qt.replace(m,"::"+N+"input-$1")+Qt.replace(m,"::"+_+"$1")+Qt.replace(m,":"+O+"input-$1")+Qt}mt=0}}return Yt+Qt+Xt}function jt(t,e,n){var r=e.trim().split(l),i=r,o=r.length,a=t.length;switch(a){case 0:case 1:for(var s=0,u=0===a?"":t[0]+" ";s<o;++s)i[s]=Bt(u,i[s],n,a).trim();break;default:s=0;var c=0;for(i=[];s<o;++s)for(var h=0;h<a;++h)i[c++]=Bt(t[h]+" ",r[s],n,a).trim()}return i}function Bt(t,e,n,r){var i=e,o=i.charCodeAt(0);switch(o<33&&(o=(i=i.trim()).charCodeAt(0)),o){case H:switch(yt+r){case 0:case 1:if(0===t.trim().length)break;default:return i.replace(h,"$1"+t.trim())}break;case Q:switch(i.charCodeAt(1)){case 103:if(vt>0&&yt>0)return i.replace(f,"$1").replace(h,"$1"+Lt);break;default:return t.trim()+i.replace(h,"$1"+t.trim())}default:if(n*yt>0&&i.indexOf("\f")>0)return i.replace(h,(t.charCodeAt(0)===Q?"":"$1")+t.trim())}return t+i}function Ut(t,e,n,r){var c,l=0,h=t+";",f=2*e+3*n+4*r;if(944===f)return function(t){var e=t.length,n=t.indexOf(":",9)+1,r=t.substring(0,n).trim(),i=t.substring(n,e-1).trim();switch(t.charCodeAt(9)*Rt){case 0:break;case K:if(110!==t.charCodeAt(10))break;default:var o=i.split((i="",s)),a=0;for(n=0,e=o.length;a<e;n=0,++a){for(var c=o[a],l=c.split(u);c=l[n];){var h=c.charCodeAt(0);if(1===Rt&&(h>V&&h<90||h>96&&h<123||h===W||h===K&&c.charCodeAt(1)!==K))switch(isNaN(parseFloat(c))+(-1!==c.indexOf("("))){case 1:switch(c){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:c+=Pt}}l[n++]=c}i+=(0===a?"":",")+l.join(" ")}}return i=r+i+";",1===gt||2===gt&&Vt(i,1)?N+i+i:i}(h);if(0===gt||2===gt&&!Vt(h,1))return h;switch(f){case 1015:return 97===h.charCodeAt(10)?N+h+h:h;case 951:return 116===h.charCodeAt(3)?N+h+h:h;case 963:return 110===h.charCodeAt(5)?N+h+h:h;case 1009:if(100!==h.charCodeAt(4))break;case 969:case 942:return N+h+h;case 978:return N+h+_+h+h;case 1019:case 983:return N+h+_+h+O+h+h;case 883:return h.charCodeAt(8)===K?N+h+h:h;case 932:if(h.charCodeAt(4)===K)switch(h.charCodeAt(5)){case 103:return N+"box-"+h.replace("-grow","")+N+h+O+h.replace("grow","positive")+h;case 115:return N+h+O+h.replace("shrink","negative")+h;case 98:return N+h+O+h.replace("basis","preferred-size")+h}return N+h+O+h+h;case 964:return N+h+O+"flex-"+h+h;case 1023:if(99!==h.charCodeAt(8))break;return c=h.substring(h.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),N+"box-pack"+c+N+h+O+"flex-pack"+c+h;case 1005:return o.test(h)?h.replace(i,":"+N)+h.replace(i,":"+_)+h:h;case 1e3:switch(l=(c=h.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(l)){case 226:c=h.replace(T,"tb");break;case 232:c=h.replace(T,"tb-rl");break;case 220:c=h.replace(T,"lr");break;default:return h}return N+h+O+c+h;case 1017:if(-1===h.indexOf("sticky",9))return h;case 975:switch(l=(h=t).length-10,f=(c=(33===h.charCodeAt(l)?h.substring(0,l):h).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(c.charCodeAt(8)<111)break;case 115:h=h.replace(c,N+c)+";"+h;break;case 207:case 102:h=h.replace(c,N+(f>102?"inline-":"")+"box")+";"+h.replace(c,N+c)+";"+h.replace(c,O+c+"box")+";"+h}return h+";";case 938:if(h.charCodeAt(5)===K)switch(h.charCodeAt(6)){case 105:return c=h.replace("-items",""),N+h+N+"box-"+c+O+"flex-"+c+h;case 115:return N+h+O+"flex-item-"+h.replace(I,"")+h;default:return N+h+O+"flex-line-pack"+h.replace("align-content","").replace(I,"")+h}break;case 973:case 989:if(h.charCodeAt(3)!==K||122===h.charCodeAt(4))break;case 931:case 953:if(!0===C.test(t))return 115===(c=t.substring(t.indexOf(":")+1)).charCodeAt(0)?Ut(t.replace("stretch","fill-available"),e,n,r).replace(":fill-available",":stretch"):h.replace(c,N+c)+h.replace(c,_+c.replace("fill-",""))+h;break;case 962:if(h=N+h+(102===h.charCodeAt(5)?O+h:"")+h,n+r===211&&105===h.charCodeAt(13)&&h.indexOf("transform",10)>0)return h.substring(0,h.indexOf(";",27)+1).replace(a,"$1"+N+"$2")+h}return h}function Vt(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10),i=t.substring(n+1,t.length-1);return It(2!==e?r:r.replace(A,"$1"),i,e)}function qt(t,e){var n=Ut(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(k," or ($1)").substring(4):"("+e+")"}function Ht(t,e,n,r,i,o,a,s,u,c){for(var l,h=0,f=e;h<kt;++h)switch(l=St[h].call(Wt,t,f,n,r,i,o,a,s,u,c)){case void 0:case!1:case!0:case null:break;default:f=l}switch(f){case void 0:case!1:case!0:case null:case e:break;default:return f}}function Kt(t){for(var e in t){var n=t[e];switch(e){case"keyframe":Rt=0|n;break;case"global":vt=0|n;break;case"cascade":yt=0|n;break;case"compress":bt=0|n;break;case"semicolon":wt=0|n;break;case"preserve":Et=0|n;break;case"prefix":It=null,n?"function"!=typeof n?gt=1:(gt=2,It=n):gt=0}}return Kt}function Wt(e,n){if(void 0!==this&&this.constructor===Wt)return t(e);var i=e,o=i.charCodeAt(0);o<33&&(o=(i=i.trim()).charCodeAt(0)),Rt>0&&(Pt=i.replace(d,o===L?"":"-")),o=1,1===yt?Lt=i:Mt=i;var a,s=[Lt];kt>0&&void 0!==(a=Ht(Ct,n,s,s,pt,dt,0,0,0,0))&&"string"==typeof a&&(n=a);var u=Ft(Tt,s,n,0,0);return kt>0&&void 0!==(a=Ht(At,u,s,s,pt,dt,u.length,0,0,0))&&"string"!=typeof(u=a)&&(o=0),Pt="",Lt="",Mt="",mt=0,pt=1,dt=1,bt*o==0?u:u.replace(r,"").replace(g,"").replace(v,"$1").replace(b,"$1").replace(w," ")}return Wt.use=function t(e){switch(e){case void 0:case null:kt=St.length=0;break;default:switch(e.constructor){case Array:for(var n=0,r=e.length;n<r;++n)t(e[n]);break;case Function:St[kt++]=e;break;case Boolean:Dt=0|!!e}}return t},Wt.set=Kt,void 0!==e&&Kt(e),Wt}(null)},function(t,e,n){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},function(t,e,n){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(393);function i(t){return!0===r(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,n;return!1!==i(t)&&"function"==typeof(e=t.constructor)&&!1!==i(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){var r=n(22),i=n(132).onFreeze;n(249)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){n(396),t.exports=n(19).Object.freeze},function(t,e,n){t.exports={default:n(397),__esModule:!0}},function(t,e,n){var r=n(37);r(r.S+r.F*!n(21),"Object",{defineProperties:n(137)})},function(t,e,n){n(399);var r=n(19).Object;t.exports=function(t,e){return r.defineProperties(t,e)}},function(t,e,n){t.exports={default:n(400),__esModule:!0}},function(t,e,n){var r=n(37);r(r.S+r.F*!n(21),"Object",{defineProperty:n(23).f})},function(t,e,n){n(402);var r=n(19).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(126),i=n(134);n(249)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){n(404),t.exports=n(19).Object.getPrototypeOf},function(t,e,n){"use strict";var r=n(50),i=n(88),o=n(52),a=n(126),s=n(136),u=Object.assign;t.exports=!u||n(38)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=i.f,h=o.f;u>c;)for(var f,d=s(arguments[c++]),p=l?r(d).concat(l(d)):r(d),m=p.length,y=0;m>y;)h.call(d,f=p[y++])&&(n[f]=d[f]);return n}:u},function(t,e,n){var r=n(37);r(r.S+r.F,"Object",{assign:n(406)})},function(t,e,n){n(407),t.exports=n(19).Object.assign},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=a(n(1)),o=a(n(245));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return i.default.createElement(o.default,r({viewBox:"0 0 40 40"},t),i.default.createElement("g",null,i.default.createElement("path",{d:"m26.3 21.4q0 0.3-0.2 0.5l-10.4 10.4q-0.3 0.3-0.6 0.3t-0.5-0.3l-1.1-1.1q-0.2-0.2-0.2-0.5t0.2-0.5l8.8-8.8-8.8-8.7q-0.2-0.3-0.2-0.6t0.2-0.5l1.1-1.1q0.3-0.2 0.5-0.2t0.6 0.2l10.4 10.4q0.2 0.2 0.2 0.5z"})))},t.exports=e.default}])]);
//# sourceMappingURL=5-c344a440c01021eff245.js.map